(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{"6MjR":function(module,exports,e){e("Ask/")},"Ask/":function(module,exports,e){},NehD:function(module,exports,e){e("tQV5")},QsJ7:function(module,e,n){"use strict";var t=n("q1tI"),a=n("qhky"),r=n("2fCs"),i=n("ZLWr"),o=n.n(i);e.a=function(e){var n=e.pageTitle,i=Object(r.b)().courseName,c=o()("#{name} - #{pageTitle} | Coursera",{name:i,pageTitle:n});return t.createElement(a.a,null,t.createElement("title",null,c))}},WuNL:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPartnersLogoByPartnerId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Partner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:105}};e.loc.source={body:"query GetPartnersLogoByPartnerId($id: ID!) {\n  Partner {\n    queryById(id: $id) {\n      logo\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}e.definitions.forEach((function(e){if(e.name){var t=new Set;!function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}(e,t),n[e.name.value]=t}})),module.exports=e,module.exports.GetPartnersLogoByPartnerId=function(e,t){var a={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var r=n[t]||new Set,i=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){i.has(e)||(i.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return i.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}(e,"GetPartnersLogoByPartnerId")},Zn7F:function(module,e,n){"use strict";var t=n("pVnL"),a=n.n(t),r=n("cDf5"),i=n.n(r),o=n("VbXa"),c=n.n(o),l=n("q1tI"),s=n("TSYQ"),d=n.n(s),u=n("oYk5"),m=n.n(u),p=n("17x9"),g=n.n(p),v=n("IDuc"),f=n("9A5E"),h=(n("pUK/"),40),Content=function(e){var n=e.children,t=e.forwardedRef,a=e.id,r=e.tabIndex;return(l.createElement("div",{className:"content-inner",ref:t,id:a,tabIndex:r},n))},b=function(e){function TogglableContent(n,t){var a;return(a=e.call(this,n,t)||this).onResize=function(){var e=a.shouldComponentExpand();a.setState((function(){return{alwaysExpand:e}}))},a.shouldComponentExpand=function(){var e=m()(a.contentInner),n=a.props,t=n.collapsedHeight,r=n.useSmartCollapse;return a.origContentHeight=e.height(),r?a.origContentHeight<=t+h:a.origContentHeight<=t},a.splitContent=function(e){var n=e.split(/\r\n|\r|\n/)[0];return{firstParagraphContent:n,restParagraphContent:e.replace("".concat(n),"").trim()}},a.renderDefaultContentChild=function(){var e=a.props,n=e.children,t=e.isContentMarkdown,r=e.childrenWrapperTag;return t?n:l.createElement(r,null,n)},a.renderSplitContent=function(e){var n=a.state,t=n.collapsed,r=n.alwaysExpand,i=a.splitContent(e),o=i.firstParagraphContent,c=i.restParagraphContent;return l.createElement(Content,{forwardedRef:function(e){a.contentInner=e},id:a.props.id},l.createElement("p",null,o),c&&l.createElement("p",{"aria-hidden":t&&!r},c))},a.renderContent=function(){var e=a.props,n=e.children,t=e.isContentMarkdown;return"string"!=typeof n||t?l.createElement(Content,{forwardedRef:function(e){a.contentInner=e}},a.renderDefaultContentChild()):a.renderSplitContent(n)},a.state={collapsed:n.isCollapsed,alwaysExpand:!1,hasMounted:!1},a.origContentHeight=0,a}c()(TogglableContent,e);var n=TogglableContent.prototype;return n.componentDidMount=function(){var e=this.shouldComponentExpand();this.setState((function(){return{hasMounted:!0,alwaysExpand:e}})),window.addEventListener("resize",this.onResize)},n.componentWillReceiveProps=function(e){this.props.isCollapsed!==e.isCollapsed&&this.setState({collapsed:e.isCollapsed})},n.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize)},n.toggleCollapse=function(e){var n=this;e&&e.preventDefault();var t=this.props,a=t.disableCollapseScroll,r=t.addCollapseAnimation,o=t.collapsedHeight,c=t.id,l=t.tabIndex,s=this.state.collapsed,d=m()(this.content);if(s){var u,p;if(c&&l&&l<0&&void 0!==("undefined"==typeof document?"undefined":i()(document)))null===(u=document.getElementById(c))||void 0===u||u.setAttribute("tabindex","0"),null===(p=document.getElementById(c))||void 0===p||p.focus({preventScroll:!0});d.animate({height:"".concat(s?this.origContentHeight:o,"px")},300,(function(){return n.setState({collapsed:!s})}))}else{var g;if(c&&void 0!==("undefined"==typeof document?"undefined":i()(document)))null===(g=document.getElementById(c))||void 0===g||g.setAttribute("tabindex","-1");a||window.scrollTo(0,d.offset().top),r&&d.animate({height:"".concat(s?this.origContentHeight:o,"px")},300),this.setState({collapsed:!s})}},n.render=function(){var e=this,n=this.props,t=n.trackingName,r=n.trackingData,i=n.hideShowLessBtn,o=n.className,c=n.renderToggleButtonContentFunction,s=n.toggleButtonClassName,u=n.toggleButtonType,m=n.collapsedHeight,p=n.ariaHidden,g=n.onToggleClick,h=this.state,b=h.collapsed,k=h.alwaysExpand,y=h.hasMounted,I=this.context.getStore,O=I&&I("ApplicationStore"),C=O&&O.getUserAgent(),x=C&&"Safari"===C.browser.name,N=d()("rc-TogglableContent",o,{collapsed:b,"is-safari":x}),E="button"===u?v.a:f.a,j=Object.assign({},"link"===u?{href:"#"}:{},{className:d()("toggle-".concat(u),"link"===u&&"primary","button"===u&&"cdp-view-all-button",{passive:"button"===u&&"cdp-view-all-button"}),onClick:function(n){null==g||g({collapsed:b}),e.toggleCollapse(n)},trackingName:b?"expand_".concat(t):"collapse_".concat(t)}),S={height:k||!b?"auto":"".concat(m,"px")},M=c({collapsed:b}),T=!(i&&!b)&&y&&!k;return l.createElement("div",{className:N},l.createElement("div",{className:"content",ref:function(n){e.content=n},style:S,"aria-hidden":null!=p?p:b},this.renderContent()),T&&l.createElement("div",{className:"toggle-button-wrapper"},l.createElement(E,a()({},j,{"aria-hidden":!M,className:s,tabIndex:M?"0":"-1",data:r}),M)))},TogglableContent}(l.Component);b.propTypes={children:g.a.node.isRequired,className:g.a.string,collapsedHeight:g.a.number,addCollapseAnimation:g.a.bool,disableCollapseScroll:g.a.bool,isCollapsed:g.a.bool,toggleButtonClassName:g.a.string,hideShowLessBtn:g.a.bool,renderToggleButtonContentFunction:g.a.func.isRequired,toggleButtonType:g.a.oneOf(["button","link"]),trackingName:g.a.string.isRequired,trackingData:g.a.object,childrenWrapperTag:g.a.string,isContentMarkdown:g.a.bool,useSmartCollapse:g.a.bool,label:g.a.string,ariaHidden:g.a.bool},b.contextTypes={getStore:g.a.func.isRequired},b.defaultProps={collapsedHeight:250,toggleButtonType:"button",isCollapsed:!0,childrenWrapperTag:"p",isContentMarkdown:!1,hideShowLessBtn:!1},e.a=b},fwXy:function(module,e,n){"use strict";function truncateString(e,n){for(var t=e.split(" "),a=0,r=0,i=t.length,o=[];r<i&&a<n;){var c=t[r];if(!(c.length+a<n))break;o.push(c),a+=c.length+1,r+=1}return o.join(" ")+"..."}n.d(e,"a",(function(){return truncateString}))},"h+p0":function(module,exports,e){},iTn7:function(module,e,n){"use strict";n.r(e);var t,a=n("VkAN"),r=n.n(a),i=n("J4zp"),o=n.n(i),c=n("OhL7"),l=n("q1tI"),s=n("8Hdl"),d=n("VbXa"),u=n.n(d),m=n("F/us"),p=n.n(m),g=n("8cuT"),v=n("HOoY"),f=n("ZJgU");function Divider(e){var n=e.className,a=void 0===n?"":n,i=Object(c.c)(t||(t=r()(["\n    border-bottom: 1px solid var(--cds-color-grey-50);\n    width: 100%;\n  "])));return Object(c.d)("div",{className:a,css:i})}var h,b,k,y,I,O=n("cVIm"),C=n("BVC1"),x=n("6/Gu"),N=n("Fmrb"),E=n.n(N),j=C.a.join(O.a.url.assets,"images/course-inbox/no_messages.svg"),components_EmptyInboxMessage=function(){return Object(c.d)(x.a,{container:!0,item:!0,xs:12,css:Object(c.c)(h||(h=r()(["\n        justify-content: center;\n      "])))},Object(c.d)(s.a,{variant:"h2",className:"rc-EmptyInboxMessage"},b||(b=Object(c.d)("div",{className:"imageContainer"},Object(c.d)("img",{src:j,alt:"","aria-hidden":"true"}))),E()("There are no messages yet.")))},S=n("OYIB"),M=n("nx5e"),T=n("XKX7"),w=n("O5JJ"),P=n("wd/R"),D=n.n(P),R=n("S+eF"),A=n.n(R),F=n("MnCE"),B=n("v6sC"),L=n("38OI"),V=n("kgYC"),q=n("FdHa"),U=n("l1rq"),H=n("Who7"),G=n("QILm"),z=n.n(G),J=n("dYbo"),W=n("+H68"),Y=n("fwXy"),Q=["message"],Z=250,X=350;function CollapsibleMessage(e){var n,t,a=e.message,i=void 0===a?"":a,s=z()(e,Q),d=Object(l.useState)(!0),u=o()(d,2),m=u[0],p=u[1],g=m?E()("Show More"):E()("Show Less"),v=i.length>X,h=m&&v?(n=i,t=Object(Y.a)(n.replace(/<p>(.*?)<\/p>/g,"$1"),Z),t="<p>".concat(t,"</p>")):i,b=m?k||(k=Object(c.d)(J.a,{size:"small"})):y||(y=Object(c.d)(W.a,{size:"small"}));return Object(c.d)("span",s,Object(c.d)("div",{css:Object(c.c)(I||(I=r()(["\n          margin: 0 0 var(--cds-spacing-100) 0;\n\n          ","\n          p {\n            ","\n          }\n        "])),H.c.bodyPrimary,H.c.bodyPrimary)},Object(c.d)(S.a,{html:h,enableTranslation:!0})),v&&Object(c.d)(f.a,{onClick:function(){return p(!m)},icon:b,iconPosition:"before",type:"button",variant:"ghost",size:"small"},g))}var K=n("pVnL"),ee=n.n(K),ne=n("TSYQ"),te=n.n(ne),ae=n("+VU/"),re=n("JJfJ"),ie=n("TOZ3"),oe=n("3tO9"),ce=n.n(oe),le=n("cDf5"),se=n.n(le),de=n("IujW"),ue=n.n(de),me=n("9Zmq"),pe=n("mHyk"),ge=n("xt11"),ve=n("9A5E"),fe=(n("6MjR"),["source","className","trackingName","linkTarget","onLinkClick","buttonTrackingNameV3","trackingSection","trackingSubSection","trackingIndex","trackingProductId","rel","showSvgCheck","renderers"]),Markdown_Heading=function(e){var n=e.children,t=e.level;if(!n)return null;var a=n[0].toString().toLowerCase().replace(/[^a-zA-Z0-9- ]/g,"").replace(/ +/g,"-");switch(t){case 1:return l.createElement("h1",{id:a},n);case 2:return l.createElement("h2",{id:a},n);case 3:return l.createElement("h3",{id:a},n);case 4:return l.createElement("h4",{id:a},n);case 5:return l.createElement("h5",{id:a},n);case 6:default:return l.createElement("h6",{id:a},n)}},Markdown_renderList=function(e,n){var t=e.children,a=e.ordered;if(!t||!t.length)return null;var r=a?"ol":"ul";return(l.createElement(r,{role:"list"},t.map((function(e){return function(e,n){var t,a,r,i=e.children;if(!i||!i.length)return null;var o,c=i[0];return"object"===se()(c)&&null!=c&&null!==(t=c.props)&&void 0!==t&&null!==(a=t.children)&&void 0!==a&&a[0]?o=c.props.children[0]:"object"===se()(c)&&null!=c&&null!==(r=c.props)&&void 0!==r&&r.value?o=c.props.value:"string"==typeof c&&(o=c),l.createElement("li",{role:"listitem",key:o},n&&l.createElement(me.a,{className:"checkIcon",suppressTitle:!0,width:"24px",height:"24px",style:{left:"0",marginRight:"1rem",marginTop:"-1px",position:"absolute",top:"0",fill:"var(--cds-color-green-600)"}}),i)}(e.props,n)}))))};var he,be,ke,ye,Ie,Oe,Ce,xe,Ne,Ee,je,Se,components_Markdown=function(e){var n=e.source,t=e.className,a=e.trackingName,r=e.linkTarget,i=void 0===r?"_blank":r,o=e.onLinkClick,c=e.buttonTrackingNameV3,s=e.trackingSection,d=e.trackingSubSection,u=e.trackingIndex,m=e.trackingProductId,p=e.rel,g=e.showSvgCheck,v=e.renderers,f=z()(e,fe),h=Object(pe.e)();if(!n)return null;var b=ce()({link:function(e){var n=e.href,t="string"==typeof n&&Object(ge.m)(n)?"external":"internal";return l.createElement(ve.a,ee()({},e,{trackingName:a||"link_in_contentful",data:{href:n},onClick:function(){c&&h("click_button",ce()(ce()({button:{name:c,linkURL:n,linkType:t}},s&&{pageSection:ce()(ce()({sectionName:s},d&&{subsectionName:d}),u&&{subindex:u})}),m&&{product:{id:m}})),o&&o()},rel:p}))},heading:Markdown_Heading,list:function(e){return Markdown_renderList(e,g)}},v);return(l.createElement(ue.a,ee()({},f,{className:te()("rc-Markdown styled",t),source:n,linkTarget:i,renderers:b})))},Me=n("ROEb"),Te=n("zMc8"),we=n("xJyF"),Pe=Object(Te.a)(he||(he=r()(["#graphql\n  query LearnerIncentivePromotion($id: Int!) {\n    learnerIncentiveCollection(where: { id: $id }, limit: 1) {\n      items {\n        xdpMerchandisingImage {\n          url\n        }\n        xdpMerchandisingTitle\n        xdpMerchandisingText\n        redeemModalLogo {\n          url\n        }\n        redeemModalTitle\n        redeemModalDetails\n        redeemModalRedeemButtonText\n        redeemModalFinePrint\n      }\n    }\n  }\n"]))),getSelectedFields=function(e,n){var t=e.redeemModalLogo,a=e.redeemModalTitle,r=e.redeemModalDetails,i=e.redeemModalRedeemButtonText,o=e.redeemModalFinePrint,c=e.xdpMerchandisingTitle,l=e.xdpMerchandisingText,s=e.xdpMerchandisingImage;return"modal"===n?{redeemModalLogo:t,redeemModalTitle:a,redeemModalDetails:r,redeemModalRedeemButtonText:i,redeemModalFinePrint:o}:{xdpMerchandisingTitle:c,xdpMerchandisingText:l,xdpMerchandisingImage:s}},De=n("+TN3"),Re=n("WuNL"),Ae=n.n(Re),data_fetching_usePartnerLogo=function(e){var n,t,a=Object(De.b)(Ae.a,{variables:{id:e?String(e):""},context:{clientName:"gatewayGql"},skip:!e,ssr:!1}).data;return null==a?void 0:null===(n=a.Partner)||void 0===n?void 0:null===(t=n.queryById)||void 0===t?void 0:t.logo},Fe=n("Zn7F"),Be=n("sOkY"),Le=n("JPjw"),Ve=(n("NehD"),function(){return l.createElement(U.a,{component:"span",variant:"bodySecondary",className:"show-more"},E()("show more"))}),_e=(be="modal",Object(we.a)(Pe,{options:function(e){var n=e.learnerIncentives,t=e.learnerIncentive,a=-1;return t&&(a=t.id),n&&n.length>0&&(a=n[0].id),{variables:{id:Number(a)},context:{clientName:"contentfulGql"},skip:-1===a}},props:function(e){var n,t=e.data,a=null==t?void 0:null===(n=t.learnerIncentiveCollection)||void 0===n?void 0:n.items[0];return a?{learnerIncentivePromotionData:getSelectedFields(a,be)}:(Me.a.error("Missing learner incentive Contentful data for this Specialization."),{})}}))((function(e){var n,t,a,r,i=e.onClose,o=e.isOpen,c=e.voucher,s=e.learnerIncentive,d=e.learnerIncentivePromotionData,u=data_fetching_usePartnerLogo(null==s?void 0:s.partnerId);if(!c)return null;var m=null!==(n=null==d?void 0:null===(t=d.redeemModalLogo)||void 0===t?void 0:t.url)&&void 0!==n?n:u,p=c.partnerIncentiveId,g=c.externalPartnerVoucher,v=c.partnerIncentiveInternalPromotion,h=c.urlReward,b=null!=g?g:{},k=b.voucherCode,y=b.expiredAtTime,I=null!==(a=null!==(r=null==g?void 0:g.redemptionLink)&&void 0!==r?r:null==v?void 0:v.redemptionLink)&&void 0!==a?a:null==h?void 0:h.redemptionLink,O="PARTNER_INCENTIVE_VOUCHER_FETCH_TYPE_STORED"===(null==s?void 0:s.fetchType),C=O&&Object(re.A)(y).isBefore(Object(re.A)()),x=Object(re.x)(null!=y?y:Date.now(),re.m),N=null!=d?d:{},j=N.redeemModalDetails,S=N.redeemModalFinePrint,M=N.redeemModalTitle,T=N.redeemModalRedeemButtonText;return l.createElement(Be.a,{trackingName:"learner_incentives",trackClicks:!1,withVisibilityTracking:!0,data:{partnerIncentiveId:p}},l.createElement(Le.a,{onRequestClose:i,isOpen:o},l.createElement(ie.b,{rootClassName:"rc-IncentiveModal",alignItems:"center",flexDirection:"column",justifyContent:"center"},m&&l.createElement(ae.a,{role:"presentation",alt:E()("Partner logo"),maxWidth:160,maxHeight:34,src:m,className:"logo"}),l.createElement(U.a,{component:"p",style:{marginBottom:32}},l.createElement(components_Markdown,{source:M,className:"modal-title"})),k&&l.createElement(ie.b,{flexDirection:"column",justifyContent:"center",rootClassName:"voucher-area"},l.createElement(U.a,{component:"p"},l.createElement("strong",null,E()("Voucher code"))),l.createElement(U.a,{component:"span",className:te()("voucher",{expired:C})},k),O&&l.createElement(U.a,{component:"span",className:te()("expires",{expired:C})},C?E()("Your voucher code expired on #{expiredAtTimeStr}",{expiredAtTimeStr:x}):E()("Expires #{expiredAtTimeStr}",{expiredAtTimeStr:x}))),!C&&j&&l.createElement("div",{className:"redeem"},l.createElement(components_Markdown,{source:j,className:"details-markdown"})),!C&&T&&l.createElement(f.a,{type:"button",component:ve.b,trackingName:"learner_incentive_redeem",data:{partnerIncentiveId:p},target:"_blank",href:I,className:"cta",variant:"primary"},T),l.createElement(Fe.a,{renderToggleButtonContentFunction:Ve,collapsedHeight:100,hideShowLessBtn:!0,trackingName:"incentive_modal_show_terms_and_conditions"},l.createElement(components_Markdown,{source:S,className:"terms-and-conditions"})))))})),qe=n("EVlj"),Ue=["learnerIncentive","voucher","learnerIncentivePromotionData"],cds_withLearnerIncentiveModal=function(e){return function(n){var t,a=l.useState(!1),r=o()(a,2),i=r[0],c=r[1],s=n.learnerIncentive,d=n.voucher,u=n.learnerIncentivePromotionData,m=z()(n,Ue),p=m.data,g=null!=u&&null!==(t=u.xdpMerchandisingImage)&&void 0!==t&&t.url?u.xdpMerchandisingImage.url:qe.d;return l.createElement(l.Fragment,null,l.createElement(e,ee()({},m,{imageUrlOverride:g,onClick:function(e){e.preventDefault(),c(!0)}})),i&&(null==p?void 0:p.productId)&&l.createElement(_e,{onClose:function(){return c(!1)},isOpen:i,learnerIncentive:s,voucher:d,data:p}))}},He=n("sQ/U"),Ge=n("UYTu"),ze=Object(Ge.a)(ke||(ke=r()(['\n  query FindByUserAndProduct($input: FindByUserAndProductVariables!) {\n    FindByUserAndProduct(input: $input)\n      @rest(\n        type: "FindByUserAndProduct"\n        path: "grpc/partnerincentives/v1/PartnerIncentiveUserStatusAPI/FindByUserAndProduct"\n        method: "POST"\n      ) {\n      elements\n    }\n  }\n']))),Je=Object(Ge.a)(ye||(ye=r()(['\n  query GetPartnerIncentive($input: GetPartnerIncentiveVariables!) {\n    GetPartnerIncentive(input: $input)\n      @rest(\n        type: "GetPartnerIncentive"\n        path: "grpc/partnerincentives/v1/PartnerIncentivesAPI/GetPartnerIncentive"\n        method: "POST"\n      ) {\n      partnerIncentive\n    }\n  }\n']))),We=Object(F.b)(Object(we.a)(ze,{options:function(e){var n,t=e.data;return{variables:{input:{productId:(null==t?void 0:t.productId)||"",userId:null===(n=He.a.get())||void 0===n?void 0:n.id}}}},props:function(e){var n,t,a=e.data;return{voucher:null==a?void 0:null===(n=a.FindByUserAndProduct)||void 0===n?void 0:null===(t=n.elements)||void 0===t?void 0:t[0]}}}),Object(we.a)(Je,{skip:function(e){var n=e.voucher;return!(null!=n&&n.partnerIncentiveId)},options:function(e){var n;return{variables:{input:{id:Number(null===(n=e.voucher)||void 0===n?void 0:n.partnerIncentiveId)}}}},props:function(e){var n,t=e.data;return{learnerIncentive:null==t?void 0:null===(n=t.GetPartnerIncentive)||void 0===n?void 0:n.partnerIncentive}}}),Object(we.a)(Pe,{options:function(e){var n=e.learnerIncentive;return{variables:{id:Number(null==n?void 0:n.id)},context:{clientName:"contentfulGql"}}},props:function(e){var n,t=e.data,a=null==t?void 0:null===(n=t.learnerIncentiveCollection)||void 0===n?void 0:n.items[0];return a?{learnerIncentivePromotionData:a}:(Me.a.error("Missing learner incentive Contentful data for this product."),{})}})),Ye=Object(B.a)("",{type:"rest"}),Qe={width:100,auto:"format,compress"};function ThemeRenderProp(e){return(0,e.children)({theme:Object(V.a)()})}var $e,Ze,Xe,Ke=function(e){function InboxNotification(){return e.apply(this,arguments)||this}u()(InboxNotification,e);var n=InboxNotification.prototype;return n.componentDidMount=function(){var e=this.props,n=e.id;e.isRead||A()(Ye.post("/api/siteMessages.v1?action=markAsRead&id="+n))},n.render=function(){var e,n,t=this,a=this.props,i=a.createdAt,o=a.data,l=a.campaignId,d=a.imageUrlOverride,u=a.onClick,m=null!=d?d:null==o?void 0:o.imageUrl,p=m?L.a.processImage(m,Qe):qe.d,g={background:"center / contain no-repeat url(".concat(p,")")},v=(null==o?void 0:o.message)||"";return Object(c.d)(ThemeRenderProp,null,(function(a){var d;a.theme;return Object(c.d)(x.a,{container:!0,css:Object(c.c)(Ie||(Ie=r()(["\n              padding: var(--cds-spacing-300) 0;\n            "])))},Object(c.d)(x.a,{item:!0,xs:2,md:1,css:Object(c.c)(Oe||(Oe=r()(["\n                padding: 0 var(--cds-spacing-300) 0 0;\n              "])))},Object(c.d)("div",{css:Object(c.c)(Ce||(Ce=r()(["\n                  width: 48px;\n                  height: 48px;\n                  display: inline-block;\n                  background-size: contain;\n                "]))),style:g,className:"notif-img"})),Object(c.d)(x.a,{item:!0,xs:10},Object(c.d)(x.a,{container:!0,css:Object(c.c)(xe||(xe=r()(["\n                  padding: 0 0 var(--cds-spacing-200) 0;\n                "])))},Object(c.d)(x.a,{item:!0,xs:12,sm:10},Object(c.d)(s.a,{variant:"h2semibold",className:"subject"},null==o?void 0:o.subject)),Object(c.d)(x.a,{item:!0,xs:12,sm:2,css:Object(c.c)(Ne||(Ne=r()(["\n                    "," {\n                      text-align: right;\n                    }\n                  "])),q.a.up("sm"))},Object(c.d)(U.a,{component:"p",color:"supportText"},D()(i).fromNow()))),Object(c.d)(x.a,{container:!0,item:!0,css:Object(c.c)(Ee||(Ee=r()(["\n                  p {\n                    ","\n                  }\n                "])),H.c.bodyPrimary)},t.props.truncate?e||(e=Object(c.d)(CollapsibleMessage,{message:v})):n||(n=Object(c.d)(S.a,{html:v,enableTranslation:!0}))),Object(c.d)(x.a,{spacing:16,container:!0,item:!0},je||(je=Object(c.d)(x.a,{item:!0,xs:12},Object(c.d)(M.a,null))),((null==o?void 0:o.actionUrl)||u)&&(null==o?void 0:o.actionText)&&Object(c.d)(x.a,{item:!0},Object(c.d)(f.a,{type:"a",variant:"secondary",size:"small",component:ve.b,href:null!==(d=null==o?void 0:o.actionUrl)&&void 0!==d?d:"#",onClick:u,trackingName:"course_inbox_".concat(l),role:"link"},null==o?void 0:o.actionText)),Se||(Se=Object(c.d)(x.a,{item:!0},Object(c.d)(T.a,{eventingSectionName:"instructor_message"}))))))}))},InboxNotification}(l.Component),en=Object(F.a)((function(e){var n=e.data;return"PartnerIncentiveMessage"===(null==n?void 0:n.messageType)}),Object(F.b)(We,cds_withLearnerIncentiveModal))((function(e){return Object(c.d)(w.b,null,Object(c.d)(Ke,e))})),nn=n("PStO"),tn=n("W8MJ"),an=n.n(tn),rn=n("U+yc"),on=n.n(rn),cn=n("aGUn"),ln=function(e){function SiteMessagesV1NaptimeResource(n){return e.call(this,n)||this}return u()(SiteMessagesV1NaptimeResource,e),SiteMessagesV1NaptimeResource}(n("HlCP").a);ln.RESOURCE_NAME="siteMessages.v1";var sn,dn,un,mn,pn,gn=($e=Object(cn.b)("data"),(Xe=function(e){function SiteMessage(){return e.apply(this,arguments)||this}return u()(SiteMessage,e),an()(SiteMessage,[{key:"parsedData",get:function(){try{return JSON.parse(this.data)}catch(e){return null}}}]),SiteMessage}(ln)).RESOURCE_NAME="siteMessages.v1",Ze=Xe,on()(Ze.prototype,"parsedData",[$e],Object.getOwnPropertyDescriptor(Ze.prototype,"parsedData"),Ze.prototype),Ze),vn=n("IDuc"),fn=function(e){function InboxNotificationsList(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).isValidMessage=function(e){return!!e.parsedData},n.renderMessage=function(e,n){return l.createElement(en,{key:e.id,id:e.id,createdAt:e.createdAt,data:e.parsedData,truncate:n,isRead:e.isRead,campaignId:e.campaignId})},n.renderFull=function(e){return n.renderMessage(e,!1)},n}return u()(InboxNotificationsList,e),InboxNotificationsList.prototype.render=function(){var e=this,n=this.props,t=n.naptime,a=n.messages,r=n.getMoreMessages,i=t.getPagingFor("messages"),o=p()(a).filter(this.isValidMessage),c=o.length,s=a.length-c,d=c<i.total-s,u=o.splice(0,1);return l.createElement(Be.a,{trackingName:"render_page",className:"rc-NotificationsList",trackClicks:!1,requireFullyVisible:!1,withVisibilityTracking:!0},!c&&(sn||(sn=l.createElement(components_EmptyInboxMessage,null))),c>0&&l.createElement(l.Fragment,null,dn||(dn=l.createElement(Divider,null)),this.renderFull(u[0])),c>1&&o.map((function(n){return l.createElement(l.Fragment,null,un||(un=l.createElement(Divider,null)),e.renderMessage(n,!0))})),c>1&&(mn||(mn=l.createElement(Divider,null))),d&&l.createElement(f.a,{type:"button",component:vn.a,variant:"secondary",withVisibilityTracking:!0,requireFullyVisible:!1,trackingName:"show_more_messages",onClick:r},E()("Show more messages")))},InboxNotificationsList}(l.Component),hn=v.a.createTrackedContainer((function(){return{namespace:{page:"course_inbox"}}}))(fn),bn=p.a.compose(Object(g.a)(["CourseStore"],(function(e){return{courseId:e.CourseStore.getCourseId()}})),nn.b.createContainer((function(e){var n=e.courseId,t=e.maxNumberOfMessages;return{messages:gn.getAll({fields:["layoutType","data","createdAt","isRead"],params:{q:"latest",courseId:n,setTime:!0,start:0,limit:t}})}})))(hn),kn=n("QsJ7"),yn=20;e.default=function(){var e=Object(l.useState)({maxNumberOfMessages:yn}),n=o()(e,2),t=n[0],a=n[1];return Object(c.d)("div",{className:"rc-CourseInboxPage"},Object(c.d)(kn.a,{pageTitle:E()("Course Inbox")}),Object(c.d)(s.a,{variant:"h1semibold",css:Object(c.c)(pn||(pn=r()(["\n          margin: var(--cds-spacing-600) 0 var(--cds-spacing-400) 0;\n        "])))},E()("Messages")),Object(c.d)(bn,{maxNumberOfMessages:t.maxNumberOfMessages,getMoreMessages:function(){var e=t.maxNumberOfMessages;a({maxNumberOfMessages:e+yn})}}))}},"pUK/":function(module,exports,e){e("h+p0")},tQV5:function(module,exports,e){}}]);
//# sourceMappingURL=76.27fdfb71deebce18927b.js.map