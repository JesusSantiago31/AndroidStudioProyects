/*! For license information please see 41.bf08eaee34a1c1b5b850.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"06ok":function(module,e,t){"use strict";var n=t("+TN3"),i=t("VsDl"),r=t.n(i),a=t("hL9g"),o=t("b59L"),c=t("joWv");e.a=function(e){var t=e.contextType,i=e.courseId,s=e.courseBranchId,u=e.userId,l=e.itemId,d=e.coachMode,p=Object(c.d)(),g=Object(n.b)(r.a,{skip:!p||!u,variables:{contextType:t,courseId:i,courseBranchId:s,userId:u,itemId:l},context:{clientName:"gatewayGql"},fetchPolicy:"network-only"}),v=g.loading,b=g.error,m=g.data;if(b){var f=Object(a.a)(b);f&&Object(o.a)({error:f,coachMode:d,source:"useDynamicPrompts"})}return{loading:v,error:b,data:m}}},"1HaE":function(module,e,t){"use strict";var n=t("3tO9"),i=t.n(n),r=t("agHs"),a=t("Y74u"),o=t("sQ/U");e.a=function(e){try{var t=o.a.get(),n=t.external_id,c=t.is_staff,s=t.is_superuser;a.b.init({visitor:i()({id:n,isStaff:c,isSuperuser:s},(null==e?void 0:e.visitorSegmentationPendoVariable)||{})},a.a)}catch(e){r.captureException(e)}}},"2ljr":function(module,e,t){"use strict";t.d(e,"c",(function(){return getStartTimeForDisplay})),t.d(e,"a",(function(){return getEndTimeForDisplay})),t.d(e,"b",(function(){return getIsOutsideTrimmingRange}));var getStartTimeForDisplay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.max(e-t,0)},getEndTimeForDisplay=function(e,t){var n=null!=t?t:{},i=n.trimmedStartTimeSeconds,r=n.trimmedEndTimeSeconds,a=void 0===r?0:r;return a?Math.min(e-i,a):e},getIsOutsideTrimmingRange=function(e,t,n){var i=null!=n?n:{},r=i.trimmedStartTimeSeconds,a=void 0===r?0:r,o=i.trimmedEndTimeSeconds;return!!(t&&t<a)||!!(o&&e>o)}},"4x9Y":function(module,e,t){"use strict";t.d(e,"a",(function(){return handleVideoJsError}));var n=t("3tO9"),i=t.n(n),r=t("agHs");function handleVideoJsError(e,t,n){var a=null==e?void 0:e.error();if(a){var o=a;a instanceof Error||(o=new Error("video.js: ".concat(JSON.stringify(a))));var c=Object.keys(null!=n?n:{}).reduce((function(e,t){return e[t]=JSON.stringify(null==n?void 0:n[t]).slice(0,200),e}),{});r.captureException(o,{tags:i()({source:t,errorType:"media"},c)})}}},"5Zho":function(module,e,t){"use strict";var n,i=t("KMW/"),r=t("I5Nb"),a=t.n(r);null===(n=i.a.addDefaults)||void 0===n||n.call(i.a,[a.a]);var o={get:function(e,t){return i.a.get("instructionalLearning",e,t)},preview:function(e,t,n){return i.a.preview("instructionalLearning",e,t)}};e.a=o},"7ipH":function(module,e,t){"use strict";t.d(e,"a",(function(){return n}));var n=function(e){return e.mouse_movement="mouse_movement",e.key_press="key_press",e.page_scroll="page_scroll",e.video_is_playing="video_is_playing",e}({})},"8VeA":function(module,e,t){"use strict";t.d(e,"a",(function(){return ItemMetadataProvider})),t.d(e,"b",(function(){return useItemMetadata}));var n=t("q1tI"),i=Object(n.createContext)(void 0),ItemMetadataProvider=function(e){var t=e.itemMetadata,r=e.children;return(n.createElement(i.Provider,{value:{itemMetadata:t}},r))},useItemMetadata=function(){var e,t,r,a,o=Object(n.useContext)(i);if(!o)throw new Error("useItemMetadata must be used within an ItemMetadataProvider");var c=o.itemMetadata,s=c.get("course"),u=c.get("courseMaterials"),l=null==u?void 0:null===(e=u.getNeighbors(c))||void 0===e?void 0:e.nextItemMetadataOrItemGroup,d=null==c?void 0:null===(t=c.attributes)||void 0===t?void 0:null===(r=t.module)||void 0===r?void 0:null===(a=r.attributes)||void 0===a?void 0:a.index,p=c.getIndexInCourse();return{itemMetadata:c,nextItem:l,courseMaterials:u,course:s,courseName:s.get("name"),courseId:s.get("id"),courseSlug:s.get("slug"),primaryLanguageCodes:s.get("primaryLanguageCodes"),itemId:c.get("id"),itemName:c.get("name"),currentItemIndex:p,moduleName:c.get("module").get("name"),moduleId:c.get("module").get("id"),lessonId:c.get("lesson").get("id"),lessonName:c.get("lesson").get("name"),partnerName:s.get("universities").getNamesString(),videoDurationInSeconds:c.get("timeCommitment")/1e3,embeddedContentSourceCourseId:c.getEmbeddedContentSourceCourseId(),originalItemName:c.getOriginalName(),moduleOrderNumber:d}}},ARDt:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LearningHours_SendEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LearningHours_SendEventInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"LearningHours_SendEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LearningHours_SendEventSuccess"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LearningHours_SendEventError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:244}};e.loc.source={body:"mutation LearningHours_SendEvent($input: LearningHours_SendEventInput!) {\n  LearningHours_SendEvent(input: $input) {\n    ... on LearningHours_SendEventSuccess {\n      id\n    }\n    ... on LearningHours_SendEventError {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.LearningHours_SendEvent=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"LearningHours_SendEvent")},Awh6:function(module,e,t){"use strict";t.d(e,"a",(function(){return useQueryByEventType}));var n=t("q1tI"),i=t("+TN3"),r=t("agHs"),a=t("MFQ8"),o=t.n(a),useQueryByEventType=function(e){var t=e.eventType,a=e.skip,c=void 0!==a&&a,s=Object(i.b)(o.a,{variables:{eventType:t},context:{clientName:"gatewayGql"},skip:c}),u=s.loading,l=s.error,d=s.data;return Object(n.useEffect)((function(){l&&r.captureException(l)}),[l]),{loading:u,error:l,data:d}}},F9YM:function(module,e,t){"use strict";t.d(e,"c",(function(){return formatTime})),t.d(e,"e",(function(){return getTimeFromDuration})),t.d(e,"a",(function(){return buildParagraphs})),t.d(e,"b",(function(){return findCueAroundTime})),t.d(e,"d",(function(){return getAdjacentCues}));var n=t("Y3SK"),i=t.n(n),r=t("wd/R"),a=t.n(r),findCueIndexForTime=function(e,t){var n,i,r,a;return t<(null!==(n=null===(i=e[0])||void 0===i?void 0:i.startTime)&&void 0!==n?n:0)?-1:t>(null!==(r=null===(a=e[e.length-1])||void 0===a?void 0:a.endTime)&&void 0!==r?r:0)?-1:function cueBinarySearch(e,t,n,i){if(t>n)return Math.max(0,t-1);var r=t+Math.floor((n-t)/2),a=e[r];return i>=a.startTime&&i<=a.endTime?r:i<a.startTime?cueBinarySearch(e,t,r-1,i):cueBinarySearch(e,r+1,n,i)}(e,0,e.length-1,t)},formatTime=function(e){var t="m:ss",n=1e3*e;return a.a.duration(n).hours()>0&&(t="h:m"+t),a.a.utc(n).locale("en").format(t)},getTimeFromDuration=function(e){var t=1e3*e,n=a.a.duration(t),i=n.hours(),r=n.minutes();return{seconds:n.seconds(),minutes:r,hours:i}},getNormalizedText=function(e){return e.text.replace(/\n/g," ")},normalizeSentenceSegment=function(e){return e.segment.trimEnd()},segmentText=function(e,t){var n=e.filter((function(e){return!e.hideForTrimmingRange})),i=n.map(getNormalizedText).join(" ");return{visibleCues:n,allText:i,sentences:Array.from(new Intl.Segmenter(t,{granularity:"sentence"}).segment(i))}},getCuesInSentence=function(e,t){var n,r=e.index,a=e.index+normalizeSentenceSegment(e).length,o=[],c=0,s=i()(t);try{for(s.s();!(n=s.n()).done;){var u=n.value,l=c,d=c+getNormalizedText(u).length;l<a&&d>r&&o.push(u),c=d+1}}catch(e){s.e(e)}finally{s.f()}return o},buildParagraphs=function(e,t){var n,r=segmentText(e,t),a=r.visibleCues,o=r.sentences,c=new Set(o.map((function(e){return e.index+normalizeSentenceSegment(e).length}))),s=[],u=[],l=0,d=0,p=0,g=i()(a);try{for(g.s();!(n=g.n()).done;){var v=n.value;u.push(v);for(var b=p+getNormalizedText(v).length;l<o.length&&b>=o[l].index+normalizeSentenceSegment(o[l]).length;)l+=1,d+=1;d>=7&&c.has(b)&&(s.push(u),u=[],d=0),p=b+1}}catch(e){g.e(e)}finally{g.f()}return u.length>0&&s.push(u),s},findCueAroundTime=function(e,t){return e[findCueIndexForTime(e,t)]},getAdjacentCues=function(e,t,n){var r,a,o,c;if(t<(null!==(r=null===(a=e[0])||void 0===a?void 0:a.startTime)&&void 0!==r?r:0))return e.slice(0,Math.min(3,e.length));if(t>(null!==(o=null===(c=e[e.length-1])||void 0===c?void 0:c.endTime)&&void 0!==o?o:0))return e.slice(-3);var s=findCueIndexForTime(e,t);if(-1===s)return[];var u=function(e,t,n){var r,a=segmentText(e,t),o=a.visibleCues,c=a.sentences,s=i()(c);try{for(s.s();!(r=s.n()).done;){var u=r.value,l=getCuesInSentence(u,o);if(l.includes(n))return l}}catch(e){s.e(e)}finally{s.f()}}(e,n,e[s]);if(u&&u.length<=5)return u;var l=Math.max(0,s-2),d=Math.min(e.length-1,s+2);return e.slice(l,d+1)}},I5Nb:function(module,exports){module.exports={name:"instructionalLearning",parameters:[{name:"enableLectureEpicTest",valid:[!1,!0],value:!1},{name:"showFlashcards",valid:["coachOnly","flashcardsOnly"],value:"coachOnly"},{name:"enablePictureInPicture",valid:[!1,!0],value:!1}]}},JqCg:function(module,exports,e){var t=e("nQ+W"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},MA7l:function(module,e,t){"use strict";function toDecimalSeconds(e){return parseFloat(e.toFixed(3))}function toSeconds(e){return toDecimalSeconds(e/1e3)}function getVideoStartTimeOffsetSeconds(e){return toSeconds(null!=e?e:0)}function getVideoTrimmedDurationSeconds(e,t){return"number"!=typeof e||"number"!=typeof t?null:toSeconds(t-e)}t.d(e,"c",(function(){return toDecimalSeconds})),t.d(e,"d",(function(){return toSeconds})),t.d(e,"a",(function(){return getVideoStartTimeOffsetSeconds})),t.d(e,"b",(function(){return getVideoTrimmedDurationSeconds}))},MFQ8:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QueryByEventType"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"eventType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LexExperimentEvents_EventType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"LexExperimentEvents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryByEventType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"eventType"},value:{kind:"Variable",name:{kind:"Name",value:"eventType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:192}};e.loc.source={body:"query QueryByEventType($eventType: LexExperimentEvents_EventType!) {\n  LexExperimentEvents {\n    queryByEventType(eventType: $eventType) {\n      id\n      eventType\n      createdAt\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.QueryByEventType=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"QueryByEventType")},N8J5:function(module,exports,e){var t=e("NFod"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},NFod:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},Ne6o:function(module,exports,e){var t=e("OIEB"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},OIEB:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},OMAK:function(module,exports){module.exports={name:"siteOnDemandCompletion",parameters:[{name:"assignmentVerificationSessions",value:["XttsmXm4EeWpCwrPNVXTlw","7P0bJnRZEeWgtQq7brjg6Q","IM53RnK_EeWpCwrPNVXTlw","jTosCG7UEeWPJBI9QEQKiQ","NrwvcW7VEeWWpw7gge8ZbQ","N7aolG-BEeWdPxJ-h_8T7w","NtSGgG-BEeWgtQq7brjg6Q","RpHdwHLAEeWXygocDxikNQ","dTeBf3K_EeWpCwrPNVXTlw","_MN8qm7UEeWgtQq7brjg6Q"]},{name:"showPhotoUploadInClassmates",value:!1},{name:"itemVideoDownloadBlacklist",value:["3EPZVpSGEeSb9SIACzCJlg"]}]}},ROPg:function(module,e,t){"use strict";t.r(e);var n,i=t("MnCE"),r=t("L1vm"),a=t("pVnL"),o=t.n(a),c=t("fsL8"),s=t.n(c),u=t("yXPU"),l=t.n(u),d=t("3tO9"),p=t.n(d),g=t("J4zp"),v=t.n(g),b=t("VkAN"),m=t.n(b),f=t("E+oP"),h=t.n(f),y=t("OhL7"),C=t("q1tI"),k=t("aqT/"),O=t.n(k),j=t("KMW/"),w=t("d/Ev"),x=t.n(w);null===(n=j.a.addDefaults)||void 0===n||n.call(j.a,[x.a]);var S,T,I,E={get:function(e,t){return j.a.get("ContentInnovation",e,t)},preview:function(e,t,n){return j.a.preview("ContentInnovation",e,t)}},P=t("6/Gu"),V=t("ZJgU"),L=t("qCXy"),N=t("flsP"),R=t.n(N),M={container:Object(y.c)(S||(S=m()(["\n    margin-top: var(--cds-spacing-150);\n  "]))),feedbackButton:Object(y.c)(T||(T=m()(["\n    max-width: fit-content;\n  "])))},components_PodcastFeedback=function(){return Object(y.d)(P.a,{css:M.container},Object(y.d)(V.a,{size:"small",icon:I||(I=Object(y.d)(L.a,null)),iconPosition:"before",css:M.feedbackButton,"data-pendo":"podcast-provide-feedback-button-learner"},R()("Give feedback on this audio track")))},D=t("vPub"),A=t("7ipH"),F=t("WkKJ");function ContinuousSignalTracker(e){var t=e.shouldSend,n=e.sendSignalData,i=Object(F.b)();return Object(C.useEffect)((function(){var e,r;return t&&null!==(e=window)&&void 0!==e&&e.setInterval&&(r=window.setInterval((function(){i(n)}),F.a)),function(){r&&clearInterval(r)}}),[i,t,n]),null}var B=t("8bdM"),H=t("JYi1"),z=t("sQ/U"),U=t("FdHa"),Q=t("gksZ"),q=t("8Hdl"),W=t("lPk7"),K=t("15pW"),Z=Object(C.createContext)({shouldDisableSkippingForward:!1,onVideoPlayedToEnd:function(){},learnerMaxVideoProgressInSeconds:0,setLearnerMaxVideoProgressInSeconds:function(){},checkLearnerVideoProgress:function(){},showVideoSkippingDisabledNotification:!1,setShowVideoSkippingDisabledNotification:function(){}}),LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext=function(){return Object(C.useContext)(Z)},LearningEffortFirstPlayContext_LearningEffortFirstPlayContextProvider=function(e){var t=e.children,n=Object(C.useState)(!1),i=v()(n,2),r=i[0],a=i[1],o=Object(C.useState)(0),c=v()(o,2),s=c[0],u=c[1],l=Object(C.useState)(!1),d=v()(l,2),p=d[0],g=d[1];return C.createElement(Z.Provider,{value:{shouldDisableSkippingForward:r,onVideoPlayedToEnd:function(){a(!1)},learnerMaxVideoProgressInSeconds:s,setLearnerMaxVideoProgressInSeconds:u,checkLearnerVideoProgress:function(e,t){e!==K.h&&e!==K.i||!t||a(!0)},showVideoSkippingDisabledNotification:p,setShowVideoSkippingDisabledNotification:g}},t)},G=t("joWv"),J=t("6Dos"),Y=t("1HaE"),X=t("YmkS"),ee=t("ingZ"),te=t("qJwm"),ne=t("1lFr"),ie=t("xPfO"),re=t("8q04"),ae=t("8VeA"),oe=t("wozf"),ce=t("Puqe"),se=t.n(ce),ue=t("agHs"),le=t("S+eF"),de=t.n(le),pe=t("8OJ3"),ge=t("v6sC"),ve=t("2ljr"),models_Cue=function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;this.id=e,this.index=t,this.startTime=i,this.endTime=r,this.text=n.replace("<br/>"," ").replace("\n"," ").replace(/^\.$/,"").replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)})),this.startTimeForDisplay=Object(ve.c)(this.startTime,a),this.hideForTrimmingRange=Object(ve.b)(this.startTime,this.endTime,{trimmedStartTimeSeconds:a,trimmedEndTimeSeconds:o})},be=function(){function Track(e,t,n){this.languageCode=e,this.label=t,this.url=n,this.sourceContent=null,this.cues=[],this.isLoaded=!1}return Track.prototype.getTextTranscript=function(){return this.cues.map((function(e){return e.text})).join(" ")},Track}(),me=t("RIqP"),fe=t.n(me),labelCompare=function(e,t){return e.label<t.label?-1:e.label>t.label?1:0},he=function(){function TrackList(e){this.tracks=void 0,this.tracks=fe()(e),this.tracks.sort(labelCompare)}var e=TrackList.prototype;return e.toArray=function(){return this.tracks},e.getFromLanguageCode=function(e){return this.tracks.find((function(t){return t.languageCode===e}))},TrackList}(),ye=t("IWWe"),Ce={set:function(e,t){return ye.a.setItem("InteractiveTranscript:"+e,t,String)},get:function(e){return ye.a.getItem("InteractiveTranscript:"+e,String,void 0)}};function ParserError(e,t){this.message=e,this.error=t}ParserError.prototype=Object.create(Error.prototype);var ke=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{3})/;function parse(e){if("string"!=typeof e)throw new ParserError("Input must be a string");var t=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).split("\n\n"),n=t.shift();if(!n.startsWith("WEBVTT"))throw new ParserError('Must start with "WEBVTT"');var i=n.split("\n");if(0===t.length&&1===i.length)return{valid:!0};if(i.length>1&&""!==i[1])throw new ParserError("No blank line after signature");return{valid:!0,cues:function(e){return e.map(parseCue)}(t)}}function parseCue(e,t){var n="",i=0,r=0,a="",o=e.split("\n").filter(Boolean);if(1===o.length&&!o[0].includes("--\x3e"))throw new ParserError("Cue identifier cannot be standalone (cue #".concat(t,")"));if(o.length>1&&!o[0].includes("--\x3e")&&!o[1].includes("--\x3e"))throw new ParserError("Cue identifier needs to be followed by timestamp (cue #".concat(t,")"));if(o.length>1&&o[1].includes("--\x3e")&&(n=o.shift()),o.length>0&&o[0].includes("--\x3e")){var c=o[0].split(" --\x3e ");if(2!==c.length||!validTimestamp(c[0])||!validTimestamp(c[1]))throw new ParserError("Invalid cue timestamp (cue #".concat(t,")"));if((i=parseTimestamp(c[0]))>(r=parseTimestamp(c[1])))throw new ParserError("Start timestamp greater than end (cue #".concat(t,")"));if(r<i)throw new ParserError("End must be greater or equal than start (cue #".concat(t,")"));a=c[1].replace(ke,"").trim(),o.shift()}return{identifier:n,start:i,end:r,text:o.join("\n"),styles:a}}function validTimestamp(e){return ke.test(e)}function parseTimestamp(e){var t=e.match(ke),n=parseFloat(t[3]);return n+=60*parseFloat(t[2]),n+=60*parseFloat(t[1]||0)*60}var Oe,je,we,xe,Se,Te,Ie,Ee,Pe,Ve,Le,_e,Ne,Re,Me,De,Ae,Fe,Be=t("erQL"),TrackUtils_parseCues=function(e,t,n){if(Be.a)return function(e,t,n){var i=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:3});return parse(e).cues.filter((function(e){return!!e})).map((function(e,r){return new models_Cue(e.identifier,r,e.text,Number(i.format(e.start)),Number(i.format(e.end)),t,n)})).filter((function(e){return!!e.text.trim()}))}(e,t,n);var i=[],r=new WebVTT.Parser(window,window.vttjs,new WebVTT.StringDecoder);return r.oncue=function(e){return i.push(e)},r.onparsingerror=function(e){throw new Error("Error parsing track: "+e)},r.parse(e),r.flush(),i.filter((function(e){return!!e})).map((function(e,i){return new models_Cue(e.id,i,e.text,e.startTime,e.endTime,t,n)})).filter((function(e){return!!e.text.trim()}))},TrackUtils_loadTrack=function(e,t,n,i){if(e.isLoaded&&!i)return de()(e);var r=Object(ge.a)("",{type:"rest"});return de()(r.get(e.url)).then((function(i){var r=e;r.sourceContent=i,r.isLoaded=!0;var a=[];try{a=TrackUtils_parseCues(i,t,n)}catch(t){ue.captureException("cannot parse cues",{extra:{track:e,error:t}})}return r.cues=a,r})).catch((function(e,t,n){throw new Error("Error loading track. Error: ".concat(n,"; status: ").concat(t,"; response text: ").concat(JSON.stringify(e)))}))},TrackUtils_buildTracks=function(e){var t=[],n=se()(e,"__typename");return Object.keys(n).forEach((function(n){var i=e[n];t.push(new be(n,i.label,i.url))})),new he(t)},TrackUtils_getDefaultTrack=function(e,t){return!Be.a&&e.getFromLanguageCode(Ce.get("language-code"))||e.getFromLanguageCode(t)||e.getFromLanguageCode("en")||e.toArray()[0]},He=t("wC8J"),ze=t("sAJn"),Ue=t("U5zp"),Qe=t("mqQf"),qe=t("uEzg"),We=t("mHyk"),Ke=t("al67"),Ze={root:Object(y.c)(Oe||(Oe=m()(["\n    z-index: 1999;\n    position: fixed;\n    background: var(--cds-color-neutral-background-primary);\n    transition: all 500ms ease;\n    border-radius: var(--cds-border-radius-200);\n    display: flex;\n    justify-content: center;\n    background-color: var(--cds-color-grey-25);\n    box-shadow: -1px 0 20px -1px var(--cds-color-grey-200);\n    opacity: 0;\n  "]))),img:Object(y.c)(je||(je=m()(["\n    border-radius: var(--cds-border-radius-200);\n    object-fit: contain;\n    object-position: center;\n  "])))},components_HighlightCapturePreview=function(e){var t=e.videoPlayer,n=e.show,i=e.highlight,r=e.onClick,a=n&&!!i&&i.snapshotDataUrl,o=Object(C.useState)(void 0),c=v()(o,2),s=c[0],u=c[1];return Object(C.useEffect)((function(){if(t&&a){var e=t.el().getBoundingClientRect();u({top:e.top,left:e.left,right:e.right,bottom:e.bottom,width:e.width,height:e.height,opacity:1}),setTimeout((function(){u({top:window.innerHeight-166.5-10,left:window.innerWidth-288-10,right:10,bottom:10,width:288,height:166.5,backgroundColor:"var(--cds-color-white-0)",opacity:1,padding:4,borderRadius:"calc(var(--cds-border-radius-200) + var(--cds-spacing-50))"})}),500)}return function(){u(void 0)}}),[t,a]),Object(y.d)("div",{tabIndex:0,role:"button","aria-disabled":!a,onClick:r,onKeyPress:function(e){return Object(Ke.a)(e,r)},className:"rc-HighlightCapturePreview",css:Ze.root,style:s},a&&Object(y.d)("img",{alt:i.transcriptText,src:i.snapshotDataUrl,css:Ze.img}))},Ge=t("JqCg"),Je=t.n(Ge),Ye=400,Xe=530,$e=750,et={chapters:{value:"chapters",dataTestId:"lecture-chapters-tab",trackingName:"lecture_chapters_tab",justifyContent:"flex-start",getLabel:function(){return Je()("Chapters")}},transcript:{value:"transcript",dataTestId:"lecture-transcript-tab",trackingName:"lecture_transcript_tab",justifyContent:"space-around",getLabel:function(){return Je()("Transcript")}},notes:{value:"notes",dataTestId:"lecture-notes-tab",trackingName:"lecture_notes_tab",justifyContent:"space-around",getLabel:function(){return Je()("Notes")}},downloads:{value:"downloads",dataTestId:"lecture-downloads-tab",trackingName:"lecture_downloads_tab",justifyContent:"flex-start",getLabel:function(){return Je()("Downloads")}}},tt=t("mDxB"),nt=(t("8cuT"),function(e,t){e.dispatch("setHighlightingUIPanelEnabled",t)}),setHighlightsCount=function(e,t){e.dispatch("setHighlightsCount",t)},it=Object(C.createContext)({highlights:[],videoPlayer:void 0,loading:!0,notificationAnnouncement:"",onDelete:void 0,onUpdate:void 0,course:void 0,courseId:"",computedItem:void 0,videoContent:void 0,selectedTrack:{},onCapture:void 0,tracks:void 0,onTrackSelected:void 0,hideVolunteerLink:!1,onSaveHighlight:void 0,onRemoveHighlight:void 0,selectedTab:"",setSelectedTab:void 0,setPreview:function(){}}),VideoHighlightManagerProvider_useVideoHighlightingManagerContext=function(){return Object(C.useContext)(it)},VideoHighlightManagerProvider_VideoHighlightingManagerProvider=function(e){var t=Object(C.useState)([]),n=v()(t,2),i=n[0],r=n[1],a=Object(C.useState)(!0),o=v()(a,2),c=o[0],u=o[1],d=Object(C.useState)(""),g=v()(d,2),b=g[0],m=g[1],f=Object(C.useState)(et.transcript.value),h=v()(f,2),y=h[0],k=h[1],O=e.itemId,j=e.courseId,w=e.children,x=e.executeAction,S=e.videoPlayer,T=e.course,I=e.computedItem,E=e.videoContent,P=e.selectedTrack,V=e.tracks,L=e.onTrackSelected,N=e.isSubtitleTranslationEnabled,R=(null==P?void 0:P.languageCode)||"";Object(C.useEffect)((function(){(function(){var e=l()(s()().mark((function _callee(){var e;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!R){t.next=7;break}return t.next=3,Object(tt.d)({itemId:O,courseId:j,languageCode:R});case 3:e=t.sent,r(e),u(!1),x(setHighlightsCount,i.length);case 7:case"end":return t.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}})()()}),[O,j,R,x]);var M=Object(C.useCallback)((function(e,t){r((function(n){return n.sort(tt.a).map((function(n){return n.id===e?t:n}))}))}),[]),D=Object(C.useCallback)(function(){var e=l()(s()().mark((function _callee2(e){var t;return s()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.filter((function(t){return t.id!==e})),r(t),n.next=4,Object(tt.c)({id:e});case 4:m(Je()("Note deleted")),x(setHighlightsCount,t.length);case 6:case"end":return n.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),[i,x]),A=Object(C.useCallback)(function(){var e=l()(s()().mark((function _callee3(e,t){var n;return s()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=i.map((function(e){return e.id===t.id?p()(p()({},t),{},{pendingUpdate:!0}):e})),r(n),a.next=4,Object(tt.f)({itemId:O,courseId:j,languageCode:R,id:e,highlight:t});case 4:M(t.id,p()(p()({},t),{},{pendingUpdate:!1})),m(Je()("Note updated"));case 6:case"end":return a.stop()}}),_callee3)})));return function(t,n){return e.apply(this,arguments)}}(),[i,O,j,R,M]),F=Object(C.useCallback)(function(){var e=l()(s()().mark((function _callee4(e){var t,n,a,o;return s()().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=[e].concat(fe()(i)),r(t),c.next=4,Object(tt.b)({itemId:O,courseId:j,languageCode:R,highlight:e});case 4:n=c.sent,a=n.id,o=n.snapshotUrl,M(e.id,p()(p()({},e),{},{id:a,snapshotUrl:o,pendingCreate:!1})),x(setHighlightsCount,t.length);case 9:case"end":return c.stop()}}),_callee4)})));return function(t){return e.apply(this,arguments)}}(),[i,O,j,R,x,M]),B=Object(C.useRef)(null),H=Object(C.useState)(!1),z=v()(H,2),U=z[0],Q=z[1],q=Object(C.useState)(null),W=v()(q,2),K=W[0],Z=W[1],G=Object(C.useCallback)((function(e){Z(e),Q(!0),B.current=window.setTimeout((function(){Q(!1),B.current=null}),5e3)}),[]),J=Object(C.useCallback)((function(){var e=B.current;e&&clearTimeout(e),Q(!1),B.current=null,y!==et.notes.value&&k&&k(et.notes.value)}),[B,y]);return C.createElement(it.Provider,{value:{highlights:i,videoPlayer:S,loading:c,notificationAnnouncement:b,onDelete:D,onUpdate:A,course:T,courseId:j,computedItem:I,videoContent:E,selectedTrack:P,onCapture:F,tracks:V,onTrackSelected:L,hideVolunteerLink:!N,onSaveHighlight:F,onRemoveHighlight:D,selectedTab:y,setSelectedTab:k,setPreview:G}},w,C.createElement(components_HighlightCapturePreview,{show:U,videoPlayer:S,highlight:K,onClick:J}))},rt={trimmedStartTimeSeconds:0,trimmedDurationSeconds:null,trimmedEndTimeSeconds:null},at=Object(C.createContext)(rt),VideoTrimmingContext_VideoTrimmingContextProvider=function(e){var t=e.trimmedStartTimeSeconds,n=e.trimmedDurationSeconds,i=e.children,r=Object(C.useMemo)((function(){return n?t+n:null}),[n,t]);return C.createElement(at.Provider,{value:{trimmedStartTimeSeconds:t,trimmedDurationSeconds:n,trimmedEndTimeSeconds:r}},i)},VideoTrimmingContext_useVideoTrimmingContext=function(){var e=Object(C.useContext)(at);return e||rt},ot=["transcript","downloads"],ct={tabs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(y.c)(we||(we=m()(["\n      "," {\n        position: ",";\n        top: ","px;\n        z-index: 3;\n        background-color: var(--cds-color-neutral-background-primary);\n      }\n    "])),U.a.up("md"),e?"sticky":"static",e)},tabPanel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return Object(y.c)(xe||(xe=m()(["\n      position: ",";\n      top: ","px;\n      display: flex;\n      flex-wrap: nowrap;\n      justify-content: ",";\n      padding-top: var(--cds-spacing-200);\n      padding-bottom: var(--cds-spacing-200);\n      min-height: 48px;\n\n      & .rc-TranscriptHighlightButton {\n        z-index: 1;\n      }\n    "])),e?"sticky":"static",e+52,t)},overrideTabWrapperStyles:Object(y.c)(Se||(Se=m()(["\n    .cds-tab-wrapper {\n      flex-direction: row-reverse;\n    }\n\n    .cds-tab-wrapper .cds-tag-status {\n      margin-left: var(--cds-spacing-100);\n      margin-right: 0;\n    }\n\n    // CDS tabs automatically have a max-width of 160px at the sm breakpoint, so we want to override that\n    // in order to accomodate the maximum text resize scale for accessibility\n    "," {\n      max-width: max-content;\n    }\n  "])),U.a.down("xs"))},LectureTabs_LectureTabs=function(e){var t,n=e.isLoggedIn,i=e.stickyTop,r=e.transcriptTabContent,a=e.downloadTabContent,o=e.notesTabContent,c=e.chaptersTabContent,s=e.notifyOnTabChange,u=Object(We.e)(),l={transcript:r,notes:o,downloads:a,chapters:c},d=(n?c?["transcript","chapters","notes","downloads"]:["transcript","notes","downloads"]:ot).filter((function(e){return!!l[e]})),p=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),g=p.selectedTrack,v=p.selectedTab,b=p.setSelectedTab,m=VideoTrimmingContext_useVideoTrimmingContext(),f=m.trimmedStartTimeSeconds,h=m.trimmedEndTimeSeconds;g&&TrackUtils_loadTrack(g,f,h).then((function(e){e&&e.cues&&(g.cues=e.cues)}));var NewTag=function(){return Object(y.d)(He.a,{variant:"status",priority:"primary",color:"highlight1"},Je()("New"))};return Object(y.d)(ze.a,{value:v},Object(y.d)(Ue.a,{variant:"section","aria-label":Je()("Related lecture content tabs"),onChange:function(e){u("click_page_tab",{pageTab:{name:et[e].trackingName}}),null==b||b(e),null==s||s()},css:ct.tabs(i)},d.map((function(e){return Object(y.d)(Qe.a,{"data-testid":et[e].dataTestId,label:et[e].getLabel(),value:et[e].value,key:e,icon:"chapters"===e?t||(t=Object(y.d)(NewTag,null)):void 0,css:ct.overrideTabWrapperStyles,"aria-label":"chapters"===e?Je()("Chapters, status: new"):void 0})}))),d.map((function(e){return Object(y.d)(qe.a,{value:et[e].value,css:ct.tabPanel(i,et[e].justifyContent),key:e},l[e])})))},st=t("QILm"),ut=t.n(st),lt=["width","height"],headsetDarkSvg=function(e){var t=e.width,n=void 0===t?12:t,i=e.height,r=void 0===i?14:i,a=ut()(e,lt);return(C.createElement("svg",o()({xmlns:"http://www.w3.org/2000/svg",width:n,height:r,fill:"none",viewBox:"0 0 12 14"},a),Te||(Te=C.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M10.6667 9.33073V11.3307C10.6667 11.6974 10.3667 11.9974 10 11.9974H9.33333V9.33073H10.6667ZM2.66667 9.33073V11.9974H2C1.63333 11.9974 1.33333 11.6974 1.33333 11.3307V9.33073H2.66667ZM6 0.664062C2.68667 0.664062 0 3.35073 0 6.66406V11.3307C0 12.4374 0.893333 13.3307 2 13.3307H4V7.9974H1.33333V6.66406C1.33333 4.08406 3.42 1.9974 6 1.9974C8.58 1.9974 10.6667 4.08406 10.6667 6.66406V7.9974H8V13.3307H10C11.1067 13.3307 12 12.4374 12 11.3307V6.66406C12 3.35073 9.31333 0.664062 6 0.664062Z",fill:"var(--cds-color-grey-600)"}))))},dt=t("XEPi"),pt=t("ZLWr"),gt=t.n(pt),vt={container:Object(y.c)(Ie||(Ie=m()(["\n    margin-top: var(--cds-spacing-100);\n    padding: var(--cds-spacing-100) 0;\n    display: flex;\n    justify-content: flex-end;\n  "]))),tag:Object(y.c)(Ee||(Ee=m()(["\n    margin-left: var(--cds-spacing-100);\n  "])))},cds_ReportSection=function(){return Object(dt.b)().reportIssueSectionVisible?Object(y.d)("div",{css:vt.container},Object(y.d)(He.a,{css:vt.tag,variant:"status",priority:"secondary",icon:Pe||(Pe=Object(y.d)(headsetDarkSvg,{color:"support"})),"data-testid":"tag-root"},gt()("AI-generated dubbing"))):null},bt=t("DU3t"),mt=t("l1rq"),ft=t("atfV"),ht=t("UWlR"),yt=t("06ok"),Ct=t("vUey"),kt=t("pHgb"),Ot=t("0Z5F"),jt=t("4qdJ"),wt="externalCoachDisclosureExpanded_video-item",cds_VideoItemCoach=function(e){var t=e.courseId,n=e.itemId,i=e.embeddedCoachEnabled,r=e.isVideoPlaying,a=e.courseBranchId,o=Object(re.a)(),c=o.setPlugins,s=o.closeTools,u=o.expanded,l=Object(jt.a)({courseId:t,itemId:n,message:Je()("Give me practice questions"),coachActionId:bt.d.PracticeQuestions,coachModeId:bt.g.ItemLearning}).handleCoachMount,d=Object(z.b)().id;Object(C.useEffect)((function(){return i?(c([{name:"coach",icon:Ve||(Ve=Object(y.d)(ft.a,null)),component:Object(y.d)(kt.a,{courseId:t,itemId:n,disableSpeechToText:r,speechToTextDisabledTooltip:Je()("Microphone is disabled when video is playing"),onClose:function(){s()},onMount:l,mode:bt.g.ItemLearning,homeView:{title:"Ask me anything about what you are learning. I'm here to help!",subtitle:"To get started, type your question below or try one of these examples:",quickMessages:[{message:Je()("Explain this topic in simple terms"),action:bt.d.SimpleExplanation},{message:Je()("Give me a summary"),action:bt.d.Summarize},{message:Je()("Give me practice questions"),action:bt.d.PracticeQuestions},{message:Je()("Give me real-life examples"),action:bt.d.RealLifeExamples}]}})}]),function(){c([])}):function(){}}),[i,t,n,r,c,s,l]);var p=Object(G.c)({epicImpression:!1}),g=[{label:Je()("Give me practice questions"),isCoachTrigger:!0,action:bt.d.PracticeQuestions,mode:bt.g.ItemLearning},{label:Je()("Explain this topic in simple terms"),isCoachTrigger:!0,action:bt.d.SimpleExplanation,mode:bt.g.ItemLearning},{label:Je()("Give me a summary"),isCoachTrigger:!0,action:bt.d.Summarize,mode:bt.g.ItemLearning},{label:Je()("Give me real-life examples"),isCoachTrigger:!0,action:bt.d.RealLifeExamples,mode:bt.g.ItemLearning}].map((function(e){var i=e.isCoachTrigger,r=e.label,a=e.mode,o={coachActionId:e.action,coachModeId:a},c={courseId:t,itemId:n};return i?Object(y.d)(Ot.a,{isDisclosureButton:!0,isToolbarTrigger:!0,variant:"secondary",label:r,message:r,config:o,courseraContext:c,enableTextStreaming:!0,enableContinuousChat:p}):Object(y.d)(ht.a,{variant:"secondary"},r)})),v=Object(yt.a)({contextType:"DISCLOSURE",courseId:t,courseBranchId:a,userId:d?d.toString():"",itemId:n,coachMode:bt.g.ItemLearning});v.loading,v.error,v.data;return i?Object(y.d)(P.a,{item:!0},Object(y.d)("div",{css:Object(y.c)(Le||(Le=m()(["\n            margin-bottom: var(--cds-spacing-100);\n            margin-top: var(--cds-spacing-100);\n          "])))},Object(y.d)(Ct.a,{actionButtons:g,defaultExpanded:!u&&ye.a.getItem(wt,(function(e){return"false"!==e}),!0),onToggle:function(e){!function(e){ye.a.setItem(wt,e,(function(e){return e?"true":"false"}))}(e)},mode:bt.g.ItemLearning,itemId:n,courseId:t},Object(y.d)(mt.a,{component:"p"},Je()("Let me know if you have any questions about this material. I'm here to help!"))))):null},xt=t("vXr1"),St=t("MKs7"),VideoItemEmbeddedSourceCourseAttribution_VideoItemEmbeddedSourceCourseAttribution=function(e){var t=e.embeddedContentSourceCourseId,n=e.includeCourseName,i=e.originalName,r=e.trimmedAttributionProperties,a=VideoTrimmingContext_useVideoTrimmingContext().trimmedDurationSeconds,o=Object(xt.c)(),c=Object(C.useMemo)((function(){return o.search.includes("useFullLengthVideo")?"".concat(o.pathname).concat(o.search):o.search?"".concat(o.pathname).concat(o.search,"&").concat("useFullLengthVideo","=true"):"".concat(o.pathname,"?").concat("useFullLengthVideo","=true")}),[o.pathname,o.search]);return Object(y.d)(St.a,{embeddedContentSourceCourseId:t,includeCourseName:n,originalName:i,trimmedAttributionProperties:a?Object.assign(r,{fullContentLink:c}):void 0})},Tt=t("J2m7"),It=t.n(Tt),Et=t("k8Y/"),Pt=t.n(Et),Vt=t("bt/X"),Lt=t.n(Vt),_t=t("Wjkg"),Nt=t("7NTc"),Rt=t("VbXa"),Mt=t.n(Rt),Dt=t("Gcrz"),At=t("UYTu"),Ft=Object(At.a)(_e||(_e=m()(['\n  mutation submitQuiz(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n    $skipFetchingResponses: Boolean!\n  ) {\n    submitQuiz(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @rest(\n        type: "RestPracticeQuizQuestionGetStateData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/lecture/inVideoQuiz/session/{args.sessionId}/action/submitResponse?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestSubmitQuizResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          id\n          isSubmitAllowed\n          feedback {\n            feedbackLevel\n            definition {\n              isCorrect\n              display {\n                typeName\n                definition {\n                  dtdId\n                  value\n                }\n              }\n              options {\n                id\n                count\n                isCorrect\n                feedback {\n                  typeName\n                  definition {\n                    dtdId\n                    value\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n']))),Bt=function(e){function VideoQuizMutations(){return e.apply(this,arguments)||this}return Mt()(VideoQuizMutations,e),VideoQuizMutations.prototype.render=function(){var e=this.props,t=e.itemId,n=e.courseSlug,i=e.question,r=e.sessionId,a=e.userId,o=e.children;return(C.createElement(Dt.b,{mutation:Ft},(function(e){return o({submitQuiz:function(o){var c,s;return e({variables:{sessionId:r,userId:a,itemId:t,slug:n,body:{contentRequestBody:{argument:{questionInstance:i.id,response:null==o?void 0:null===(c=o.response)||void 0===c?void 0:null===(s=c.definition)||void 0===s?void 0:s.value,timestamp:null}}}}})}})})))},VideoQuizMutations}(C.Component),Ht=t("Qdou"),zt=t("GD6B"),Ut=t("Jn0X"),Qt=t("/Sxx"),qt=t("vU9D"),Wt=t("lSNA"),Kt=t.n(Wt),util_transformQuizToFormData=function(e,t,n){if(!t)return e&&e.map((function(e){return{prompt:e,response:{typeName:qt.f.AUTO_GRADABLE_RESPONSE,definition:{value:n&&((e||{}).effectiveResponse||{}).response?((e||{}).effectiveResponse||{}).response:(t=e,"widget"===((t||{}).question||{}).type?{answer:{}}:null)}}};var t}));var i=t.reduce((function(e,t){return p()(p()({},e),{},Kt()({},t.questionInstance,t.response))}),{});return e&&e.map((function(e){var t=i[e.id];return{prompt:e,response:{typeName:qt.f.AUTO_GRADABLE_RESPONSE,definition:{value:t}}}}))},utils_transformQuestionToFormData=function(e){var t=util_transformQuizToFormData([e],void 0,!0),n=v()(t,1)[0],i=n.prompt,r=n.response;return{id:i.id,root:{element:{definition:{prompt:{typeName:qt.f.AUTO_GRADABLE_PROMPT,definition:{value:{effectiveResponse:i.effectiveResponse,variant:{definition:i.variant},question:i.question,feedback:i.feedback}}},response:r,responseId:i.id},typeName:qt.f.PROMPT_REQUIRING_RESPONSE_ELEMENT},children:[]}}},Zt={fieldset:Object(y.c)(Ne||(Ne=m()(["\n    padding-bottom: var(--cds-spacing-100);\n  "]))),legend:Object(y.c)(Re||(Re=m()(["\n    margin-bottom: 0;\n    border-bottom: none;\n    display: contents;\n  "])))},Gt=function(e){function VideoQuizQuestionArea(t){var n;return(n=e.call(this,t)||this).containerRef=null,n.responseBoxRef=null,n}Mt()(VideoQuizQuestionArea,e);var t=VideoQuizQuestionArea.prototype;return t.componentDidUpdate=function(){var e,t,n="[data-test='GradeFeedback-".concat(Qt.a.FAILURE,"]");if(null!==(e=this.containerRef)&&void 0!==e&&e.querySelector(n)||(n="[data-test^='GradeFeedback-']"),"ready"===this.props.currentState){var i,r=null===(i=this.responseBoxRef)||void 0===i?void 0:i.querySelector('[role="group"]');if(r){var a=r.querySelectorAll('input[type="checkbox"]');if(a.length)a[0].focus()}}var o=null===(t=this.containerRef)||void 0===t?void 0:t.querySelector(n);o&&this.containerRef&&(this.containerRef.scrollTop=o.offsetTop)},t.render=function(){var e=this,t=this.props,n=t.question,i=t.isReadonly,r=t.currentState,a="done"===r||"retry"===r;if(!n)return null;var o=utils_transformQuestionToFormData(n).root,c=o.element,s=o.children,u=Object(Ut.a)(c).promptText;return Object(y.d)("fieldset",{ref:function(t){e.containerRef=t},className:"rc-VideoQuizQuestionArea",tabIndex:0,css:Zt.fieldset},Object(y.d)("legend",{className:"rc-VideoQuizQuestionArea__legend",css:Zt.legend},Object(y.d)(Ht.a,{value:u})),Object(y.d)("div",{className:"rc-VideoQuizQuestionArea__responseBox",ref:function(t){e.responseBoxRef=t},"aria-live":"polite"},Object(y.d)(zt.b,{isReadOnly:i,isDisabled:a,formPart:c,enableFeedbackFocus:!0}),s&&s.length>0&&Object(y.d)("div",null,s.map((function(e){var t=e.element;return Object(y.d)(zt.b,{isReadOnly:i,isDisabled:a,formPart:t})})))))},VideoQuizQuestionArea}(C.Component),Jt=t("agp5"),Yt=t("TSwX"),Xt=t("uhOI"),$t=t("iR3l"),en=t.n($t),tn=function(e){function VideoQuizSubmissionButton(){return e.apply(this,arguments)||this}return Mt()(VideoQuizSubmissionButton,e),VideoQuizSubmissionButton.prototype.render=function(){var e,t,n=this.props,i=n.onRetry,r=n.question,a=n.onSubmit,o=n.onContinue,c=n.apiState,s="continueOnly"===r.question.responseType,u=Xt.a;switch(c){case"submitting":u=Xt.c,t=en()("Submitting...");break;case"ready":e=a,t=en()("Submit");break;case"retry":e=i,t=en()("Retry");break;default:e=o,t=en()("Continue")}if(s)switch(c){case"submitting":t=en()("Continuing...");break;default:t=en()("Continue"),e=o}return(C.createElement(Yt.a,{label:t,apiStatus:u,onClick:e,variant:"primary",style:{background:"var(--cds-color-interactive-primary)",color:"var(--cds-color-neutral-primary-invert)",display:"inherit"},"data-testid":"VideoQuizSubmission-Button"}))},VideoQuizSubmissionButton}(C.Component),nn={quizSubmissionArea:Object(y.c)(Me||(Me=m()(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: var(--cds-spacing-200);\n  "])))},rn=function(e){function VideoQuizSubmissionArea(){return e.apply(this,arguments)||this}return Mt()(VideoQuizSubmissionArea,e),VideoQuizSubmissionArea.prototype.render=function(){var e=this.props,t=e.onSubmit,n=e.onContinue,i=e.onRetry,r=e.questionState,a=e.question,o=e.question.id,c="continueOnly"===a.question.responseType;return Object(y.d)("div",{className:"rc-VideoQuizSubmissionArea",css:nn.quizSubmissionArea},Object(y.d)(Jt.a,{ids:[o]},(function(e){return Object(y.d)(tn,{onContinue:n,onRetry:i,onSubmit:function(){return e&&e.length>0&&t(e[0])},question:a,apiState:r})})),!c&&Object(y.d)(V.a,{onClick:n,variant:"secondary"},en()("Skip")))},VideoQuizSubmissionArea}(C.Component),an=t("RUkv"),qusetionTypeUtils_isPollQuestion=function(e){return[an.a.Poll,an.a.CheckboxPoll].includes(e.question.type)},qusetionTypeUtils_isPauseAndReflectQuestion=function(e){return[an.a.ReflectText,an.a.Continue].includes(e.question.type)},on={root:Object(y.c)(De||(De=m()(["\n    "," {\n      position: absolute;\n      background: rgb(0 0 0 / 75%);\n      width: 100%;\n      height: 100%;\n      z-index: 999;\n      display: block;\n      top: 0;\n      left: 0;\n    }\n  "])),U.a.up("md")),videoQuizWindow:Object(y.c)(Ae||(Ae=m()(["\n    "," {\n      &,\n      .cds-Modal-backdrop,\n      .cds-Dialog-dialog {\n        position: absolute !important;\n      }\n\n      .cds-Dialog-dialog {\n        max-height: 90%;\n        max-width: 90%;\n        min-height: unset;\n      }\n    }\n  "])),U.a.up("md")),actions:Object(y.c)(Fe||(Fe=m()(["\n    "," {\n      padding-top: var(--cds-spacing-300);\n      padding-bottom: var(--cds-spacing-300);\n    }\n  "])),U.a.up("md"))};function VideoQuizContent(e){var t,n=e.question,i=e.open,r=e.onContinue,a=e.onSubmit,o=Object(C.useState)({isSubmitting:!1,didError:!1,latestFeedback:null,latestResponse:null}),c=v()(o,2),s=c[0],u=c[1],l="videoQuizResponses.".concat(null==n?void 0:n.id),d=s.isSubmitting,g=s.didError,b=Object(Q.a)(U.a.up("md"));if(!n)return null;var m=function(){var e=s.latestResponse,t=s.latestFeedback;if(n){var i,r,a=function(){if(n){var e=_t.a.get(l);if(e)return e}return{feedback:null,response:null}}(),o=t||a.feedback,c=e||a.response,u={questionInstance:n.id,response:null==c?void 0:null===(i=c.response)||void 0===i?void 0:null===(r=i.definition)||void 0===r?void 0:r.value};return p()(p()({},n),{},{feedback:o,effectiveResponse:u})}return null}(),f=null==m?void 0:m.feedback,h=null==f?void 0:null===(t=f.definition)||void 0===t?void 0:t.isCorrect,k=qusetionTypeUtils_isPollQuestion(n),O="ready";return g?O="errored":d?O="submitting":f&&(O=h||k?"done":"retry"),Object(y.d)(Nt.a,{open:i,onClose:r,renderInPlace:b,sticky:"actions",width:b?"large":"medium",css:on.videoQuizWindow},Object(y.d)(Nt.a.HeadingGroup,null,n?qusetionTypeUtils_isPollQuestion(n)?en()("Poll"):qusetionTypeUtils_isPauseAndReflectQuestion(n)?en()("Reflect"):en()("Question"):""),Object(y.d)(Nt.a.Content,null,Object(y.d)(Gt,{isReadonly:void 0!==h,currentState:O,question:m})),Object(y.d)(Nt.a.Actions,{css:on.actions},Object(y.d)(rn,{onRetry:function(){return _t.a.remove(l),void u({isSubmitting:!1,didError:!1,latestFeedback:null,latestResponse:null})},onContinue:r,onSubmit:function(e){u((function(e){return p()(p()({},e),{},{isSubmitting:!0})})),a(e).then((function(t){var i,r,a,o,c=(null!==(i=null==t?void 0:null===(r=t.data)||void 0===r?void 0:null===(a=r.submitQuiz)||void 0===a?void 0:null===(o=a.contentResponseBody)||void 0===o?void 0:o.return)&&void 0!==i?i:{}).feedback;u({isSubmitting:!1,didError:!1,latestFeedback:c,latestResponse:e}),function(e,t){n&&_t.a.set(l,{feedback:e,response:t})}(c,e)})).catch((function(){return u((function(e){return p()(p()({},e),{},{didError:!0})}))}))},question:n,questionState:O})))}var cn,sn,un,ln,dn,pn,gn,components_VideoQuiz=function(e){var t=e.onContinue,n=e.sessionId,i=e.itemId,r=e.courseSlug,a=e.question,o=Object(C.useState)(!1),c=v()(o,2),s=c[0],u=c[1];if(Object(C.useEffect)((function(){u(!!a)}),[a]),!a)return null;var l=z.a.get().id;return Object(y.d)("div",{className:"rc-VideoQuiz",css:on.root},Object(y.d)(Bt,{itemId:i,courseSlug:r,userId:l,sessionId:n,question:a},(function(e){var n=e.submitQuiz;return Object(y.d)(VideoQuizContent,{open:s,question:a,onContinue:t,onSubmit:n})})))},components_LearnerInVideoQuiz=function(e){var t=e.videoQuizModel,n=e.player,i=e.itemId,r=e.courseSlug,a=Object(C.useState)(null),o=v()(a,2),c=o[0],s=o[1],u=Object(C.useState)([]),l=v()(u,2),d=l[0],p=l[1];return Object(C.useEffect)((function(){var initializeVideoQuizListeners=function(){if(t){var e=t.questions,i=void 0===e?[]:e,r=Lt()(Pt()(i,"video.order","desc"),"video.cuePointMs");Object.entries(r).forEach((function(e){var t=v()(e,2),i=t[0],r=t[1],a=parseInt(i,10)/1e3;n.addCuepoint({at:a,visible:!0},(function(){var e=fe()(r),t=document.querySelector('[data-id="item-scroll-container"]');n.pause(),n.emitter.trigger("videoQuizView.visible"),t&&(t.scrollTop=0);var i=e.pop();s(i),p(e)}))}))}};return n.on("loadedmetadata",initializeVideoQuizListeners),function(){n.off("loadedmetadata",initializeVideoQuizListeners)}}),[n,t]),Object(y.d)(components_VideoQuiz,{key:null==c?void 0:c.id,onContinue:function(){if(d.length>0){var e=d.slice(-1)[0],t=d.slice(0,-1);e&&(s(e),p(t))}else!function(){var e,t;n.emitter.trigger("videoQuizView.hidden"),s(null);var i=null!==(e=n.duration())&&void 0!==e?e:0,r=null!==(t=n.currentTime())&&void 0!==t?t:0;"number"==typeof i&&"number"==typeof r&&i>r&&n.play()}()},itemId:i,courseSlug:r,sessionId:null==t?void 0:t.sessionId,question:c})},vn=t("ZwCU"),bn=t.n(vn),mn=t("17x9"),fn=t.n(mn),hn=t("Ji/E"),yn=t("ct0W"),Cn=t("nNSt"),kn=t("fdGY"),On=t("HXet"),jn=t.n(On),wn={notificationContainer:Object(y.c)(cn||(cn=m()(["\n    padding: var(--cds-spacing-100) var(--cds-spacing-200);\n    top: 0;\n    z-index: 1000;\n    position: absolute;\n    gap: var(--cds-spacing-200);\n    border-radius: 3px;\n    background: var(--cds-color-neutral-primary);\n    margin-top: var(--cds-spacing-200);\n    left: 50%;\n    transform: translate(-50%);\n  "]))),notificationText:Object(y.c)(sn||(sn=m()(["\n    color: var(--cds-color-neutral-primary-invert);\n    white-space: nowrap;\n  "]))),closeButton:Object(y.c)(un||(un=m()(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: var(--cds-spacing-100);\n    padding: 0;\n    border: none;\n    width: 24px;\n    height: 24px;\n  "]))),closeIcon:Object(y.c)(ln||(ln=m()(["\n    vertical-align: middle;\n    padding-bottom: var(--cds-spacing-50);\n  "])))},learning_effort_VideoSkippingDisabledNotification=function(e){var t=e.onDismiss,n=e.courseId,i=Object(We.f)("view_notification",{notification:{templateId:"graded_item_locking_block_video_scrub"},course:{id:n}});return Object(y.d)(P.a,{css:wn.notificationContainer,ref:i},Object(y.d)(mt.a,{component:"p",css:wn.notificationText},jn()("Skipping forward is only available on video sections you have already watched."),Object(y.d)("button",{type:"button",css:wn.closeButton,onClick:t},Object(y.d)(kn.a,{size:"medium",css:wn.closeIcon}))))},xn=t("wM/7"),Sn=t("vbpD"),Tn=t("qyGb"),In=t("Ezgt"),En=t("w/oa"),Pn=t("sEfC"),Vn=t.n(Pn),Ln=t("HOoY"),_n=t("k8gO"),Nn={"video_progress.not_found":["playback_rate","subtitle_language","version","tech","volume"],"change.subtitles":["playback_rate","subtitle_language","version","tech","volume"],"volume.change":["playback_rate","subtitle_language","version","tech","volume"],"resolution.change":["resolution","version","tech"],playback_tech:["playback_rate","subtitle_language","version","tech","volume"],heartbeat:["playback_rate","subtitle_language","version","tech","volume"],joining:["playback_rate","version","tech","resolution","session_id"],joined:["playback_rate","version","tech","resolution","session_id"],wait_metrics:["playback_rate","version","tech","resolution","session_id"]},getSubtitleLanguage=function(e){var t=e.textTracks().tracks_,n=t?t.find((function(e){return"showing"===e.mode})):null;return n?n.language:""},AnalyticsMetadataFetcher_getDataByKeys=function(e,t){var n=function(e){var t,n,i,r,a,o=e.options_,c=o.nextItemMetadataOrItemGroup,s=o.title,u=o.courseId,l=o.itemId,d=o.moduleId,p=o.moduleName;return{item_id:l,course_id:u,item_name:s,lesson_id:o.lessonId,lesson_name:o.lessonName,module_id:d,module_name:p,open_course_slug:K.c,session_id:Object(_n.a)(),video_name:s,version:2,linked_item_id:c?c.getId():"",linked_item_name:c?c.getName():"",timecode:Math.min(null!==(t=e.currentTime())&&void 0!==t?t:0,null!==(n=e.duration())&&void 0!==n?n:0)||0,playback_rate:null!==(i=e.playbackRate())&&void 0!==i?i:1,volume:e.muted()?0:null!==(r=e.volume())&&void 0!==r?r:0,resolution:null!==(a=e.resolution())&&void 0!==a?a:"",tech:e.tech_&&"Html5"===e.tech_.constructor.name?"html5":"flash",subtitle_language:getSubtitleLanguage(e)}}(e);return t.reduce((function(e,t){return p()(p()({},e),{},Kt()({},t,n[t]))}),{})},getTrackingDataForVideoEvent=function(e,t){return AnalyticsMetadataFetcher_getDataByKeys(e,Nn[t]||[])},AnalyticsMetadataFetcher_createVideoEventTracker=function(e,t){var n=Ln.a.makeTracker({namespace:e,include:AnalyticsMetadataFetcher_getDataByKeys(t,["open_course_slug","video_name","course_id","item_id","item_name","lesson_id","lesson_name","module_id","module_name","timecode"])});return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(e,p()(p()({},getTrackingDataForVideoEvent(t,e)),i))}},Rn={autoplaychange:"autoplay.change",joining:"joining",mute:"mute",pause:"pause",play:"play",subtitleschange:"change.subtitles",unmute:"unmute"},Mn={seeked:"seek",waiting:"waiting"},Dn=function(e){function VideoAnalytics(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleVideoProgressEvent=function(){t.props.videoProgress||t.track("video_progress.not_found")},t.track=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.props.player,r=t.context._eventData.namespace.app,a=AnalyticsMetadataFetcher_createVideoEventTracker(r,i);a(e,p()(p()({},getTrackingDataForVideoEvent(i,e)),n))},t.trackHandler=function(e){return function(n,i){t.track(e,i)}},t.trackHandlerDebounce=function(e){var n=t.trackHandler(e);return Vn()(n,200)},t}Mt()(VideoAnalytics,e);var t=VideoAnalytics.prototype;return t.componentDidMount=function(){var e=this,t=this.props.player;Object.entries(Rn).forEach((function(n){var i=v()(n,2),r=i[0],a=i[1];t.on(r,e.trackHandler(a))})),Object.entries(Mn).forEach((function(n){var i=v()(n,2),r=i[0],a=i[1];t.on(r,e.trackHandlerDebounce(a))})),t.one("play",this.trackHandler("start")),t.ready((function(){return e.track("playback_tech")})),t.on("waitmetrics",(function(t){return e.track("wait_metrics",{play_duration:t.playDuration,wait_duration:t.waitDuration,wait_count:t.waitCount})})),t.on("fullscreenchange",(function(){return e.track(t.isFullscreen()?"fullscreen.open":"fullscreen.close")})),t.emitter.on("heartbeat:30000",this.handleVideoProgressEvent),t.emitter.on("heartbeat:5000",this.trackHandler("heartbeat")),t.emitter.once("joined",(function(t){var n=t.joinDuration;return e.track("joined",{join_duration:n})}))},t.componentWillUnmount=function(){var e=this.props.player;Object.keys(Rn).forEach((function(t){return e.off(t)})),e.off("play"),e.off("waitmetrics"),e.emitter.off("heartbeat:30000"),e.emitter.off("heartbeat:5000")},t.render=function(){var e=this.props.children;return e||null},VideoAnalytics}(C.Component);Dn.contextTypes={_eventData:fn.a.object.isRequired};var An={container:Object(y.c)(dn||(dn=m()(["\n    position: absolute;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    background-color: transparent;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: opacity 0.3s ease-in-out, visibility 0.4s ease-in-out;\n    opacity: 0;\n    visibility: hidden;\n  "]))),showActionFeedback:Object(y.c)(pn||(pn=m()(["\n    opacity: 1;\n    visibility: visible;\n  "]))),actionFeedbackIconContainer:Object(y.c)(gn||(gn=m()(["\n    position: relative;\n    width: 124px;\n    height: 124px;\n    border-radius: 50%;\n    background-color: rgb(0 0 0 / 66%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  "])))},components_ActionFeedback=function(e){var t=e.feedback,n=e.showFeedback;return Object(y.d)("div",{role:"presentation","data-testid":"action-feedback-container",css:[An.container,n&&An.showActionFeedback]},t&&Object(y.d)("div",{css:An.actionFeedbackIconContainer,"data-testid":"action-feedback-icon-container"},t.icon))},Fn=t("QjcJ"),Bn=t("cVIm"),Hn=t("zXDh"),removeHallucinatedChapters=function(e,t){var n=e.filter((function(e){return e.startTimestampInSeconds<t}));return n[n.length-1].endTimestampInSeconds=-1,n},getChaptersFromResponse=function(e,t){return Array.isArray(e)&&e.length>1&&!t?e:[]},zn=t("5Zho"),Un=t("+rcu");function isHlsEnabled(){return Un.a.get("enableHlsOnInCourseVideoPlayer")}var Qn,qn=Object(C.createContext)(void 0),ChaptersProvider_ChaptersProvider=function(e){var t=e.children,n=e.courseId,i=e.itemId,r=e.itemDurationInSeconds,a=e.isTrimmedVideo,o=void 0!==a&&a,c=e.videoId,u=C.useState([]),d=v()(u,2),p=d[0],g=d[1],b=Object(Hn.getUserLanguageCode)(),m=Object(dt.b)().selectedAudioLanguage,f=!m.languageKey||"en"===m.languageKey,h="en"===b.split("-")[0]&&f&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Un.a.get("videoChaptersV2",{course_id:e});return"CHAPTER_BAR"===t||"NO_CHAPTER_BAR"===t}(n);C.useEffect((function(){h&&function(){var e=l()(s()().mark((function _callee(){var e,t,a;return s()().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("".concat(Bn.a.url.resource_assets,"video-chapters/chapter-defs/").concat(n,"~").concat(i,".json"));case 2:if(null!=(e=c.sent)&&e.ok){c.next=7;break}return ue.captureException({exception:"Non-critical: Failed to request chapters in ChaptersProvider",hint:e.statusText}),g([]),c.abrupt("return");case 7:return c.prev=7,c.next=10,e.json();case 10:t=c.sent,a=getChaptersFromResponse(t,o),g(removeHallucinatedChapters(a,r)),c.next=19;break;case 15:c.prev=15,c.t0=c.catch(7),ue.captureException({exception:"Non-critical: Failed to process chapters in ChaptersProvider",hint:c.t0}),g([]);case 19:case"end":return c.stop()}}),_callee,null,[[7,15]])})));return function(){return e.apply(this,arguments)}}()()}),[h,n,r,i,o]);var y=C.useMemo((function(){return function(e){return function(e,t){if(e.length&&!(t<0))return e.find((function(e){var n=e.endTimestampInSeconds<0?1/0:e.endTimestampInSeconds;return e.startTimestampInSeconds<=t&&t<n}))}(p,e)}}),[p]),k=h&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"CHAPTER_BAR"===Un.a.get("videoChaptersV2",{course_id:e})}(n);return C.createElement(qn.Provider,{value:{chapters:p,areChaptersEnabled:h,getChapterForTimestamp:y,videoId:c,courseId:n,showChaptersTab:k}},t)},ChaptersProvider_useChapters=function(){var e=Object(C.useContext)(qn);if(!e)throw new Error("useChapters must be used within a ChaptersProvider");return e},Wn=t("/hg5");function getSubtitleLabel(e,t){var n=Object(Wn.d)(e),i=Object(Wn.b)(e);return t?"".concat(n," (").concat(i,")"):n}function constructLanguageMap(e,t){var n={};return Object.keys(e).forEach((function(i){if("__typename"!==i){var r=(null==t?void 0:t[i])||[],a=["machineTranslation","aiGenerated"],o=r.some((function(e){return a.includes(e.name)&&e.value}));n[i]={label:getSubtitleLabel(i,o),url:e[i]}}})),n}var Kn,Zn,Gn,Jn,Yn,Xn,$n,ei,ti,ni,ii,ri,ai,oi,ci,si,ui,li,di,pi,gi=["width","height"],ArrowSvg=function(e){var t=e.width,n=void 0===t?14:t,i=e.height,r=void 0===i?14:i,a=ut()(e,gi);return(C.createElement("svg",o()({xmlns:"http://www.w3.org/2000/svg",width:n,height:r,fill:"none",viewBox:"0 0 14 14"},a),Qn||(Qn=C.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.4339 6.60316L6.71677 0.885998L7.28245 0.320312L13.9653 7.00316L7.28245 13.686L6.71677 13.1203L12.4339 7.40316H0.599609V6.60316H12.4339Z",fill:"white"}))))},vi=["width","height"],CrosSvg=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,r=void 0===i?16:i,a=ut()(e,vi);return(C.createElement("svg",o()({xmlns:"http://www.w3.org/2000/svg",width:n,height:r,fill:"none",viewBox:"0 0 12 12"},a),Kn||(Kn=C.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5391 11.1596L0.837891 1.40962L1.41385 0.836539L11.1151 10.5865L10.5391 11.1596Z",fill:"white"})),Zn||(Zn=C.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.1551 1.41022L1.41325 11.1602L0.83849 10.5859L10.5804 0.835938L11.1551 1.41022Z",fill:"white"}))))},bi=["width","height"],HeadsetSmall=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,r=void 0===i?16:i,a=ut()(e,bi);return(C.createElement("svg",o()({xmlns:"http://www.w3.org/2000/svg",width:n,height:r,viewBox:"0 0 12 14",fill:"none"},a),Gn||(Gn=C.createElement("path",{d:"M10.6667 9.33073V11.3307C10.6667 11.6974 10.3667 11.9974 10 11.9974H9.33333V9.33073H10.6667ZM2.66667 9.33073V11.9974H2C1.63333 11.9974 1.33333 11.6974 1.33333 11.3307V9.33073H2.66667ZM6 0.664062C2.68667 0.664062 0 3.35073 0 6.66406V11.3307C0 12.4374 0.893333 13.3307 2 13.3307H4V7.9974H1.33333V6.66406C1.33333 4.08406 3.42 1.9974 6 1.9974C8.58 1.9974 10.6667 4.08406 10.6667 6.66406V7.9974H8V13.3307H10C11.1067 13.3307 12 12.4374 12 11.3307V6.66406C12 3.35073 9.31333 0.664062 6 0.664062Z",fill:"white"}))))},mi=.9,fi=3,hi=[.75,1,1.25,1.5,1.75,2],yi=-1,Ci="none",ki=["CN","IN"],Oi=[.75,1,1.25,1.5,1.75,2],ji={volumeStep:.1,seekStep:10,enableMute:!0,enableFullscreen:!0,playbackStep:.25,playbackLowerLimit:.75,playbackUpperLimit:2,disablePictureInPicture:!1},wi="vjs-react",xi=t("Zexf"),Si=t("N8J5"),Ti=t.n(Si),Ii={nudgeContainer:Object(y.c)(Jn||(Jn=m()(["\n    position: absolute;\n    top: var(--cds-spacing-100);\n    right: var(--cds-spacing-100);\n    width: 100%;\n    max-width: 375px;\n    background-color: rgb(0 0 0 / 66%);\n    padding: var(--cds-spacing-200);\n    padding-bottom: var(--cds-spacing-300);\n    border-radius: var(--cds-spacing-100);\n    box-shadow: 0 2px 8px 0 rgb(0 0 0 / 32%);\n    backdrop-filter: blur(23px);\n    color: var(--cds-color-neutral-primary-invert);\n  "]))),nudgeTitle:Object(y.c)(Yn||(Yn=m()(["\n    font-size: 15px;\n    font-weight: 600;\n  "]))),nudgeClose:Object(y.c)(Xn||(Xn=m()(["\n    cursor: pointer;\n  "]))),nudgeDescription:Object(y.c)($n||($n=m()(["\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 20px;\n    margin-top: var(--cds-spacing-50);\n  "]))),nudgeFooter:Object(y.c)(ei||(ei=m()(["\n    font-size: 14px;\n    font-weight: 600;\n    margin-top: var(--cds-spacing-200);\n    cursor: pointer;\n  "]))),nudgeArrow:Object(y.c)(ti||(ti=m()(["\n    padding-left: 10px;\n  "])))},Ei="user-education-nudge-displayed",components_AudioDubbingNudgeTooltip=function(e){var t=e.visible,n=void 0!==t&&t,i=e.languageCode,r=e.playerHasLoaded,a=e.trackVideoPlayerClickEvent,o=e.trackVideoPlayerViewEvent,c=e.onDubbedAudioChoiceClick,s=Object(C.useState)(!1),u=v()(s,2),l=u[0],d=u[1],g=Object(C.useState)(!1),b=v()(g,2),m=b[0],f=b[1],h=ye.a.getItem(Ei,JSON.parse,!1),k=!n||l||h;Object(C.useEffect)((function(){!r||m||k||(o("video_audio_warning_tooltip",{}),f(!0))}),[m,k,r,o]);var O=i?getSubtitleLabel(i,!1):"",dismissNudge=function(){d(!0),ye.a.setItem(Ei,!0,JSON.stringify)};return k?null:Object(y.d)(P.a,{container:!0,css:Ii.nudgeContainer,onClick:function(e){return e.stopPropagation()},"data-testid":"user-education-nudge"},Object(y.d)(P.a,{item:!0,container:!0,xs:12},ni||(ni=Object(y.d)(P.a,{item:!0,xs:1},Object(y.d)(HeadsetSmall,null))),Object(y.d)(P.a,{item:!0,xs:10},Object(y.d)("div",{css:Ii.nudgeTitle},Ti()("AI-dubbing available"))),Object(y.d)(P.a,{item:!0,xs:1,css:Ii.nudgeClose,onClick:function(){a("video_audio_warning_tooltip_dismiss",{}),dismissNudge()},"data-testid":"nudge-close"},ii||(ii=Object(y.d)(CrosSvg,null)))),Object(y.d)(P.a,{item:!0,xs:12},Object(y.d)("div",{css:Ii.nudgeDescription},Ti()("Switch your audio settings to #{languageString} for a better learning experience.",{languageString:O}))),Object(y.d)(P.a,{item:!0,container:!0,xs:12,css:Ii.nudgeFooter,onClick:function(){if(i){var e={id:Object(Wn.a)(i),label:Object(Wn.a)(i),languageKey:i};c(e);var t,n={audioLanguage:i,audioLanguageEnabled:!0,previousAudioLanguage:"none"};if(xi.a.get("subtitleLanguage")===Ci)a("video_audio_warning_tooltip_switch",p()({},n));else a("video_settings_menu_audio_language_option",p()(p()({},n),{},{previousSubtitleLanguage:xi.a.get("subtitleLanguage"),subtitleLanguage:null!==(t=e.languageKey)&&void 0!==t?t:"none"}));dismissNudge()}},"data-testid":"nudge-footer"},Object(y.d)(P.a,{item:!0,xs:6},Object(y.d)("div",null,Ti()("Switch audio to #{languageString}",{languageString:O}))),Object(y.d)(P.a,{item:!0,xs:6,css:Ii.nudgeArrow},ri||(ri=Object(y.d)(ArrowSvg,null)))))},Pi=t("hvQS"),Vi=["width","height"],svg_FullscreenExitSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,Vi);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"FullscreenExitSvg"}),ai||(ai=C.createElement("path",{d:"M7 21H4.66667C4.33611 21 4.05903 20.8882 3.83542 20.6646C3.61181 20.441 3.5 20.1639 3.5 19.8333C3.5 19.5028 3.61181 19.2257 3.83542 19.0021C4.05903 18.7785 4.33611 18.6667 4.66667 18.6667H8.16667C8.49722 18.6667 8.77431 18.7785 8.99792 19.0021C9.22153 19.2257 9.33333 19.5028 9.33333 19.8333V23.3333C9.33333 23.6639 9.22153 23.941 8.99792 24.1646C8.77431 24.3882 8.49722 24.5 8.16667 24.5C7.83611 24.5 7.55903 24.3882 7.33542 24.1646C7.11181 23.941 7 23.6639 7 23.3333V21ZM21 21V23.3333C21 23.6639 20.8882 23.941 20.6646 24.1646C20.441 24.3882 20.1639 24.5 19.8333 24.5C19.5028 24.5 19.2257 24.3882 19.0021 24.1646C18.7785 23.941 18.6667 23.6639 18.6667 23.3333V19.8333C18.6667 19.5028 18.7785 19.2257 19.0021 19.0021C19.2257 18.7785 19.5028 18.6667 19.8333 18.6667H23.3333C23.6639 18.6667 23.941 18.7785 24.1646 19.0021C24.3882 19.2257 24.5 19.5028 24.5 19.8333C24.5 20.1639 24.3882 20.441 24.1646 20.6646C23.941 20.8882 23.6639 21 23.3333 21H21ZM7 7V4.66667C7 4.33611 7.11181 4.05903 7.33542 3.83542C7.55903 3.61181 7.83611 3.5 8.16667 3.5C8.49722 3.5 8.77431 3.61181 8.99792 3.83542C9.22153 4.05903 9.33333 4.33611 9.33333 4.66667V8.16667C9.33333 8.49722 9.22153 8.77431 8.99792 8.99792C8.77431 9.22153 8.49722 9.33333 8.16667 9.33333H4.66667C4.33611 9.33333 4.05903 9.22153 3.83542 8.99792C3.61181 8.77431 3.5 8.49722 3.5 8.16667C3.5 7.83611 3.61181 7.55903 3.83542 7.33542C4.05903 7.11181 4.33611 7 4.66667 7H7ZM21 7H23.3333C23.6639 7 23.941 7.11181 24.1646 7.33542C24.3882 7.55903 24.5 7.83611 24.5 8.16667C24.5 8.49722 24.3882 8.77431 24.1646 8.99792C23.941 9.22153 23.6639 9.33333 23.3333 9.33333H19.8333C19.5028 9.33333 19.2257 9.22153 19.0021 8.99792C18.7785 8.77431 18.6667 8.49722 18.6667 8.16667V4.66667C18.6667 4.33611 18.7785 4.05903 19.0021 3.83542C19.2257 3.61181 19.5028 3.5 19.8333 3.5C20.1639 3.5 20.441 3.61181 20.6646 3.83542C20.8882 4.05903 21 4.33611 21 4.66667V7Z",fill:"white"}))))},Li=["width","height"],svg_FullscreenSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,Li);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"FullscreenSvg"}),oi||(oi=C.createElement("path",{d:"M5.83333 22.1667H8.16667C8.49722 22.1667 8.77431 22.2785 8.99792 22.5021C9.22153 22.7257 9.33333 23.0028 9.33333 23.3333C9.33333 23.6639 9.22153 23.941 8.99792 24.1646C8.77431 24.3882 8.49722 24.5 8.16667 24.5H4.66667C4.33611 24.5 4.05903 24.3882 3.83542 24.1646C3.61181 23.941 3.5 23.6639 3.5 23.3333V19.8333C3.5 19.5028 3.61181 19.2257 3.83542 19.0021C4.05903 18.7785 4.33611 18.6667 4.66667 18.6667C4.99722 18.6667 5.27431 18.7785 5.49792 19.0021C5.72153 19.2257 5.83333 19.5028 5.83333 19.8333V22.1667ZM22.1667 22.1667V19.8333C22.1667 19.5028 22.2785 19.2257 22.5021 19.0021C22.7257 18.7785 23.0028 18.6667 23.3333 18.6667C23.6639 18.6667 23.941 18.7785 24.1646 19.0021C24.3882 19.2257 24.5 19.5028 24.5 19.8333V23.3333C24.5 23.6639 24.3882 23.941 24.1646 24.1646C23.941 24.3882 23.6639 24.5 23.3333 24.5H19.8333C19.5028 24.5 19.2257 24.3882 19.0021 24.1646C18.7785 23.941 18.6667 23.6639 18.6667 23.3333C18.6667 23.0028 18.7785 22.7257 19.0021 22.5021C19.2257 22.2785 19.5028 22.1667 19.8333 22.1667H22.1667ZM5.83333 5.83333V8.16667C5.83333 8.49722 5.72153 8.77431 5.49792 8.99792C5.27431 9.22153 4.99722 9.33333 4.66667 9.33333C4.33611 9.33333 4.05903 9.22153 3.83542 8.99792C3.61181 8.77431 3.5 8.49722 3.5 8.16667V4.66667C3.5 4.33611 3.61181 4.05903 3.83542 3.83542C4.05903 3.61181 4.33611 3.5 4.66667 3.5H8.16667C8.49722 3.5 8.77431 3.61181 8.99792 3.83542C9.22153 4.05903 9.33333 4.33611 9.33333 4.66667C9.33333 4.99722 9.22153 5.27431 8.99792 5.49792C8.77431 5.72153 8.49722 5.83333 8.16667 5.83333H5.83333ZM22.1667 5.83333H19.8333C19.5028 5.83333 19.2257 5.72153 19.0021 5.49792C18.7785 5.27431 18.6667 4.99722 18.6667 4.66667C18.6667 4.33611 18.7785 4.05903 19.0021 3.83542C19.2257 3.61181 19.5028 3.5 19.8333 3.5H23.3333C23.6639 3.5 23.941 3.61181 24.1646 3.83542C24.3882 4.05903 24.5 4.33611 24.5 4.66667V8.16667C24.5 8.49722 24.3882 8.77431 24.1646 8.99792C23.941 9.22153 23.6639 9.33333 23.3333 9.33333C23.0028 9.33333 22.7257 9.22153 22.5021 8.99792C22.2785 8.77431 22.1667 8.49722 22.1667 8.16667V5.83333Z",fill:"white"}))))},_i=t("cAeq"),Ni={root:Object(y.c)(ci||(ci=m()(["\n    line-height: 0;\n  "]))),modernTooltip:Object(y.c)(si||(si=m()(["\n    background-color: var(--cds-color-neutral-primary);\n    opacity: 0.8;\n    border-radius: var(--cds-border-radius-100);\n  "]))),message:Object(y.c)(ui||(ui=m()(["\n    padding: 0 var(--cds-spacing-50);\n  "])))},components_ModernTooltipWrapper=function(e){var t=e.message,n=e.keyboardShortcut,i=e.secondaryKeyboardShortcut,r=e.placement,a=void 0===r?"top":r,o=e.className,c=void 0===o?"modern-tooltip-wrapper":o,s=e.offset,u=void 0===s?25:s,l=e.videoBoundaryElement,d=e.children,p=Object(y.d)(mt.a,{component:"span",variant:"bodySecondary",color:"invertBody","data-testid":"modern-tooltip-message",css:Ni.message},t," ",n&&Object(y.d)("strong",null,"(",n,")"),i&&Object(y.d)(C.Fragment,null," ",Object(y.d)("strong",null,"(",i,")")));return Object(y.d)(_i.c,{"data-testid":"modern-tooltip-wrapper",placement:a,tooltipClassName:c,message:p,tooltipCss:Ni.modernTooltip,offset:u,enableArrow:!1,boundaryElement:l,boundaryElementMargin:8,css:Ni.root},d)},Ri=t("80iO"),Mi={isFullScreen:function(){var e=document;return!!(e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitIsFullScreen||e.webkitFullscreenElement)},requestFullScreenExit:(di=l()(s()().mark((function _callee(e){var t;return s()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(new Ri.a).isIOS){n.next=4;break}return n.abrupt("return",e.exitFullscreen());case 4:if(!(t=document).exitFullscreen){n.next=9;break}return n.abrupt("return",t.exitFullscreen());case 9:if(!t.msExitFullscreen){n.next=13;break}return n.abrupt("return",t.msExitFullscreen());case 13:if(!t.mozExitFullScreen){n.next=17;break}return n.abrupt("return",t.mozExitFullScreen());case 17:if(!t.webkitExitFullscreen){n.next=21;break}return n.abrupt("return",t.webkitExitFullscreen());case 21:return n.abrupt("return",Promise.reject(new Error("Fullscreen API is not supported")));case 22:case"end":return n.stop()}}),_callee)}))),function(e){return di.apply(this,arguments)}),requestFullScreen:(li=l()(s()().mark((function _callee2(e){var t;return s()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(new Ri.a).isIOS){n.next=4;break}return n.abrupt("return",e.requestFullscreen());case 4:if(t=function(){var t=e.el_;return null!=t&&t.requestFullscreen?t.requestFullscreen():null!=t&&t.msRequestFullscreen?null==t?void 0:t.msRequestFullscreen():null!=t&&t.mozRequestFullScreen?null==t?void 0:t.mozRequestFullScreen():null!=t&&t.webkitRequestFullscreen?t.webkitRequestFullscreen():Promise.reject(new Error("Fullscreen API is not supported"))},!e.isInPictureInPicture()){n.next=7;break}return n.abrupt("return",e.exitPictureInPicture().then(t,t));case 7:return n.abrupt("return",t());case 8:case"end":return n.stop()}}),_callee2)}))),function(e){return li.apply(this,arguments)})},Di=Object(C.createContext)(null);function VideoPlayerEventingProvider(e){var t=e.children,n=e.dubbedSources,i=e.initialResolution,r=e.videoLibraryVersion,a=e.videoName,o=e.learnerMaxVideoProgressInSeconds,c=e.trimmedStartTimeSeconds,s=e.trimmedDurationSeconds,u=Object(ae.b)(),l=u.itemId,d=u.lessonId,g=u.lessonName,b=u.moduleId,m=u.moduleName,f=u.videoDurationInSeconds,h=u.courseId,k=u.courseSlug,O=u.courseName,j=Object(We.e)(),w=Object(C.useState)(-1),x=v()(w,2),S=x[0],T=x[1],I=C.useRef(o);C.useEffect((function(){I.current=o}),[o]);var E=Object(C.useCallback)((function(){var e="none"!==xi.a.get("audioLanguage"),t=n||{},o=Object.keys(t).length>0;return{videoId:l,autoplay:xi.a.get("autoplay"),courseId:h,courseName:O,courseSlug:k,fullscreen:Mi.isFullScreen(),lessonId:d,lessonName:g,moduleId:b,moduleName:m,playbackRate:xi.a.get("playbackRate"),resolution:i,subtitleLanguage:e?xi.a.get("dubbedSubtitleLanguage"):xi.a.get("subtitleLanguage"),audioLanguage:xi.a.get("audioLanguage"),audioLanguageEnabled:xi.a.get("audioLanguage")!==Ci,audioDubbingAvailable:o,videoDuration:f,videoLibraryVersion:r,videoName:a,videoPosition:I.current?Math.round(I.current):yi,volume:xi.a.get("volume"),trimmedStartTime:c,trimmedDuration:null!=s?s:void 0,dubbingNudgeDisplayed:ye.a.getItem("user-education-nudge-displayed",JSON.parse,!1),transcriptLanguage:Ce.get("language-code")}}),[n,l,h,O,k,d,g,b,m,i,f,r,a,c,s]),P=Object(C.useCallback)((function(e,t,n){var i=E();j(e,{button:{name:t},videoPlayer:p()(p()(p()({},i),n),{},{readyTime:S})})}),[E,j,S]),V=Object(C.useCallback)((function(e,t){var n=E(),i=Object(Hn.getUserLanguageCode)();j("interact_video_player",{videoPlayer:p()(p()(p()({},n),t),{},{videoPosition:0,readyTime:S}),videoPlayerInteractionType:e},{profileLanguage:i})}),[E,j,S]),L=Object(C.useCallback)((function(e,t){P("click_button",e,t)}),[P]),N=Object(C.useCallback)((function(e,t){P("view_button",e,t)}),[P]),R=Object(C.useCallback)((function(e){var t=E();j("view_button",{button:{name:"video_player"},videoPlayer:p()(p()({},t),{},{videoPosition:e})})}),[E,j]);return Object(y.d)(Di.Provider,{value:{trackVideoPlayerClickEvent:L,trackVideoPlayerViewEvent:N,trackInitialVideoPlayerEvent:R,trackVideoPlayerInteractionEvent:V,setReadyTime:T}},t)}function useVideoPlayerEventing(){var e=Object(C.useContext)(Di);if(!e)throw new Error("useVideoPlayerEventing must be used within a VideoPlayerEventingProvider");return e}var Ai={button:Object(y.c)(pi||(pi=m()(["\n    color: var(--cds-color-grey-25);\n    width: 36px;\n    height: 36px;\n\n    "," {\n      width: 30px;\n      height: 30px;\n    }\n  "])),U.a.down("xs"))};var Fi,Bi,Hi,zi,Ui,Qi,qi,Wi,Ki,Zi,Gi,Ji,Yi,Xi,$i,er,tr,nr,ir,rr,ar,or,cr,sr,ur,lr,dr,pr,gr,vr,br,mr,fr,hr,yr,Cr,kr,Or,jr,wr,xr,Sr,Tr,Ir,Er,Pr,Vr,Lr,_r,Nr,Rr,Mr,Dr,Ar,Fr,Br,Hr,zr,Ur,Qr,qr,Wr,Kr,Zr,Gr,Jr,Yr,Xr,$r,ea,ta,na,ia,ra,components_FullscreenToggle=function(e){var t=e.player,n=e.videoBoundaryElement,i=Mi.isFullScreen(),r=i?Ti()("Exit full Screen"):Ti()("Full Screen"),a=i?svg_FullscreenExitSvg:svg_FullscreenSvg,o=useVideoPlayerEventing().trackVideoPlayerClickEvent,c=Object(C.useCallback)((function(){i?Mi.requestFullScreenExit(t):Mi.requestFullScreen(t),o("video_full_screen",{fullscreen:!i})}),[i,t,o]);return Object(y.d)(components_ModernTooltipWrapper,{className:"fullscreen-toggle-tooltip-wrapper",placement:"top",message:r,keyboardShortcut:"f",videoBoundaryElement:n},Object(y.d)(Pi.a,{onClick:c,"data-testid":"fullscreenToggle","aria-label":r,"aria-expanded":i,css:Ai.button},Object(y.d)(a,{width:28,height:28})))},aa=["width","height","reverse"],oa={svg:Object(y.c)(Fi||(Fi=m()(["\n    fill: var(--cds-color-white-0);\n  "]))),reverse:Object(y.c)(Bi||(Bi=m()(["\n    transform: rotate(180deg);\n  "])))},svg_PictureInPictureSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=e.reverse,c=void 0!==a&&a,s=ut()(e,aa);return Object(y.d)("svg",o()({width:n,height:r},s,{viewBox:"1 3 22 18",focusable:"false","aria-hidden":"true",css:[oa.svg,c&&oa.reverse]}),Hi||(Hi=Object(y.d)("path",{d:"M19 11h-8v6h8zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2m-2 .02H3V4.97h18z"})))},pictureInPictureUtils_isPictureInPictureSupported=function(){return!!zn.a.get("enablePictureInPicture")&&(!(new Ri.a).isIOS&&document.pictureInPictureEnabled)},pictureInPictureUtils_togglePictureInPicture=function(e){return e.isInPictureInPicture()?e.exitPictureInPicture():function(e){var pictureInPicture=function(){return e.requestPictureInPicture()};return Mi.isFullScreen()?Mi.requestFullScreenExit(e).then(pictureInPicture,pictureInPicture):pictureInPicture()}(e)},ca={button:Object(y.c)(zi||(zi=m()(["\n    color: var(--cds-color-grey-25);\n    width: 36px;\n    height: 36px;\n\n    "," {\n      width: 30px;\n      height: 30px;\n    }\n  "])),U.a.down("xs"))},components_PictureInPictureToggle=function(e){var t=e.player,n=e.videoBoundaryElement,i=Object(C.useState)(!1),r=v()(i,2),a=r[0],o=r[1],c=a?Ti()("Exit picture in picture"):Ti()("Picture in picture"),s=useVideoPlayerEventing(),u=s.trackVideoPlayerClickEvent,l=s.trackVideoPlayerInteractionEvent,d=Object(C.useCallback)((function(){var e=!t.isInPictureInPicture();pictureInPictureUtils_togglePictureInPicture(t),u("video_picture_in_picture",{pictureInPicture:e}),o(e)}),[t,u]);return Object(C.useEffect)((function(){var exitPictureInPicture=function(){t.isInPictureInPicture()&&t.exitPictureInPicture(),o(!1)};return t.emitter.on("videoQuizView.visible",exitPictureInPicture),t.on("ended",exitPictureInPicture),function(){t.emitter.off("videoQuizView.visible",exitPictureInPicture),t.off("ended",exitPictureInPicture)}}),[t]),Object(C.useEffect)((function(){var enterPictureInPicture=function(){o(!0),l("picture_in_picture_start")},leavePictureInPicture=function(){o(!1),l("picture_in_picture_end")};return t.on("enterpictureinpicture",enterPictureInPicture),t.on("leavepictureinpicture",leavePictureInPicture),function(){t.off("enterpictureinpicture",enterPictureInPicture),t.off("leavepictureinpicture",leavePictureInPicture)}}),[t,l]),Object(y.d)(components_ModernTooltipWrapper,{placement:"top",message:c,keyboardShortcut:"i",videoBoundaryElement:n},Object(y.d)(Pi.a,{onClick:d,"aria-label":c,"aria-expanded":a,css:ca.button},Object(y.d)(svg_PictureInPictureSvg,{width:24,height:24,reverse:a})))},sa=["width","height"],svg_PauseSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,sa);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Ui||(Ui=C.createElement("path",{d:"M17.5002 22.1668C16.8585 22.1668 16.3092 21.9384 15.8522 21.4814C15.3953 21.0245 15.1668 20.4752 15.1668 19.8335V8.16683C15.1668 7.52516 15.3953 6.97586 15.8522 6.51891C16.3092 6.06197 16.8585 5.8335 17.5002 5.8335H19.8335C20.4752 5.8335 21.0245 6.06197 21.4814 6.51891C21.9384 6.97586 22.1668 7.52516 22.1668 8.16683V19.8335C22.1668 20.4752 21.9384 21.0245 21.4814 21.4814C21.0245 21.9384 20.4752 22.1668 19.8335 22.1668H17.5002ZM8.16683 22.1668C7.52516 22.1668 6.97586 21.9384 6.51891 21.4814C6.06197 21.0245 5.8335 20.4752 5.8335 19.8335V8.16683C5.8335 7.52516 6.06197 6.97586 6.51891 6.51891C6.97586 6.06197 7.52516 5.8335 8.16683 5.8335H10.5002C11.1418 5.8335 11.6911 6.06197 12.1481 6.51891C12.605 6.97586 12.8335 7.52516 12.8335 8.16683V19.8335C12.8335 20.4752 12.605 21.0245 12.1481 21.4814C11.6911 21.9384 11.1418 22.1668 10.5002 22.1668H8.16683ZM17.5002 19.8335H19.8335V8.16683H17.5002V19.8335ZM8.16683 19.8335H10.5002V8.16683H8.16683V19.8335Z",fill:"white"}))))},ua=["width","height"],svg_PlayArrowSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,ua);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"PlayArrowSvg"}),Qi||(Qi=C.createElement("path",{d:"M9.3335 20.0376V7.96257C9.3335 7.63201 9.45016 7.35493 9.6835 7.13132C9.91683 6.9077 10.1891 6.7959 10.5002 6.7959C10.5974 6.7959 10.6995 6.81048 10.8064 6.83965C10.9134 6.86882 11.0154 6.91257 11.1127 6.9709L20.621 13.0084C20.796 13.1251 20.9272 13.2709 21.0147 13.4459C21.1022 13.6209 21.146 13.8056 21.146 14.0001C21.146 14.1945 21.1022 14.3792 21.0147 14.5542C20.9272 14.7292 20.796 14.8751 20.621 14.9917L11.1127 21.0292C11.0154 21.0876 10.9134 21.1313 10.8064 21.1605C10.6995 21.1896 10.5974 21.2042 10.5002 21.2042C10.1891 21.2042 9.91683 21.0924 9.6835 20.8688C9.45016 20.6452 9.3335 20.3681 9.3335 20.0376ZM11.6668 17.9084L17.7918 14.0001L11.6668 10.0917V17.9084Z",fill:"white"}))))},la={button:Object(y.c)(qi||(qi=m()(["\n    height: 36px;\n    width: 36px;\n    color: var(--cds-color-grey-25);\n\n    "," {\n      width: 30px;\n      height: 30px;\n    }\n  "])),U.a.down("xs"))},components_PlayToggle=function(e){var t=e.player,n=e.videoBoundaryElement,i=e.trackVideoPlayerClickEvent,r=e.isDubbingAvailable,a=e.trackVideoPlayerInteractionEvent,o=Object(C.useState)(!1),c=v()(o,2),s=c[0],u=c[1],l=C.useRef(!1),d=Object(C.useCallback)((function(){r&&!l.current&&(l.current=!0,null==a||a("end",{}))}),[r,a]),p=Object(C.useCallback)((function(){u(!0),r&&(null==a||a("play",{}))}),[r,a]),g=Object(C.useCallback)((function(){u(!1),r&&(null==a||a("pause",{}))}),[r,a]),b=Object(C.useCallback)((function(){d()}),[d]),m=Object(C.useCallback)((function(){s?(t.pause(),i("video_pause",{})):(t.play(),i("video_play",{}))}),[s,t,i]);Object(C.useEffect)((function(){return u(!t.paused()),t.on("play",p),t.on("pause",g),t.on("ended",b),function(){t.off("play",p),t.off("pause",g),t.off("ended",b),t.player_||d()}}),[t,p,g,b,d]);var f=s?Ti()("Pause"):Ti()("Play"),h=Object(Q.a)(U.a.down("xs"))?30:36;return Object(y.d)(components_ModernTooltipWrapper,{className:"play-toggle-tooltip-wrapper",placement:"top",message:f,videoBoundaryElement:n,keyboardShortcut:"spacebar"},Object(y.d)(Pi.a,{onClick:m,"data-testid":"playToggle","aria-label":f,css:la.button},s?Wi||(Wi=Object(y.d)(svg_PauseSvg,{width:28,height:28})):Object(y.d)(svg_PlayArrowSvg,{width:h,height:h})))},da={root:Object(y.c)(Ki||(Ki=m()(["\n    font-weight: bold;\n    color: var(--cds-color-grey-25);\n  "])))},components_PlaybackRateIndicator=function(e){var t=e.playbackRate,n=e.variant,i=void 0===n?"subtitleLarge":n;return Object(y.d)(mt.a,{component:"span",variant:i,css:da.root},t,"x")},pa={button:Object(y.c)(Zi||(Zi=m()(["\n    padding: 0 var(--cds-spacing-50);\n    height: 36px;\n    min-width: 36px;\n  "]))),indicatorText:Object(y.c)(Gi||(Gi=m()(["\n    font-weight: bold;\n    color: var(--cds-color-grey-25);\n  "])))},components_PlaybackRateControl=function(e){var t=e.currentPlaybackRate,n=e.onPlaybackRateClick,i=e.videoBoundaryElement,r=e.trackVideoPlayerClickEvent;return Object(y.d)(components_ModernTooltipWrapper,{placement:"top",message:Ti()("Switch Playback Rate"),keyboardShortcut:"<",secondaryKeyboardShortcut:">",videoBoundaryElement:i},Object(y.d)(Pi.a,{"aria-label":Ti()("Video playback rate switcher"),onClick:function(){if(t){var e=(Oi.indexOf(t)+1)%Oi.length,i=Oi[e];i&&t&&r("video_playback_rate_switcher",{playbackRate:i,previousPlaybackRate:t}),n(i)}},css:pa.button},Object(y.d)(components_PlaybackRateIndicator,{playbackRate:null!=t?t:1})))},ga=["width","height"],svg_Forward10Svg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,ga);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"Forward10Svg"}),Ji||(Ji=C.createElement("path",{d:"M14 25.6664C12.5417 25.6664 11.1757 25.3894 9.90208 24.8352C8.62847 24.281 7.52014 23.5324 6.57708 22.5894C5.63403 21.6463 4.88542 20.538 4.33125 19.2644C3.77708 17.9907 3.5 16.6248 3.5 15.1664C3.5 13.7081 3.77708 12.3421 4.33125 11.0685C4.88542 9.79491 5.63403 8.68658 6.57708 7.74352C7.52014 6.80046 8.62847 6.05185 9.90208 5.49769C11.1757 4.94352 12.5417 4.66644 14 4.66644H14.175L13.1833 3.67477C12.95 3.44144 12.8382 3.16921 12.8479 2.8581C12.8576 2.54699 12.9694 2.27477 13.1833 2.04144C13.4167 1.8081 13.6938 1.68658 14.0146 1.67685C14.3354 1.66713 14.6125 1.77894 14.8458 2.01227L17.85 5.01644C18.0833 5.24977 18.2 5.52199 18.2 5.8331C18.2 6.14421 18.0833 6.41644 17.85 6.64977L14.8458 9.65394C14.6125 9.88727 14.3354 9.99908 14.0146 9.98935C13.6938 9.97963 13.4167 9.8581 13.1833 9.62477C12.9694 9.39144 12.8576 9.11921 12.8479 8.8081C12.8382 8.49699 12.95 8.22477 13.1833 7.99144L14.175 6.99977H14C11.725 6.99977 9.79514 7.79213 8.21042 9.37685C6.62569 10.9616 5.83333 12.8914 5.83333 15.1664C5.83333 17.4414 6.62569 19.3713 8.21042 20.956C9.79514 22.5407 11.725 23.3331 14 23.3331C16.275 23.3331 18.2049 22.5407 19.7896 20.956C21.3743 19.3713 22.1667 17.4414 22.1667 15.1664C22.1667 14.8359 22.2785 14.5588 22.5021 14.3352C22.7257 14.1116 23.0028 13.9998 23.3333 13.9998C23.6639 13.9998 23.941 14.1116 24.1646 14.3352C24.3882 14.5588 24.5 14.8359 24.5 15.1664C24.5 16.6248 24.2229 17.9907 23.6688 19.2644C23.1146 20.538 22.366 21.6463 21.4229 22.5894C20.4799 23.5324 19.3715 24.281 18.0979 24.8352C16.8243 25.3894 15.4583 25.6664 14 25.6664ZM10.5 13.4164H9.625C9.37222 13.4164 9.16319 13.3338 8.99792 13.1685C8.83264 13.0032 8.75 12.7942 8.75 12.5414C8.75 12.2887 8.83264 12.0796 8.99792 11.9144C9.16319 11.7491 9.37222 11.6664 9.625 11.6664H11.375C11.6278 11.6664 11.8368 11.7491 12.0021 11.9144C12.1674 12.0796 12.25 12.2887 12.25 12.5414V17.7914C12.25 18.0442 12.1674 18.2532 12.0021 18.4185C11.8368 18.5838 11.6278 18.6664 11.375 18.6664C11.1222 18.6664 10.9132 18.5838 10.7479 18.4185C10.5826 18.2532 10.5 18.0442 10.5 17.7914V13.4164ZM14.5833 18.6664C14.2528 18.6664 13.9757 18.5546 13.7521 18.331C13.5285 18.1074 13.4167 17.8303 13.4167 17.4998V12.8331C13.4167 12.5025 13.5285 12.2255 13.7521 12.0019C13.9757 11.7782 14.2528 11.6664 14.5833 11.6664H16.9167C17.2472 11.6664 17.5243 11.7782 17.7479 12.0019C17.9715 12.2255 18.0833 12.5025 18.0833 12.8331V17.4998C18.0833 17.8303 17.9715 18.1074 17.7479 18.331C17.5243 18.5546 17.2472 18.6664 16.9167 18.6664H14.5833ZM15.1667 16.9164H16.3333V13.4164H15.1667V16.9164Z",fill:"white"}))))},va=["width","height"],svg_Replay10Svg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,va);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"Replay10Svg"}),Yi||(Yi=C.createElement("path",{d:"M10.5 13.4164H9.625C9.37222 13.4164 9.16319 13.3338 8.99792 13.1685C8.83264 13.0032 8.75 12.7942 8.75 12.5414C8.75 12.2887 8.83264 12.0796 8.99792 11.9144C9.16319 11.7491 9.37222 11.6664 9.625 11.6664H11.375C11.6278 11.6664 11.8368 11.7491 12.0021 11.9144C12.1674 12.0796 12.25 12.2887 12.25 12.5414V17.7914C12.25 18.0442 12.1674 18.2532 12.0021 18.4185C11.8368 18.5838 11.6278 18.6664 11.375 18.6664C11.1222 18.6664 10.9132 18.5838 10.7479 18.4185C10.5826 18.2532 10.5 18.0442 10.5 17.7914V13.4164ZM14.5833 18.6664C14.2528 18.6664 13.9757 18.5546 13.7521 18.331C13.5285 18.1074 13.4167 17.8303 13.4167 17.4998V12.8331C13.4167 12.5025 13.5285 12.2255 13.7521 12.0019C13.9757 11.7782 14.2528 11.6664 14.5833 11.6664H16.9167C17.2472 11.6664 17.5243 11.7782 17.7479 12.0019C17.9715 12.2255 18.0833 12.5025 18.0833 12.8331V17.4998C18.0833 17.8303 17.9715 18.1074 17.7479 18.331C17.5243 18.5546 17.2472 18.6664 16.9167 18.6664H14.5833ZM15.1667 16.9164H16.3333V13.4164H15.1667V16.9164ZM14 25.6664C12.5417 25.6664 11.1757 25.3894 9.90208 24.8352C8.62847 24.281 7.52014 23.5324 6.57708 22.5894C5.63403 21.6463 4.88542 20.538 4.33125 19.2644C3.77708 17.9907 3.5 16.6248 3.5 15.1664C3.5 14.8359 3.61181 14.5588 3.83542 14.3352C4.05903 14.1116 4.33611 13.9998 4.66667 13.9998C4.99722 13.9998 5.27431 14.1116 5.49792 14.3352C5.72153 14.5588 5.83333 14.8359 5.83333 15.1664C5.83333 17.4414 6.62569 19.3713 8.21042 20.956C9.79514 22.5407 11.725 23.3331 14 23.3331C16.275 23.3331 18.2049 22.5407 19.7896 20.956C21.3743 19.3713 22.1667 17.4414 22.1667 15.1664C22.1667 12.8914 21.3743 10.9616 19.7896 9.37685C18.2049 7.79213 16.275 6.99977 14 6.99977H13.825L14.8167 7.99144C15.05 8.22477 15.1618 8.49699 15.1521 8.8081C15.1424 9.11921 15.0306 9.39144 14.8167 9.62477C14.5833 9.8581 14.3063 9.97963 13.9854 9.98935C13.6646 9.99908 13.3875 9.88727 13.1542 9.65394L10.15 6.64977C9.91667 6.41644 9.8 6.14421 9.8 5.8331C9.8 5.52199 9.91667 5.24977 10.15 5.01644L13.1542 2.01227C13.3875 1.77894 13.6646 1.66713 13.9854 1.67685C14.3063 1.68658 14.5833 1.8081 14.8167 2.04144C15.0306 2.27477 15.1424 2.54699 15.1521 2.8581C15.1618 3.16921 15.05 3.44144 14.8167 3.67477L13.825 4.66644H14C15.4583 4.66644 16.8243 4.94352 18.0979 5.49769C19.3715 6.05185 20.4799 6.80046 21.4229 7.74352C22.366 8.68658 23.1146 9.79491 23.6688 11.0685C24.2229 12.3421 24.5 13.7081 24.5 15.1664C24.5 16.6248 24.2229 17.9907 23.6688 19.2644C23.1146 20.538 22.366 21.6463 21.4229 22.5894C20.4799 23.5324 19.3715 24.281 18.0979 24.8352C16.8243 25.3894 15.4583 25.6664 14 25.6664Z",fill:"white"}))))},ba={button:Object(y.c)(Xi||(Xi=m()(["\n    width: 36px;\n    height: 36px;\n    color: var(--cds-color-grey-25);\n  "])))},SeekControls_SeekButton=function(e){var t=e.direction,n=e.seekTime,i=e.player,r=e.icon,a=e.label,o=e.videoBoundaryElement,c=e.tooltipMessage,s=e.keyboardShortcut,u=e.trackVideoPlayerClickEvent,l=VideoTrimmingContext_useVideoTrimmingContext(),d=l.trimmedStartTimeSeconds,p=l.trimmedEndTimeSeconds;return Object(y.d)(components_ModernTooltipWrapper,{placement:"top",message:c,videoBoundaryElement:o,keyboardShortcut:s},Object(y.d)(Pi.a,{"aria-label":a,onClick:function(){var e,r=null!==(e=i.currentTime())&&void 0!==e?e:0,a=r+t*n;a<d&&(a=d),p&&a>p&&(a=p),r&&u(t>0?"video_seek_forward":"video_seek_backward",{videoPosition:a,previousVideoPosition:r}),i.currentTime(a)},css:ba.button},r))},SeekControls_SeekForwardControl=function(e){var t=e.player,n=e.videoBoundaryElement,i=e.trackVideoPlayerClickEvent;return Object(y.d)(SeekControls_SeekButton,{label:Ti()("Seek Video Forward 10 seconds"),player:t,seekTime:10,direction:1,icon:$i||($i=Object(y.d)(svg_Forward10Svg,{width:28,height:28})),videoBoundaryElement:n,tooltipMessage:Ti()("Forward 10s"),keyboardShortcut:"right",trackVideoPlayerClickEvent:i})},SeekControls_SeekBackwardControl=function(e){var t=e.player,n=e.videoBoundaryElement,i=e.trackVideoPlayerClickEvent;return Object(y.d)(SeekControls_SeekButton,{label:Ti()("Seek Video Backward 10 seconds"),player:t,seekTime:10,direction:-1,icon:er||(er=Object(y.d)(svg_Replay10Svg,{width:28,height:28})),videoBoundaryElement:n,tooltipMessage:Ti()("Backward 10s"),keyboardShortcut:"left",trackVideoPlayerClickEvent:i})},ma={videoTimeDisplay:Object(y.c)(tr||(tr=m()(["\n    white-space: nowrap;\n\n    .current-time-display,\n    .time-separator,\n    .duration-display {\n      color: var(--cds-color-grey-25);\n    }\n  "]))),text:Object(y.c)(nr||(nr=m()(["\n    font-weight: var(--cds-font-weight-700);\n  "])))},components_VideoTimeDisplay=function(e){var t=e.player,n=e.trimmedStartTimeSeconds,i=Object(C.useState)(null),r=v()(i,2),a=r[0],o=r[1],c=Object(C.useState)(null),s=v()(c,2),u=s[0],l=s[1],d=Object(C.useCallback)((function(){var e;return(null!==(e=t.currentTime())&&void 0!==e?e:0)-n}),[t,n]),p=Object(C.useCallback)((function(){o(d())}),[d]),g=Object(C.useCallback)((function(){var e;l(null!==(e=t.duration())&&void 0!==e?e:null)}),[t]);Object(C.useEffect)((function(){var e;return o(d()),l(null!==(e=t.duration())&&void 0!==e?e:null),t.on("timeupdate",p),t.on("durationchange",g),function(){t.off("timeupdate",p),t.off("durationchange",g)}}),[t,p,g,d]);var b=Object(C.useCallback)((function(e,t){if(!e||e<0)return t?"0 minutes 0 seconds":"0:00";var n="".concat(Math.floor(e/60)),i="".concat(Math.floor(e%60)).padStart(2,"0");return t?"".concat(n," minutes ").concat(i," seconds"):"".concat(n,":").concat(i)}),[]),m=Object(Q.a)(U.a.down("xs"));return null==a||null==u?null:Object(y.d)("div",{css:ma.videoTimeDisplay},Object(y.d)(mt.a,{component:"span",variant:m?"subtitleMedium":"subtitleLarge",css:m&&ma.text},Object(y.d)("span",{className:"current-time-display","aria-label":Ti()(b(a,!0))},b(a)),ir||(ir=Object(y.d)("span",{className:"time-separator"}," / ")),Object(y.d)("span",{className:"duration-display","aria-label":Ti()(b(u,!0))},b(u))))},fa={namespace:{app:"open_course",page:"video"}},useAutoplayToggle_useAutoplayToggle=function(e){var t=e.subscribeToAutoplayChanges,n=e.unsubscribeFromAutoplayChanges,i=e.triggerAutoplayChangePlayerEvent,r=Object(C.useState)(xi.a.get("autoplay")),a=v()(r,2),o=a[0],c=a[1];Object(C.useEffect)((function(){var updateAutoplayUi=function(){return c(xi.a.get("autoplay"))};return t(updateAutoplayUi),function(){n(updateAutoplayUi)}}),[t,n,i]);return{autoplay:o,handleToggleSwitchClick:function(){var e=!o;c(e),xi.a.set("autoplay",e),i(),function(e){var t={autoplay:e};Ln.a.trackComponent(fa,t,"autoplay_toggle_standalone","click")}(e)}}},videoUtils_getDefaultVideoResolution=function(){return ki.includes(Bn.a.requestCountryCode)?"360p":"540p"},videoUtils_formatSourcesByResolution=function(e){var t={};return Object.entries(e).forEach((function(e){var n=v()(e,2),i=n[0],r=n[1];t[i]=Object.entries(r).map((function(e){var t=v()(e,2);return{type:t[0],src:t[1]}}))})),t},videoUtils_getEventingDubbingLanguage=function(e,t){return t?e===t?Ci:t:Ci},loadNewSrc=function(e){var t=e.player,n=e.type,i=e.src,r=e.onLoadedMetadata,a=t.paused(),o=t.currentTime(),c=t.playbackRate();t.one("loadedmetadata",(function(){r?r():function(e){var t=e.player,n=e.currentTime,i=e.playbackRate,r=e.isPaused;t.currentTime(n),t.playbackRate(i);var a=xi.a.get("autoplay");r&&!a?t.pause():t.play()}({player:t,currentTime:o,playbackRate:c,isPaused:a})})),t.src({src:i,type:n})},ha=["234p","240p","270p","360p","540p","720p","1080p","auto"],getInitialResolution=function(e){var t,n=e.sourcesByResolution,i=e.enableHlsExperiment,r=e.isAutoAllowed,a=Object.keys(null!=n?n:{}).sort((function(e,t){return parseInt(t,10)-parseInt(e,10)})),o=function(e){var t=e.enableHlsExperiment,n=e.isAutoAllowed,i=void 0===n||n,r=videoUtils_getDefaultVideoResolution(),a=xi.a.get("resolution"),o=ha.includes(a)?a:r;if(t){var c=xi.a.get("hlsResolution");o=ha.includes(c)?c:"auto"}return i||"auto"!==o||(o=r),o}({enableHlsExperiment:!!i,isAutoAllowed:r});return"auto"===o?o:n[o]?o:null!==(t=a[0])&&void 0!==t?t:"auto"},resolutionUtils_saveResolutionInUserPreferences=function(e){xi.a.set("resolution",e),xi.a.set("hlsResolution",e)},ya=t("Y3SK"),Ca=t.n(ya),ka=t("9pRD"),Oa=t("z6VC"),ja=(t("dl6a"),{FR:["fr"],BE:["fr"],CA:["fr"],CH:["fr","de"],LU:["fr","de"],DE:["de"],AT:["de"],LI:["de"],ES:["es"],AR:["es"],BO:["es"],CL:["es"],CO:["es"],CR:["es"],CU:["es"],DO:["es"],EC:["es"],SV:["es"],GQ:["es"],GT:["es"],HN:["es"],MX:["es"],NI:["es"],PA:["es"],PY:["es"],PE:["es"],PR:["es"],UY:["es"],VE:["es"],BR:["pt-br"]}),dubbingUtil_getAudienceLanguageFromCountryCode=function(e){var t=Oa.a.get(),n=ja[t];if(!Array.isArray(n)||!e)return null;var i,r=e.map((function(e){return e.languageCode})),a=Ca()(n);try{for(a.s();!(i=a.n()).done;){var o,c=i.value,s=Ca()(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(Object(Hn.getLanguageMatch)(c,u))return c}}catch(e){s.e(e)}finally{s.f()}}}catch(e){a.e(e)}finally{a.f()}return null},dubbingUtil_getAudienceLanguageFromBrowserLanguage=function(e){var t,n,i=null===(t=ka.a.get())||void 0===t?void 0:t.browserLanguage;return i&&null!=e&&null!==(n=e.map((function(e){return e.languageCode})))&&void 0!==n&&n.some((function(e){return Object(Hn.getLanguageMatch)(e,i)}))?i:null},transformDubbedSources=function(e){return Object.values(e).map((function(e){return{languageCode:e}}))},wa=hi[0],xa=hi[hi.length-1],normalizePlaybackRate=function(e){return Math.max(Math.min(e||1,xa),wa)},usePlaybackRateControls_usePlaybackRateControls=function(e){var t,n=Object(C.useState)(null!==(t=e.playbackRate())&&void 0!==t?t:null),i=v()(n,2),r=i[0],a=i[1],o=Object(C.useCallback)((function(){var t=e.playbackRate()||1;if(n=t,hi.includes(n)){var n;a(t),xi.a.set("playbackRate",t)}else{var i=normalizePlaybackRate(t);e.playbackRate(i)}}),[e]);Object(C.useEffect)((function(){return e.on("ratechange",o),function(){e.off("ratechange",o)}}),[o,e]);return{currentPlaybackRate:r,supportedPlaybackRates:hi,onPlaybackRateClick:function(t){var n=hi.findIndex((function(e){return e===t})),i=hi[n];e.playbackRate(i)}}},useSubtitleMenuControls_useSubtitleMenuControls=function(e){var t=e.player,n=e.defaultSubtitleLanguage,i=e.trackVideoPlayerClickEvent,r=e.selectedAudioLanguage,a=e.defaultLanguageKey,o=e.shouldShowNudgeOnSubtitleChange,c=Object(C.useState)(null),s=v()(c,2),u=s[0],l=s[1],d=(null==r?void 0:r.languageKey)!==a,p=Object(C.useState)([]),g=v()(p,2),b=g[0],m=g[1],f=Object(C.useCallback)((function(e){for(var n=t.textTracks().tracks_,i=0;i<n.length;i+=1){var r=n[i];"captions"!==r.kind||r.label!==e.label||r.id.includes("-dub")?r.mode="disabled":r.mode="showing"}}),[t]),h=Object(C.useCallback)((function(e){for(var n=t.textTracks().tracks_,i=0;i<n.length;i+=1){var r=n[i];"captions"===r.kind&&r.label===e.label&&r.id.includes("-dub")?r.mode="showing":r.mode="disabled"}}),[t]),y=Object(C.useCallback)((function(){var e=t.textTracks().tracks_,n=void 0===e?[]:e,i=n.filter((function(e){return e.id.includes("-dub")})).filter((function(e){return e.language===(null==r?void 0:r.languageKey)})),o=n.filter((function(e){return"captions"===e.kind&&!e.id.includes("-dub")})).sort((function(e,t){var n=e.label.toUpperCase(),i=t.label.toUpperCase();return n<i?-1:n>i?1:0}));return(null==r?void 0:r.languageKey)!==a?i:o}),[t,null==r?void 0:r.languageKey,a]),onSubtitleLanguageChoiceClick=function(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u&&(u.mode="disabled"),d?xi.a.set("dubbedSubtitleLanguage",e?e.language:"none"):xi.a.set("subtitleLanguage",e?e.language:"none"),n||i("video_subtitle_option",{previousSubtitleLanguage:xi.a.get("subtitleLanguage"),subtitleLanguage:e.language}),a?h(e):f(e),l(e),null==o||o(e.language),t.trigger("trackchange"),t.trigger("subtitleschange",{previousLanguage:null!==(r=null==u?void 0:u.language)&&void 0!==r?r:""})};Object(C.useEffect)((function(){var getCurrentTrack=function(){return t.textTracks().tracks_.find((function(e){return"showing"===e.mode}))||null},onTrackChange=function(){l(getCurrentTrack())},onTrackLoad=function(){var e,i=t.textTracks().tracks_.find((function(e){return e.language===n}))||null,r=getCurrentTrack();!r&&i&&f(i),null==o||o(null!==(e=null==r?void 0:r.language)&&void 0!==e?e:""),l(r),m(y())};return t.on("trackchange",onTrackChange),t.on("trackloaded",onTrackLoad),function(){t.off("trackchange",onTrackChange),t.off("trackloaded",onTrackLoad)}}),[u,n,y,t,f,o]);var onSubtitleOffClick=function(e){var n;u&&(u.mode="disabled"),e?xi.a.set("dubbedSubtitleLanguage","none"):xi.a.set("subtitleLanguage","none"),l(null),t.trigger("trackchange"),t.trigger("subtitleschange",{previousLanguage:null!==(n=null==u?void 0:u.language)&&void 0!==n?n:""})};return function(e){var t=e.getTracks,n=e.defaultLanguageKey,i=e.onSubtitleOffClick,r=e.isDubbedAudioEnabled,a=e.onSubtitleLanguageChoiceClick,o=e.player,c=Object(dt.b)(),s=c.changeSubtitleOnAudioChange,u=c.setChangeSubtitleOnAudioChange;Object(C.useEffect)((function(){if(s.shouldChange){var e=xi.a.get("subtitleLanguage"),r=t().find((function(t){return t.language===e}));if(s.languageCode===n){if(!r||"none"===e)return void(null==i||i());null==a||a(r,!0,!1)}else{if(!e||"none"===e)return;var o=t().find((function(e){return e.language===s.languageCode}));if(!o)return;null==a||a(o,!0,!0)}u({shouldChange:!1,languageCode:void 0})}}),[s.languageCode,s.shouldChange,n,t,a,i,u]),Object(C.useEffect)((function(){o.on("loadedmetadata",(function(){if(r){var e=xi.a.get("dubbedSubtitleLanguage");if(e){var n=t().find((function(t){return t.language===e}));n&&(null==a||a(n,!0,!0))}}}))}),[r,t,o])}({getTracks:y,defaultLanguageKey:a,onSubtitleOffClick:onSubtitleOffClick,isDubbedAudioEnabled:d,onSubtitleLanguageChoiceClick:onSubtitleLanguageChoiceClick,player:t}),{onSubtitleLanguageChoiceClick:onSubtitleLanguageChoiceClick,onSubtitleOffClick:onSubtitleOffClick,currentTrack:u,tracks:b}},Sa=t("UOrB"),Ta=t("V16S"),Ia=t("668i"),Ea=t("OsBQ"),Pa=["width","height"],Headset=function(e){var t=e.width,n=void 0===t?24:t,i=e.height,r=void 0===i?24:i,a=ut()(e,Pa);return(C.createElement("svg",o()({xmlns:"http://www.w3.org/2000/svg",width:n,height:r,fill:"none",viewBox:"0 0 18 20"},a),rr||(rr=C.createElement("path",{d:"M16 13.5V16.5C16 17.05 15.55 17.5 15 17.5H14V13.5H16ZM4 13.5V17.5H3C2.45 17.5 2 17.05 2 16.5V13.5H4ZM9 0.5C4.03 0.5 0 4.53 0 9.5V16.5C0 18.16 1.34 19.5 3 19.5H6V11.5H2V9.5C2 5.63 5.13 2.5 9 2.5C12.87 2.5 16 5.63 16 9.5V11.5H12V19.5H15C16.66 19.5 18 18.16 18 16.5V9.5C18 4.53 13.97 0.5 9 0.5Z",fill:"white"}))))},Va=["width","height"],svg_HighQualitySvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,Va);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),ar||(ar=C.createElement("path",{d:"M14.75 15V15.75C14.75 15.9667 14.8208 16.1458 14.9625 16.2875C15.1042 16.4292 15.2833 16.5 15.5 16.5C15.7167 16.5 15.8958 16.4292 16.0375 16.2875C16.1792 16.1458 16.25 15.9667 16.25 15.75V15H17C17.2833 15 17.5208 14.9042 17.7125 14.7125C17.9042 14.5208 18 14.2833 18 14V10C18 9.71667 17.9042 9.47917 17.7125 9.2875C17.5208 9.09583 17.2833 9 17 9H14C13.7167 9 13.4792 9.09583 13.2875 9.2875C13.0958 9.47917 13 9.71667 13 10V14C13 14.2833 13.0958 14.5208 13.2875 14.7125C13.4792 14.9042 13.7167 15 14 15H14.75ZM7.5 13H9.5V14.25C9.5 14.4667 9.57083 14.6458 9.7125 14.7875C9.85417 14.9292 10.0333 15 10.25 15C10.4667 15 10.6458 14.9292 10.7875 14.7875C10.9292 14.6458 11 14.4667 11 14.25V9.75C11 9.53333 10.9292 9.35417 10.7875 9.2125C10.6458 9.07083 10.4667 9 10.25 9C10.0333 9 9.85417 9.07083 9.7125 9.2125C9.57083 9.35417 9.5 9.53333 9.5 9.75V11.5H7.5V9.75C7.5 9.53333 7.42917 9.35417 7.2875 9.2125C7.14583 9.07083 6.96667 9 6.75 9C6.53333 9 6.35417 9.07083 6.2125 9.2125C6.07083 9.35417 6 9.53333 6 9.75V14.25C6 14.4667 6.07083 14.6458 6.2125 14.7875C6.35417 14.9292 6.53333 15 6.75 15C6.96667 15 7.14583 14.9292 7.2875 14.7875C7.42917 14.6458 7.5 14.4667 7.5 14.25V13ZM14.5 13.5V10.5H16.5V13.5H14.5ZM4 20C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H20C20.55 4 21.0208 4.19583 21.4125 4.5875C21.8042 4.97917 22 5.45 22 6V18C22 18.55 21.8042 19.0208 21.4125 19.4125C21.0208 19.8042 20.55 20 20 20H4ZM4 18H20V6H4V18Z",fill:"currentColor"}))))},La=["width","height"],svg_PlayCircleSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,La);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),or||(or=C.createElement("path",{d:"M10.65 15.75L15.525 12.625C15.7583 12.475 15.875 12.2667 15.875 12C15.875 11.7333 15.7583 11.525 15.525 11.375L10.65 8.25C10.4 8.08333 10.1458 8.07083 9.8875 8.2125C9.62917 8.35417 9.5 8.575 9.5 8.875V15.125C9.5 15.425 9.62917 15.6458 9.8875 15.7875C10.1458 15.9292 10.4 15.9167 10.65 15.75ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z",fill:"currentColor"}))))},_a=["width","height"],svg_PlaybackSpeedSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,_a);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),cr||(cr=C.createElement("path",{d:"M10.65 15.7499L15.525 12.6249C15.7583 12.4749 15.875 12.2666 15.875 11.9999C15.875 11.7333 15.7583 11.5249 15.525 11.3749L10.65 8.24992C10.4 8.08326 10.1458 8.07076 9.8875 8.21242C9.62916 8.35409 9.5 8.57493 9.5 8.87493V15.1249C9.5 15.4249 9.62916 15.6458 9.8875 15.7874C10.1458 15.9291 10.4 15.9166 10.65 15.7499ZM3.025 12.9999C3.30833 12.9999 3.5625 13.0916 3.7875 13.2749C4.0125 13.4583 4.16666 13.6916 4.25 13.9749C4.35 14.3583 4.47083 14.7208 4.6125 15.0624C4.75416 15.4041 4.91666 15.7416 5.1 16.0749C5.25 16.3249 5.3125 16.5916 5.2875 16.8749C5.2625 17.1583 5.15 17.3999 4.95 17.5999C4.76666 17.7833 4.54166 17.8666 4.275 17.8499C4.00833 17.8333 3.8 17.7166 3.65 17.4999C3.28333 16.9833 2.975 16.4291 2.725 15.8374C2.475 15.2458 2.28333 14.6333 2.15 13.9999C2.1 13.7333 2.1625 13.4999 2.3375 13.2999C2.5125 13.0999 2.74166 12.9999 3.025 12.9999ZM4.95 6.39992C5.15 6.59992 5.25833 6.84159 5.275 7.12492C5.29166 7.40826 5.23333 7.66659 5.1 7.89992C4.91666 8.23326 4.75416 8.57493 4.6125 8.92493C4.47083 9.27493 4.35 9.64159 4.25 10.0249C4.16666 10.3083 4.0125 10.5416 3.7875 10.7249C3.5625 10.9083 3.30833 10.9999 3.025 10.9999C2.74166 10.9999 2.5125 10.8958 2.3375 10.6874C2.1625 10.4791 2.10833 10.2416 2.175 9.97493C2.30833 9.34159 2.5 8.72909 2.75 8.13742C3 7.54576 3.3 6.99159 3.65 6.47492C3.8 6.25826 4.00833 6.14576 4.275 6.13742C4.54166 6.12909 4.76666 6.21659 4.95 6.39992ZM6.35 19.0249C6.55 18.8083 6.79583 18.6916 7.0875 18.6749C7.37916 18.6583 7.65 18.7249 7.9 18.8749C8.23333 19.0583 8.57083 19.2249 8.9125 19.3749C9.25416 19.5249 9.60833 19.6499 9.975 19.7499C10.2583 19.8333 10.4917 19.9833 10.675 20.1999C10.8583 20.4166 10.95 20.6666 10.95 20.9499C10.95 21.2333 10.8458 21.4583 10.6375 21.6249C10.4292 21.7916 10.1917 21.8499 9.925 21.7999C9.29166 21.6666 8.69583 21.4749 8.1375 21.2249C7.57916 20.9749 7.03333 20.6833 6.5 20.3499C6.26666 20.1999 6.1375 19.9916 6.1125 19.7249C6.0875 19.4583 6.16666 19.2249 6.35 19.0249ZM11 3.04992C11 3.33326 10.9125 3.58326 10.7375 3.79992C10.5625 4.01659 10.3333 4.16659 10.05 4.24992C9.66666 4.34992 9.3 4.47076 8.95 4.61242C8.6 4.75409 8.25833 4.92492 7.925 5.12492C7.675 5.27492 7.40416 5.33742 7.1125 5.31242C6.82083 5.28742 6.575 5.17492 6.375 4.97492C6.175 4.77492 6.0875 4.53742 6.1125 4.26242C6.1375 3.98742 6.26666 3.77492 6.5 3.62492C7.03333 3.29159 7.5875 3.00409 8.1625 2.76242C8.7375 2.52076 9.34166 2.33326 9.975 2.19992C10.2417 2.14992 10.4792 2.20826 10.6875 2.37492C10.8958 2.54159 11 2.76659 11 3.04992ZM20 11.9999C20 10.1166 19.4208 8.45409 18.2625 7.01242C17.1042 5.57076 15.625 4.63326 13.825 4.19992C13.575 4.13326 13.375 3.99159 13.225 3.77492C13.075 3.55826 13 3.31659 13 3.04992C13 2.78326 13.0917 2.56242 13.275 2.38742C13.4583 2.21242 13.6667 2.14992 13.9 2.19992C16.2333 2.66659 18.1667 3.80826 19.7 5.62492C21.2333 7.44159 22 9.56659 22 11.9999C22 14.4333 21.2333 16.5583 19.7 18.3749C18.1667 20.1916 16.2333 21.3333 13.9 21.7999C13.6667 21.8499 13.4583 21.7874 13.275 21.6124C13.0917 21.4374 13 21.2166 13 20.9499C13 20.6833 13.075 20.4416 13.225 20.2249C13.375 20.0083 13.575 19.8666 13.825 19.7999C15.625 19.3666 17.1042 18.4291 18.2625 16.9874C19.4208 15.5458 20 13.8833 20 11.9999Z",fill:"currentColor"}))))},Na=["width","height"],svg_SubtitlesSvg=function(e){var t=e.width,n=void 0===t?18:t,i=e.height,r=void 0===i?19:i,a=ut()(e,Na);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"SubtitlesSvg"}),sr||(sr=C.createElement("path",{d:"M4.66683 23.3332C4.02516 23.3332 3.47586 23.1047 3.01891 22.6478C2.56197 22.1908 2.3335 21.6415 2.3335 20.9998V6.99984C2.3335 6.35817 2.56197 5.80887 3.01891 5.35192C3.47586 4.89498 4.02516 4.6665 4.66683 4.6665H23.3335C23.9752 4.6665 24.5245 4.89498 24.9814 5.35192C25.4384 5.80887 25.6668 6.35817 25.6668 6.99984V20.9998C25.6668 21.6415 25.4384 22.1908 24.9814 22.6478C24.5245 23.1047 23.9752 23.3332 23.3335 23.3332H4.66683ZM4.66683 20.9998H23.3335V6.99984H4.66683V20.9998ZM8.16683 18.6665H15.1668C15.4974 18.6665 15.7745 18.5547 15.9981 18.3311C16.2217 18.1075 16.3335 17.8304 16.3335 17.4998C16.3335 17.1693 16.2217 16.8922 15.9981 16.6686C15.7745 16.445 15.4974 16.3332 15.1668 16.3332H8.16683C7.83627 16.3332 7.55919 16.445 7.33558 16.6686C7.11197 16.8922 7.00016 17.1693 7.00016 17.4998C7.00016 17.8304 7.11197 18.1075 7.33558 18.3311C7.55919 18.5547 7.83627 18.6665 8.16683 18.6665ZM12.8335 13.9998H19.8335C20.1641 13.9998 20.4411 13.888 20.6647 13.6644C20.8884 13.4408 21.0002 13.1637 21.0002 12.8332C21.0002 12.5026 20.8884 12.2255 20.6647 12.0019C20.4411 11.7783 20.1641 11.6665 19.8335 11.6665H12.8335C12.5029 11.6665 12.2259 11.7783 12.0022 12.0019C11.7786 12.2255 11.6668 12.5026 11.6668 12.8332C11.6668 13.1637 11.7786 13.4408 12.0022 13.6644C12.2259 13.888 12.5029 13.9998 12.8335 13.9998ZM8.16683 13.9998C8.49738 13.9998 8.77447 13.888 8.99808 13.6644C9.22169 13.4408 9.3335 13.1637 9.3335 12.8332C9.3335 12.5026 9.22169 12.2255 8.99808 12.0019C8.77447 11.7783 8.49738 11.6665 8.16683 11.6665C7.83627 11.6665 7.55919 11.7783 7.33558 12.0019C7.11197 12.2255 7.00016 12.5026 7.00016 12.8332C7.00016 13.1637 7.11197 13.4408 7.33558 13.6644C7.55919 13.888 7.83627 13.9998 8.16683 13.9998ZM19.8335 18.6665C20.1641 18.6665 20.4411 18.5547 20.6647 18.3311C20.8884 18.1075 21.0002 17.8304 21.0002 17.4998C21.0002 17.1693 20.8884 16.8922 20.6647 16.6686C20.4411 16.445 20.1641 16.3332 19.8335 16.3332C19.5029 16.3332 19.2259 16.445 19.0022 16.6686C18.7786 16.8922 18.6668 17.1693 18.6668 17.4998C18.6668 17.8304 18.7786 18.1075 19.0022 18.3311C19.2259 18.5547 19.5029 18.6665 19.8335 18.6665Z",fill:"currentColor"}))))},utils_getAriaLabel=function(e){var t=e.title,n=e.isSelected;return"option"===e.role&&n?[t,Ti()("selected")].join(" "):t},Ra={menuIconContainer:Object(y.c)(ur||(ur=m()(["\n    display: flex;\n    align-items: center;\n    width: 28px;\n    height: 28px;\n    justify-content: center;\n  "]))),menuItem:Object(y.c)(lr||(lr=m()(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    gap: var(--cds-spacing-150);\n    padding: var(--cds-spacing-100) var(--cds-spacing-200);\n\n    &:hover {\n      /* we want to use the white color both in light and dark mode */\n      background-color: rgb(255 255 255 / 12%);\n\n      /* we want to use the white color both in light and dark mode */\n      color: ",";\n    }\n\n    &:focus-visible {\n      ::after {\n        inset: 3px;\n      }\n    }\n  "])),Sa.c.WHITE),menuItemTitle:Object(y.c)(dr||(dr=m()(["\n    flex: 1;\n    display: flex;\n    justify-content: flex-start;\n    text-align: left;\n    color: ",";\n  "])),Sa.c.WHITE)},modernSettingsMenu_ModernSettingsMenuItem=function(e){var t=e.menuItem,n=t.isSelected,i=void 0!==n&&n,r=t.title,a=t.icon,c=t.action,s=t.actionComponent,u=t.role,l=void 0===u?"menuitem":u,d=t.lang;return Object(y.d)(Pi.a,o()({role:l},function(e){var t=e.role,n=e.isSelected,i={"aria-label":utils_getAriaLabel(e)};switch(t){case"option":i["aria-selected"]=n;break;case"menuitemradio":case"menuitemcheckbox":i["aria-checked"]=n}return i}({title:r,role:l,isSelected:i}),{css:[Ra.menuItem],onClick:c,"data-testid":"".concat(null!=l?l:"menuItem","-").concat(r),lang:d}),Object(y.d)("div",{css:Ra.menuIconContainer},a),Object(y.d)(mt.a,{css:Ra.menuItemTitle,variant:"actionPrimary",color:"invertBody",component:"div"},r),s&&Object(y.d)("div",null,s))},modernSettingsMenu_ModernSettingsMenuItemList=function(e){var t=e.menuConfig,n=e.role,i=Object(Ta.c)();return Object(C.useEffect)((function(){var e=setTimeout((function(){null==i||i.focusFirst()}),200);return function(){clearTimeout(e)}}),[i]),C.createElement("div",{role:n},t.map((function(e){return C.createElement(modernSettingsMenu_ModernSettingsMenuItem,{key:e.title,menuItem:e})})))},Ma=t("A0dR"),Da=t("wr+D"),Aa={menuIconContainer:Object(y.c)(pr||(pr=m()(["\n    display: flex;\n    align-items: center;\n    width: 28px;\n    height: 28px;\n    justify-content: center;\n  "]))),submenuTitleButton:Object(y.c)(gr||(gr=m()(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    gap: var(--cds-spacing-150);\n    padding: var(--cds-spacing-100) var(--cds-spacing-200);\n    width: 100%;\n    border-bottom: 1px solid rgb(255 255 255 / 24%);\n    margin-bottom: var(--cds-spacing-100);\n    border-radius: 0;\n\n    &:focus-visible {\n      ::after {\n        inset: 3px;\n      }\n    }\n\n    &:hover {\n      background-color: rgb(255 255 255 / 12%);\n      color: ",";\n    }\n  "])),Sa.c.WHITE),submenuTitle:Object(y.c)(vr||(vr=m()(["\n    display: flex;\n    color: ",";\n  "])),Sa.c.WHITE),boldIcon:Object(y.c)(br||(br=m()(["\n    /* The CDS chevron is not bold enough, so we need to override the styling */\n    fill: ",";\n    stroke: ",";\n    stroke-width: 1px;\n  "])),Sa.c.WHITE,Sa.c.WHITE)},modernSettingsMenu_ModernSettingsSubmenu=function(e){var t=e.title,n=e.selected,i=e.options,r=e.action,a=e.onBackButtonClick,o=i.map((function(e){var t=e.id===(null==n?void 0:n.id);return{title:e.label,icon:t?mr||(mr=Object(y.d)(Ma.a,{size:"large"})):void 0,isSelected:t,action:function(){r(e)},role:e.role,lang:e.lang}}));return Object(y.d)("div",null,Object(y.d)(Pi.a,{onClick:a,"aria-label":Ti()("Go back to main settings menu"),css:Aa.submenuTitleButton},Object(y.d)("div",{css:Aa.menuIconContainer},Object(y.d)(Da.a,{size:"medium",css:Aa.boldIcon})),Object(y.d)(mt.a,{css:Aa.submenuTitle,color:"invertBody",component:"p",variant:"subtitleMedium"},t)),Object(y.d)(modernSettingsMenu_ModernSettingsMenuItemList,{menuConfig:o,role:"menu"}))},Fa=t("TSYQ"),Ba=t.n(Fa),Ha={root:Object(y.c)(fr||(fr=m()(["\n    width: 100%;\n    display: flex;\n    gap: 24px;\n    align-items: flex-start;\n\n    .switch-toggle {\n      position: relative;\n      border-radius: 12px;\n      height: 24px;\n      width: 40px;\n      display: flex;\n      align-items: center;\n      transition: background 0.1s ease-in-out;\n\n      .switch-indicator {\n        background: var(--cds-color-neutral-background-primary);\n        position: absolute;\n        display: inline-block;\n        border-radius: 50%;\n        height: 20px;\n        width: 20px;\n        transition: left 0.1s ease-in-out;\n        left: 2px;\n      }\n    }\n\n    &.switch-on {\n      .switch-toggle {\n        background: var(--cds-color-emphasis-primary-background-default);\n\n        .switch-indicator {\n          left: calc(100% - 20px - 2px);\n        }\n      }\n    }\n\n    &.switch-off {\n      .switch-toggle {\n        background: var(--cds-color-neutral-disabled-strong);\n      }\n    }\n  "])))},SwitchIndicator_SwitchIndicator=function(e){var t=e.selected,n=void 0!==t&&t,i=e.className,r=void 0===i?"":i;return Object(y.d)("div",{className:Ba()("Switch-indicator",r,{"switch-on":n,"switch-off":!n,standalone:!0}),css:Ha.root},hr||(hr=Object(y.d)("div",{className:"switch-toggle"},Object(y.d)("span",{className:"switch-indicator"}))))},languageUtils_getLanguageAttribute=function(e){var t=Object(Hn.toLanguageCode)(e.language);return function(e){return Object(Hn.toLanguageCode)(Ti.a.getLocale())!==e}(t)?t:void 0},za={scrollbar:Object(y.c)(yr||(yr=m()(["\n    /* Custom scrollbar styles for Webkit browsers.\n       Some browsers have a tendency to hide scrollbar on page load. Overflow scrolll respects this.\n       In order to make sure the scrollbar is always visible, we are going this way\n    */\n    ::-webkit-scrollbar {\n      width: 16px;\n    }\n\n    ::-webkit-scrollbar-track {\n      background: ",";\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: ",";\n      border-radius: 10px;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n      background: ",";\n    }\n\n    /* Custom scrollbar styles for Firefox */\n    scrollbar-width: thin;\n    scrollbar-color: "," ",";\n\n    "," {\n      ::-webkit-scrollbar {\n        width: 16px;\n      }\n    }\n  "])),"var(--cds-color-grey-25)","var(--cds-color-grey-400)","var(--cds-color-grey-700)","var(--cds-color-grey-400)","var(--cds-color-grey-25)",U.a.down("xs")),settingsMenuPopup:Object(y.c)(Cr||(Cr=m()(["\n    max-height: 80%;\n    min-width: 256px;\n    max-width: 300px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    position: absolute;\n    bottom: ","px;\n    right: var(--cds-spacing-400);\n    transform: translate(-3%, 0%);\n    transition: opacity ","ms linear;\n    opacity: 0;\n    color: ",";\n    background-color: rgb(0 0 0 / 66%);\n    backdrop-filter: blur(23px);\n    border-radius: 8px;\n    box-shadow: 0 2px 8px 0 rgb(0 0 0 / 32%);\n    padding-top: var(--cds-spacing-150);\n    padding-bottom: var(--cds-spacing-150);\n\n    "," {\n      right: 0;\n      max-height: 50%;\n    }\n  "])),84,200,Sa.c.WHITE,U.a.down("xs")),popupVisible:Object(y.c)(kr||(kr=m()(["\n    opacity: 1;\n  "]))),boldIcon:Object(y.c)(Or||(Or=m()(["\n    /* The CDS chevron is not bold enough, so we need to override the styling */\n    fill: ",";\n    stroke: ",";\n    stroke-width: 1px;\n  "])),Sa.c.WHITE,Sa.c.WHITE)},modernSettingsMenu_ModernSettingsMenuPopup=function(e){var t=e.visible,n=e.supportedResolutions,i=e.currentResolutionOption,r=e.currentResolution,a=e.onResolutionOptionClick,c=e.currentPlaybackRate,s=e.supportedPlaybackRates,u=e.onPlaybackRateClick,l=e.onSubtitleLanguageChoiceClick,d=e.onSubtitleOffClick,g=e.currentTrack,b=e.tracks,m=e.onToggleAutoplay,f=e.autoplay,h=e.enableHls,k=e.dubbedLanguages,O=e.onDubbedAudioChoiceClick,j=e.selectedAudioLanguage,w=e.trackVideoPlayerClickEvent,x=e.closeSettingsMenu,S=e.isOriginalAudioSelected,T=void 0===S||S,I=e.defaultLanguageKey,E=e.handleResolutionChangeForDubbedAudio,P=Object(C.useState)(!1),V=v()(P,2),L=V[0],N=V[1],R=Object(C.useState)(void 0),M=v()(R,2),D=M[0],A=M[1],F=Object(dt.b)().isDubbingAvailable;Object(C.useEffect)((function(){if(t){var e=setTimeout((function(){N(!0)}),0);return function(){return clearTimeout(e)}}return N(!1),function(){}}),[t]);var B=Object(C.useCallback)((function(){N(!1),setTimeout((function(){x(),A(void 0)}),200)}),[x]),H=Object(C.useMemo)((function(){var e;if("quality"===D){var t={id:i,label:"auto"===i?"".concat(i," (").concat(r,")"):i},o=function(e){var t=e.supportedResolutions,n=e.enableHls,i=e.currentResolutionOption,r=e.currentResolution,a=t;n&&(a=t.filter((function(e){return"auto"!==e})));var o=a.sort((function(e,t){var n=parseInt(e,10);return parseInt(t,10)-n}));return n&&(o=["auto"].concat(fe()(o))),o.map((function(e){var t=e===i,n=t&&r?Ti()("Auto")+" (".concat(r,")"):Ti()("Auto");return{id:e,label:"auto"===e?n:e,role:"option",isSelected:t}}))}({supportedResolutions:n,enableHls:h,currentResolutionOption:i,currentResolution:r});e={id:"quality",title:Ti()("Quality"),selected:t,options:o,action:function(e){var t=e.id;t&&i&&T&&w("video_settings_menu_quality_option",{resolution:t,previousResolution:i}),T?a(t):null==E||E(t),B()}}}else if("playbackSpeed"===D){var v="".concat(c,"x"),m={id:v,label:v},f=s.map((function(e){return"".concat(e,"x")})).map((function(e){return{id:e,label:e,role:"option"}}));e={id:"playbackSpeed",title:Ti()("Playback speed"),selected:m,options:f,action:function(e){var t=e.label,n=parseFloat(t);c&&n&&w("video_settings_menu_playback_speed_option",{playbackRate:n,previousPlaybackRate:c}),u(n),B()}}}else if("subtitle"===D){var y={id:"off",label:Ti()("Subtitles off"),role:"option"},C=g?{id:g.language,label:g.label}:y,x=b.map((function(e){return{id:e.language,label:e.label,role:"option",lang:languageUtils_getLanguageAttribute(e)}}));e={id:"subtitle",title:Ti()("Subtitles"),selected:C,options:[y].concat(fe()(x)),action:function(e){var t=b.find((function(t){return t.language===e.id}));w("video_settings_menu_subtitle_language_option",{subtitleLanguage:(null==t?void 0:t.language)||"none",previousSubtitleLanguage:(null==g?void 0:g.language)||"none"}),t?l(t,!0,!T):d(!T),B()}}}else if("audio"===D){var S=j||{id:"",label:"",languageKey:""},P=(null==k?void 0:k.map((function(e){return{id:e.languageKey,label:e.label,languageKey:e.languageKey,role:"option"}})))||[];e={id:"audio",title:Ti()("Audio"),selected:S,options:P,action:function(e){var t,n,i=null!==(t=null==g?void 0:g.language)&&void 0!==t?t:"none",r=e.languageKey===I,a={audioLanguage:videoUtils_getEventingDubbingLanguage(I,e.languageKey),previousAudioLanguage:videoUtils_getEventingDubbingLanguage(I,S.languageKey)};(null==O||O(e),xi.a.get("subtitleLanguage")===Ci)?w("video_settings_menu_audio_language_option",p()({},a)):w("video_settings_menu_audio_language_option",p()(p()({},a),{},{previousSubtitleLanguage:i,subtitleLanguage:r?xi.a.get("subtitleLanguage"):null!==(n=e.languageKey)&&void 0!==n?n:"none"}));B()}}}return e}),[D,i,r,n,h,T,B,c,s,u,a,E,g,b,I,j,k,O,w,l,d]),z=b.length>0,U=[{title:Ti()("Autoplay"),icon:jr||(jr=Object(y.d)(svg_PlayCircleSvg,{height:24,width:24})),isSelected:f,role:"menuitemcheckbox",action:function(){m(),w("video_settings_menu_autoplay_toggle",{autoplay:!f})},actionComponent:Object(y.d)(SwitchIndicator_SwitchIndicator,{selected:f})},{title:Ti()("Quality"),icon:wr||(wr=Object(y.d)(svg_HighQualitySvg,{height:24,width:24})),role:"menuitem",action:function(){A("quality"),w("video_settings_menu_quality",{})},actionComponent:Object(y.d)(Ea.a,{size:"small",css:za.boldIcon})},{title:Ti()("Playback speed"),icon:xr||(xr=Object(y.d)(svg_PlaybackSpeedSvg,{height:24,width:24})),role:"menuitem",action:function(){A("playbackSpeed"),w("video_settings_menu_playback_speed",{})},actionComponent:Object(y.d)(Ea.a,{size:"small",css:za.boldIcon})}];return z&&U.push({title:Ti()("Subtitles"),icon:Sr||(Sr=Object(y.d)(svg_SubtitlesSvg,{height:24,width:24})),role:"menuitem",action:function(){A("subtitle"),w("video_settings_menu_subtitle_language",{})},actionComponent:Object(y.d)(Ea.a,{size:"small",css:za.boldIcon})}),F&&U.push({title:Ti()("Audio"),icon:Tr||(Tr=Object(y.d)(Headset,{height:21,width:21})),role:"menuitem",action:function(){A("audio"),w("video_settings_menu_audio_language",{})},actionComponent:Object(y.d)(Ea.a,{size:"small",css:za.boldIcon})}),t?Object(y.d)(Ta.a,{contain:!0,restoreFocus:!0,autoFocus:!1},Object(y.d)(Ia.a,{mouseEvent:"onMouseDown",onClickAway:B},Object(y.d)("div",{css:[za.settingsMenuPopup,L&&za.popupVisible,F&&za.scrollbar],onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()},onKeyDown:function(e){"Escape"===e.key&&(e.stopPropagation(),B())},className:"rc-ModernSettingsMenuPopup","data-testid":"settingsMenuPopup"},H?Object(y.d)(modernSettingsMenu_ModernSettingsSubmenu,o()({},H,{onBackButtonClick:function(e){e.stopPropagation(),A(void 0)}})):Object(y.d)(modernSettingsMenu_ModernSettingsMenuItemList,{menuConfig:U,role:"menu"})))):null},Ua=t("JJfJ"),Qa=t("6Obz"),qa=t("+TN3"),Wa=t("WbuL"),Ka=t.n(Wa),useAssetIdToVideoId_useAssetIdToVideoId=function(e){var t,n,i=e.assetId,r=Object(qa.b)(Ka.a,{variables:{videoId:i},context:{clientName:"gatewayGql"}}),a=r.data,o=r.loading,c=r.error;return c&&ue.captureException(c,{extra:{message:"Error getting video asset ID from asset ID"}}),{videoAssetId:null==a?void 0:null===(t=a.assetVideoQueries)||void 0===t?void 0:null===(n=t.getAssetVideoByVideoId)||void 0===n?void 0:n.videoAssetId,isVideoAssetIdLoading:o,error:c}},VideoTimestampThumbnail_styles_thumbnailsBackground=function(e,t){return Object(y.c)(Ir||(Ir=m()(["\n    width: ","px;\n    height: ","px;\n    background-color: var(--cds-color-neutral-background-primary);\n  "])),t/10,e/10)},VideoTimestampThumbnail_styles_thumbnails=function(e,t,n,i,r){return Object(y.c)(Er||(Er=m()(["\n    background-image: url(",");\n    background-position: -","px -","px;\n    background-size: ","px ","px;\n  "])),e,i,r,n,t)},Za={thumbnailOverrides:Object(y.c)(Pr||(Pr=m()(["\n    border-radius: 2px;\n  "])))},components_VideoTimestampThumbnail=function(e){var t=e.time,n=e.cssOverrides,i=e.spriteSheetHeight,r=void 0===i?1260:i,a=e.spriteSheetWidth,o=void 0===a?2240:a,c=ChaptersProvider_useChapters(),u=c.videoId,d=c.courseId,p=useAssetIdToVideoId_useAssetIdToVideoId({assetId:u}).videoAssetId,g=function(e,t,n){var i=Math.trunc(e);return{top:Math.trunc(i/50)*(t/10),left:Math.trunc(i%50/5)*(n/10)}}(t,r,o),b=g.top,m=g.left,f=function(e,t,n){var i=Math.trunc(e),r=(Math.trunc(i/500)+1).toString(),a=9-r.length,o="Thumbnail_"+"0".repeat(a)+r;return Bn.a.url.resource_assets+"video-chapters/thumbnails/".concat(t,"/").concat(n,"/").concat(o,".jpg")}(t,d,p),h=Object(C.useState)(!1),k=v()(h,2),O=k[0],j=k[1],w=Object(C.useState)(!1),x=v()(w,2),S=x[0],T=x[1];return Object(C.useEffect)((function(){var e=function(){var e=l()(s()().mark((function _callee(){var e;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p){t.next=5;break}return t.next=3,fetch(f);case 3:(e=t.sent).ok?T(!1):(ue.captureException({exception:"Failed to fetch spritesheet for courseId ".concat(d," and videoAssetId ").concat(p),hint:e.statusText}),T(!0));case 5:case"end":return t.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}}();j(!0),e(),j(!1)}),[d,f,p]),Object(y.d)("div",{"data-testid":"thumbnail-container"},Object(y.d)("div",{"data-testid":"thumbnail-image",css:[VideoTimestampThumbnail_styles_thumbnailsBackground(r,o),!O&&!S&&VideoTimestampThumbnail_styles_thumbnails(f,r,o,m,b),(null==n?void 0:n.thumbnailOverrides)||Za.thumbnailOverrides]}))},Ga=C.createContext(null),VideoBoundaryProvider_VideoBoundaryProvider=function(e){var t=e.children,n=e.videoBoundaryRef;return(C.createElement(Ga.Provider,{value:n},t))},Ja={progressBarTimeBadge:function(e){return Object(y.c)(Vr||(Vr=m()(["\n    color: var(--cds-color-neutral-primary-invert);\n    border-radius: var(--cds-border-radius-100);\n    font-size: 14px;\n    background-color: var(--cds-color-emphasis-neutral-background-xxstrong);\n    opacity: 0.8;\n    padding: 8px 12px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    width: ",";\n  "])),e)},firstRowText:Object(y.c)(Lr||(Lr=m()(["\n    color: var(--cds-color-neutral-primary-invert);\n    line-height: 20px;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n    overflow: hidden;\n    overflow-wrap: break-word;\n    word-break: break-word;\n    white-space: pre-wrap;\n    text-overflow: ellipsis;\n    text-align: center;\n  "]))),blurred:Object(y.c)(_r||(_r=m()(["\n    opacity: 1;\n    backdrop-filter: blur(23px);\n    background-color: rgba(0 0 0 / 66%);\n    pointer-events: none;\n  "])))},Ya={thumbnailOverrides:Object(y.c)(Nr||(Nr=m()(["\n    border-radius: 2px;\n    margin-top: -2px;\n    margin-bottom: 6px;\n  "])))},progressBar_ProgressBarTimeBadge=function(e){var t=e.time,n=e.videoDuration,i=e.isInIVQMarkerRange,r=void 0!==i&&i,a=t/n,o=Object(C.useState)({}),c=v()(o,2),s=c[0],u=c[1],l=ChaptersProvider_useChapters(),d=l.areChaptersEnabled,p=l.getChapterForTimestamp,g=d?p(t):void 0,b=r?"Question":(null==g?void 0:g.chapterName)||"",m=Object(C.useRef)(null),f=function(){var e=C.useContext(Ga);if(null===e)throw new Error("useVideoBoundary must be used within a VideoBoundaryProvider");return e}(),h=Object(C.useCallback)((function(e){var t=m.current;if(t&&null!=f&&f.current){var n=f.current.getBoundingClientRect(),i=t.getBoundingClientRect(),r=i.width/2,a=e*n.width,o=n.width-i.width+r,c=r,s=Math.max(c,Math.min(a,o));u({left:"".concat(s,"px")})}}),[f]);Object(C.useEffect)((function(){h(a)}),[h,a]);var k=d?"238px":"auto";return Object(y.d)("div",{className:"rc-ProgressBarTimeBadge",ref:m,"data-testid":"progress-bar-time-badge",css:[Ja.progressBarTimeBadge(k),d&&Ja.blurred],style:s},d&&Object(y.d)(components_VideoTimestampThumbnail,{time:t,cssOverrides:Ya}),d&&b&&Object(y.d)("div",{css:Ja.firstRowText},Object(y.d)(mt.a,{component:"div",variant:"bodySecondary",color:"invertBody"},b)),Object(y.d)(mt.a,{component:"span",variant:"bodySecondary",color:"invertBody","data-testid":"modern-progress-bar-time-badge"},function(e){var padToTwoDigits=function(e){return e.toString().padStart(2,"0")},t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%60);return e<0?"0:00":t>0?"".concat(t,":").concat(padToTwoDigits(n),":").concat(padToTwoDigits(i)):"".concat(n,":").concat(padToTwoDigits(i))}(t)))},Xa={root:"video-player-progress-bar",rail:"video-player-progress-bar-rail",track:"video-player-progress-bar-track",thumb:"video-player-progress-bar-thumb",mark:"video-player-progress-bar-mark",colorPrimary:"video-player-progress-bar-primary-color"},$a=t("+e+K"),eo=t("U+Em"),to=t("4gpy"),getChapterMask=function(e){var t=e.marks,n=e.timestamp,i=e.width,r=[],a=0,o=2/i*100;return t.forEach((function(e){var t=e.value/n*100,i=Math.max(0,t-o),c=Math.min(100,t+o);i>a&&r.push("black ".concat(a,"%"),"black ".concat(i,"%")),r.push("transparent ".concat(i,"%"),"transparent ".concat(c,"%")),a=c})),a<100&&r.push("black ".concat(a,"%"),"black 100%"),"linear-gradient(to right, ".concat(r.join(", "),")")},no={root:Object(y.c)(Rr||(Rr=m()(["\n    --progress-bar-height: 5px;\n    --progress-bar-scale: 0.6;\n    --progress-bar-padding: var(--cds-spacing-150);\n    --progress-bar-thumb-box-shadow: none;\n    --progress-bar-thumb-outline: none;\n\n    position: relative;\n    height: var(--progress-bar-height);\n    width: 100%;\n\n    &:hover,\n    &:active {\n      --progress-bar-scale: 1;\n      --progress-bar-thumb-box-shadow: 0 0 0 8px rgb(53 135 252 / 25%);\n    }\n  "]))),focusVisible:Object(y.c)(Mr||(Mr=m()(["\n    --progress-bar-scale: 1;\n    --progress-bar-thumb-box-shadow: 0 0 0 8px rgb(53 135 252 / 25%);\n    --progress-bar-thumb-outline: 0 0 0 1px var(--cds-color-interactive-stroke-primary-focus),\n      0 0 0 2px var(--cds-color-interactive-stroke-primary-focus-invert);\n  "]))),hitbox:Object(y.c)(Dr||(Dr=m()(["\n    position: absolute;\n    z-index: 1;\n    top: calc(var(--progress-bar-padding) * -1);\n    bottom: calc(var(--progress-bar-padding) * -1);\n    left: 0;\n    width: 100%;\n  "]))),progressBar:Object(y.c)(Ar||(Ar=m()(["\n    &."," {\n      position: absolute;\n      z-index: 2;\n      top: calc((var(--progress-bar-height) + var(--progress-bar-padding)) * -1);\n      left: 0;\n      width: 100%;\n      height: var(--progress-bar-height);\n      transition: transform 100ms cubic-bezier(0.4, 0, 1, 1);\n      transform: scaleY(var(--progress-bar-scale));\n      padding: var(--progress-bar-padding) 0;\n\n      &."," {\n        color: var(--cds-color-blue-500);\n\n        @media (forced-colors: active) {\n          color: Highlight;\n        }\n      }\n\n      ."," {\n        height: var(--progress-bar-height);\n        background-color: var(--cds-color-neutral-background-primary-weak);\n        opacity: 1;\n\n        @media (forced-colors: active) {\n          background-color: Window;\n        }\n      }\n\n      ."," {\n        height: var(--progress-bar-height);\n      }\n\n      ."," {\n        --progress-bar-thumb-size: 16px;\n\n        height: var(--progress-bar-thumb-size);\n        width: var(--progress-bar-thumb-size);\n        transition: transform 100ms cubic-bezier(0.4, 0, 1, 1), box-shadow 100ms cubic-bezier(0.4, 0, 1, 1);\n        box-shadow: var(--progress-bar-thumb-box-shadow);\n        margin-left: calc(var(--progress-bar-thumb-size) / 2 * -1);\n        transform: scaleX(var(--progress-bar-scale));\n\n        ::after {\n          content: '';\n          position: absolute;\n          border-radius: 50%;\n          inset: -8px;\n          box-shadow: var(--progress-bar-thumb-outline);\n        }\n      }\n\n      ."," {\n        height: var(--progress-bar-height);\n        width: ","px;\n        background-color: var(--cds-color-yellow-500);\n\n        @media (forced-colors: active) {\n          background-color: ButtonText;\n        }\n      }\n    }\n  "])),Xa.root,Xa.colorPrimary,Xa.rail,Xa.track,Xa.thumb,Xa.mark,4),chapterRailMask:function(e){return Object(y.c)(Fr||(Fr=m()(["\n    &."," {\n      ."," {\n        background: linear-gradient(\n          to right,\n          rgba(231 231 231 / 65%) 0%,\n          rgba(231 231 231 / 65%) var(--progress-bar-hover-progress, 0%),\n          rgba(231 231 231 / 50%) var(--progress-bar-hover-progress, 0%),\n          rgba(231 231 231 / 50%) 100%\n        );\n        mask: ",";\n      }\n\n      ."," {\n        background-color: var(--cds-color-white-0);\n      }\n    }\n  "])),Xa.root,Xa.rail,e,Xa.mark)},chapterTrackMask:function(e){return Object(y.c)(Br||(Br=m()(["\n    &."," {\n      ."," {\n        mask: ",";\n      }\n    }\n  "])),Xa.root,Xa.track,e)},maxProgressRailMask:Object(y.c)(Hr||(Hr=m()(["\n    &."," {\n      ."," {\n        background: linear-gradient(\n          to right,\n          var(--cds-color-grey-200) 0%,\n          var(--cds-color-grey-200) var(--progress-bar-max-progress, 100%),\n          var(--cds-color-neutral-background-primary-weak) var(--progress-bar-max-progress, 100%),\n          var(--cds-color-neutral-background-primary-weak) 100%\n        );\n\n        @media (forced-colors: active) {\n          background: linear-gradient(\n            to right,\n            WindowText 0%,\n            WindowText var(--progress-bar-max-progress, 100%),\n            Window var(--progress-bar-max-progress, 100%),\n            Window 100%\n          );\n        }\n      }\n    }\n  "])),Xa.root,Xa.rail)},progressBar_VideoProgressBar=function(e){var t=e.player,n=e.videoQuizQuestions,i=e.trimmedStartTimeSeconds,r=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext(),a=r.shouldDisableSkippingForward,c=r.learnerMaxVideoProgressInSeconds,s=useVideoPlayerEventing().trackVideoPlayerClickEvent,u=ChaptersProvider_useChapters(),l=u.chapters,d=u.areChaptersEnabled,p=Object(C.useState)(null),g=v()(p,2),b=g[0],m=g[1],f=Object(C.useState)(null),h=v()(f,2),k=h[0],O=h[1],j=Object(C.useCallback)((function(){var e;return(null!==(e=t.currentTime())&&void 0!==e?e:0)-i}),[i,t]),w=Object(C.useCallback)((function(){m(j())}),[j]),x=Object(C.useCallback)((function(){var e;O(null!==(e=t.duration())&&void 0!==e?e:null)}),[t]),S=Object(C.useMemo)((function(){var e;return null===k?[]:null!==(e=null==n?void 0:n.reduce((function(e,t){var n=t.video.cuePointMs/1e3-i;return n>=0&&n<=k&&e.push({value:n}),e}),[]))&&void 0!==e?e:[]}),[n,i,k]),T=Object(C.useMemo)((function(){return d&&k?l.reduce((function(e,t,n){var r=t.startTimestampInSeconds-i;return n>0&&r>=0&&r<=k&&e.push({value:r}),e}),[]):[]}),[d,l,i,k]),I=Object(Fn.a)({within:!0}),E=I.isFocusVisible,P=I.focusProps,V=function(e){var t,n,i=e.isFocusVisible,r=e.player,a=e.videoQuizQuestions,o=e.trimmedStartTimeSeconds,c=e.areChaptersEnabled,s=Object(C.useState)(null),u=v()(s,2),l=u[0],d=u[1],p=Object(C.useState)(null),g=v()(p,2),b=g[0],m=g[1],f=Object(C.useState)(!1),h=v()(f,2),y=h[0],k=h[1],O=Object($a.f)({open:y,onOpenChange:k,placement:"top-start",middleware:[Object(eo.e)(24)]});Object($a.i)([Object($a.d)(O.context,{axis:"x"}),Object($a.h)(O.context)]);var j=Object($a.f)({placement:"top-start",middleware:[Object(eo.e)({mainAxis:14,crossAxis:8})],whileElementsMounted:to.c}),w=null!==(t=r.currentTime())&&void 0!==t?t:0-o,x=null!==(n=r.duration())&&void 0!==n?n:0,S=Object(C.useMemo)((function(){var e;return i?w:y?Math.max(0,Math.min(1,O.x/(null!==(e=null==l?void 0:l.clientWidth)&&void 0!==e?e:1)))*x:0}),[O.x,l,y,i,w,x]);Object(C.useEffect)((function(){O.refs.setReference(l)}),[O.refs,l]),Object(C.useEffect)((function(){if(i){var e=null==l?void 0:l.querySelector(".".concat(Xa.thumb));j.refs.setReference(e)}}),[O.refs,j.refs,l,i]),Object(C.useEffect)((function(){O.refs.setFloating(b),j.refs.setFloating(b)}),[O.refs,j.refs,b]);var T=Object(C.useMemo)((function(){var e,t,n,r=null!==(e=null==l?void 0:l.clientWidth)&&void 0!==e?e:0,o=null!==(t=null==l?void 0:l.clientLeft)&&void 0!==t?t:0,s=null!==(n=null==b?void 0:b.clientWidth)&&void 0!==n?n:0,u=i?j.x:O.x,d=i?j.y:O.y,p=Math.max(Math.min(u-s/2,r-s),0);return c?{isInIVQMarkerRange:function(e){var t=e.x,n=e.progressBarLeft,i=e.progressBarWidth,r=e.duration,a=e.questions;if(!a||i<=0)return!1;var o=(t-n)/i*(null!=r?r:0),c=function(e,t){return e*(null!=t?t:0)}(4/i,r);return a.some((function(e){return e.video.cuePointMs/1e3<=o&&e.video.cuePointMs/1e3+c>=o}))}({x:u,progressBarLeft:o,progressBarWidth:r,duration:x,questions:a}),styles:{left:p,top:d,position:"absolute"}}:{styles:{left:p,top:d,position:"absolute"}}}),[b,O,j,l,c,a,x,i]);return{ref:l,setRef:d,tooltipRef:b,setTooltipRef:m,tooltip:T,tooltipTime:S,open:y||i}}({isFocusVisible:E,player:t,videoQuizQuestions:n,trimmedStartTimeSeconds:i,areChaptersEnabled:d}),L=V.ref,N=V.setRef,R=V.setTooltipRef,M=V.tooltip,D=V.tooltipTime,A=V.open,F=Object(C.useMemo)((function(){if(L&&k&&0!==T.length&&null!=b){var e=L.clientWidth;if(0!==e){var t=T.filter((function(e){return e.value<=b})),n=e*(b/k);return{rail:getChapterMask({marks:T,timestamp:k,width:e}),track:getChapterMask({marks:t,timestamp:b,width:n})}}}}),[L,k,T,b]),B=c-i,H=Object(C.useRef)(null),z=Object(C.useMemo)((function(){return Vn()((function(e,t){if(null!=H.current){var n=H.current;s("video_scrub_bar",{videoPosition:parseFloat(e.toFixed(2)),seekedProgress:parseFloat((e/t).toFixed(2)),previousVideoPosition:parseFloat(n.toFixed(2)),previousProgress:parseFloat((n/t).toFixed(2))})}H.current=null}),200)}),[s]),U=Object(C.useCallback)((function(e,n){var r,a=n,o=a+i;null==H.current&&(H.current=null!==(r=t.currentTime())&&void 0!==r?r:0);t.currentTime(o),m(a),k&&z(o,k)}),[t,i,k,z]);if(Object(C.useEffect)((function(){var e;return m(j()),O(null!==(e=t.duration())&&void 0!==e?e:null),t.on("timeupdate",w),t.on("durationchange",x),function(){t.off("timeupdate",w),t.off("durationchange",x),z.cancel()}}),[t,j,w,x,z]),null==k||null==b)return null;var Q=Ti()("Current time #{formattedCurrentTime}, Duration #{formattedDuration}",{formattedCurrentTime:Object(Ua.w)(1e3*b,"mmm:sss"),formattedDuration:Object(Ua.w)(1e3*k,"mmm:sss")}),q={"--progress-bar-max-progress":"".concat(B/k*100,"%"),"--progress-bar-hover-progress":"".concat(D/k*100,"%")};return Object(y.d)("div",o()({ref:N,css:[no.root,E&&no.focusVisible],style:q},P),Object(y.d)("div",{css:no.hitbox}),Object(y.d)(Qa.a,{"aria-label":Ti()("Video Progress"),"aria-valuetext":Q,"data-testid":"video-progress-bar",value:b,min:0,max:k,step:5,marks:S,classes:Xa,onChange:U,css:[no.progressBar,(null==F?void 0:F.rail)&&no.chapterRailMask(F.rail),(null==F?void 0:F.track)&&no.chapterTrackMask(F.track),a&&no.maxProgressRailMask]}),A&&Object(y.d)("div",{ref:R,style:M.styles},Object(y.d)(progressBar_ProgressBarTimeBadge,{time:D,videoDuration:k,isInIVQMarkerRange:M.isInIVQMarkerRange})))},io=["width","height"],svg_SettingsFillSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,io);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"SettingsFillSvg"}),zr||(zr=C.createElement("path",{d:"M12.6294 25.6668C12.1044 25.6668 11.6523 25.4918 11.2731 25.1418C10.894 24.7918 10.6655 24.3641 10.5877 23.8585L10.3252 21.9335C10.0724 21.8363 9.83425 21.7196 9.61064 21.5835C9.38703 21.4474 9.16828 21.3016 8.95439 21.146L7.14605 21.9043C6.65994 22.1182 6.17383 22.1377 5.68772 21.9627C5.20161 21.7877 4.82244 21.4766 4.55022 21.0293L3.17939 18.6377C2.90717 18.1904 2.82939 17.7141 2.94605 17.2085C3.06272 16.7029 3.32522 16.2849 3.73355 15.9543L5.27939 14.7877C5.25994 14.6516 5.25022 14.5203 5.25022 14.3939V13.6064C5.25022 13.48 5.25994 13.3488 5.27939 13.2127L3.73355 12.046C3.32522 11.7154 3.06272 11.2974 2.94605 10.7918C2.82939 10.2863 2.90717 9.80988 3.17939 9.36266L4.55022 6.971C4.82244 6.52377 5.20161 6.21266 5.68772 6.03766C6.17383 5.86266 6.65994 5.88211 7.14605 6.096L8.95439 6.85433C9.16828 6.69877 9.39189 6.55294 9.62522 6.41683C9.85855 6.28072 10.0919 6.16405 10.3252 6.06683L10.5877 4.14183C10.6655 3.63627 10.894 3.2085 11.2731 2.8585C11.6523 2.5085 12.1044 2.3335 12.6294 2.3335H15.3711C15.8961 2.3335 16.3481 2.5085 16.7273 2.8585C17.1065 3.2085 17.3349 3.63627 17.4127 4.14183L17.6752 6.06683C17.928 6.16405 18.1662 6.28072 18.3898 6.41683C18.6134 6.55294 18.8322 6.69877 19.0461 6.85433L20.8544 6.096C21.3405 5.88211 21.8266 5.86266 22.3127 6.03766C22.7988 6.21266 23.178 6.52377 23.4502 6.971L24.8211 9.36266C25.0933 9.80988 25.1711 10.2863 25.0544 10.7918C24.9377 11.2974 24.6752 11.7154 24.2669 12.046L22.7211 13.2127C22.7405 13.3488 22.7502 13.48 22.7502 13.6064V14.3939C22.7502 14.5203 22.7308 14.6516 22.6919 14.7877L24.2377 15.9543C24.6461 16.2849 24.9086 16.7029 25.0252 17.2085C25.1419 17.7141 25.0641 18.1904 24.7919 18.6377L23.3919 21.0293C23.1197 21.4766 22.7405 21.7877 22.2544 21.9627C21.7683 22.1377 21.2822 22.1182 20.7961 21.9043L19.0461 21.146C18.8322 21.3016 18.6086 21.4474 18.3752 21.5835C18.1419 21.7196 17.9086 21.8363 17.6752 21.9335L17.4127 23.8585C17.3349 24.3641 17.1065 24.7918 16.7273 25.1418C16.3481 25.4918 15.8961 25.6668 15.3711 25.6668H12.6294ZM14.0586 18.0835C15.1863 18.0835 16.1488 17.6849 16.9461 16.8877C17.7433 16.0904 18.1419 15.1279 18.1419 14.0002C18.1419 12.8724 17.7433 11.9099 16.9461 11.1127C16.1488 10.3154 15.1863 9.91683 14.0586 9.91683C12.9113 9.91683 11.944 10.3154 11.1565 11.1127C10.369 11.9099 9.97522 12.8724 9.97522 14.0002C9.97522 15.1279 10.369 16.0904 11.1565 16.8877C11.944 17.6849 12.9113 18.0835 14.0586 18.0835Z",fill:"white"}))))},ro=["width","height"],svg_SettingsSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,ro);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"SettingsSvg"}),Ur||(Ur=C.createElement("path",{d:"M12.6294 25.6668C12.1044 25.6668 11.6523 25.4918 11.2731 25.1418C10.894 24.7918 10.6655 24.3641 10.5877 23.8585L10.3252 21.9335C10.0724 21.8363 9.83425 21.7196 9.61064 21.5835C9.38703 21.4474 9.16828 21.3016 8.95439 21.146L7.14605 21.9043C6.65994 22.1182 6.17383 22.1377 5.68772 21.9627C5.20161 21.7877 4.82244 21.4766 4.55022 21.0293L3.17939 18.6377C2.90717 18.1904 2.82939 17.7141 2.94605 17.2085C3.06272 16.7029 3.32522 16.2849 3.73355 15.9543L5.27939 14.7877C5.25994 14.6516 5.25022 14.5203 5.25022 14.3939V13.6064C5.25022 13.48 5.25994 13.3488 5.27939 13.2127L3.73355 12.046C3.32522 11.7154 3.06272 11.2974 2.94605 10.7918C2.82939 10.2863 2.90717 9.80988 3.17939 9.36266L4.55022 6.971C4.82244 6.52377 5.20161 6.21266 5.68772 6.03766C6.17383 5.86266 6.65994 5.88211 7.14605 6.096L8.95439 6.85433C9.16828 6.69877 9.39189 6.55294 9.62522 6.41683C9.85855 6.28072 10.0919 6.16405 10.3252 6.06683L10.5877 4.14183C10.6655 3.63627 10.894 3.2085 11.2731 2.8585C11.6523 2.5085 12.1044 2.3335 12.6294 2.3335H15.3711C15.8961 2.3335 16.3481 2.5085 16.7273 2.8585C17.1065 3.2085 17.3349 3.63627 17.4127 4.14183L17.6752 6.06683C17.928 6.16405 18.1662 6.28072 18.3898 6.41683C18.6134 6.55294 18.8322 6.69877 19.0461 6.85433L20.8544 6.096C21.3405 5.88211 21.8266 5.86266 22.3127 6.03766C22.7988 6.21266 23.178 6.52377 23.4502 6.971L24.8211 9.36266C25.0933 9.80988 25.1711 10.2863 25.0544 10.7918C24.9377 11.2974 24.6752 11.7154 24.2669 12.046L22.7211 13.2127C22.7405 13.3488 22.7502 13.48 22.7502 13.6064V14.3939C22.7502 14.5203 22.7308 14.6516 22.6919 14.7877L24.2377 15.9543C24.6461 16.2849 24.9086 16.7029 25.0252 17.2085C25.1419 17.7141 25.0641 18.1904 24.7919 18.6377L23.3919 21.0293C23.1197 21.4766 22.7405 21.7877 22.2544 21.9627C21.7683 22.1377 21.2822 22.1182 20.7961 21.9043L19.0461 21.146C18.8322 21.3016 18.6086 21.4474 18.3752 21.5835C18.1419 21.7196 17.9086 21.8363 17.6752 21.9335L17.4127 23.8585C17.3349 24.3641 17.1065 24.7918 16.7273 25.1418C16.3481 25.4918 15.8961 25.6668 15.3711 25.6668H12.6294ZM12.8336 23.3335H15.1377L15.5461 20.2418C16.1488 20.0863 16.7079 19.8578 17.2231 19.5564C17.7384 19.255 18.2099 18.8904 18.6377 18.4627L21.5252 19.6585L22.6627 17.6752L20.1544 15.7793C20.2516 15.5071 20.3197 15.2203 20.3586 14.9189C20.3974 14.6175 20.4169 14.3113 20.4169 14.0002C20.4169 13.6891 20.3974 13.3828 20.3586 13.0814C20.3197 12.78 20.2516 12.4932 20.1544 12.221L22.6627 10.3252L21.5252 8.34183L18.6377 9.56683C18.2099 9.11961 17.7384 8.7453 17.2231 8.44391C16.7079 8.14252 16.1488 7.91405 15.5461 7.7585L15.1669 4.66683H12.8627L12.4544 7.7585C11.8516 7.91405 11.2926 8.14252 10.7773 8.44391C10.262 8.7453 9.7905 9.10988 9.36272 9.53766L6.47522 8.34183L5.33772 10.3252L7.84605 12.1918C7.74883 12.4835 7.68078 12.7752 7.64189 13.0668C7.603 13.3585 7.58355 13.6696 7.58355 14.0002C7.58355 14.3113 7.603 14.6127 7.64189 14.9043C7.68078 15.196 7.74883 15.4877 7.84605 15.7793L5.33772 17.6752L6.47522 19.6585L9.36272 18.4335C9.7905 18.8807 10.262 19.255 10.7773 19.5564C11.2926 19.8578 11.8516 20.0863 12.4544 20.2418L12.8336 23.3335ZM14.0586 18.0835C15.1863 18.0835 16.1488 17.6849 16.9461 16.8877C17.7433 16.0904 18.1419 15.1279 18.1419 14.0002C18.1419 12.8724 17.7433 11.9099 16.9461 11.1127C16.1488 10.3154 15.1863 9.91683 14.0586 9.91683C12.9113 9.91683 11.944 10.3154 11.1565 11.1127C10.369 11.9099 9.97522 12.8724 9.97522 14.0002C9.97522 15.1279 10.369 16.0904 11.1565 16.8877C11.944 17.6849 12.9113 18.0835 14.0586 18.0835Z",fill:"white"}))))},ao={button:Object(y.c)(Qr||(Qr=m()(["\n    color: var(--cds-color-grey-25);\n    width: 36px;\n    height: 36px;\n\n    "," {\n      width: 30px;\n      height: 30px;\n    }\n  "])),U.a.down("xs"))},oo=C.forwardRef((function(e,t){var n=e.menuPopupVisible,i=e.videoBoundaryElement,r=e.onClick,a=Ti()("Settings"),o=n?svg_SettingsFillSvg:svg_SettingsSvg;return Object(y.d)(components_ModernTooltipWrapper,{placement:"top",message:a,videoBoundaryElement:i},Object(y.d)(Pi.a,{onClick:r,"data-testid":"videoSettingsMenuButton","aria-haspopup":"true","aria-label":a,"aria-expanded":n,ref:t,css:ao.button},Object(y.d)(o,{width:28,height:28})))})),co=["width","height"],svg_VolumeDownSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,co);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"VolumeDownSvg"}),qr||(qr=C.createElement("path",{d:"M10.5002 17.4999H7.00016C6.66961 17.4999 6.39252 17.3881 6.16891 17.1645C5.9453 16.9409 5.8335 16.6638 5.8335 16.3332V11.6666C5.8335 11.336 5.9453 11.0589 6.16891 10.8353C6.39252 10.6117 6.66961 10.4999 7.00016 10.4999H10.5002L14.3502 6.64989C14.7196 6.28045 15.1425 6.19781 15.6189 6.40197C16.0953 6.60614 16.3335 6.97072 16.3335 7.49572V20.5041C16.3335 21.0291 16.0953 21.3936 15.6189 21.5978C15.1425 21.802 14.7196 21.7193 14.3502 21.3499L10.5002 17.4999ZM21.5835 13.9999C21.5835 14.8166 21.3988 15.5895 21.0293 16.3186C20.6599 17.0478 20.1738 17.6457 19.571 18.1124C19.3766 18.2291 19.1772 18.2339 18.9731 18.127C18.7689 18.02 18.6668 17.8499 18.6668 17.6166V10.3249C18.6668 10.0916 18.7689 9.92142 18.9731 9.81447C19.1772 9.70753 19.3766 9.71239 19.571 9.82906C20.1738 10.3152 20.6599 10.9277 21.0293 11.6666C21.3988 12.4054 21.5835 13.1832 21.5835 13.9999ZM14.0002 10.3249L11.4918 12.8332H8.16683V15.1666H11.4918L14.0002 17.6749V10.3249Z",fill:"white"}))))},so=["width","height"],svg_VolumeOffSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,so);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"VolumeOffSvg"}),Wr||(Wr=C.createElement("path",{d:"M19.5711 22.8377C19.3572 22.9738 19.1433 23.1002 18.9294 23.2169C18.7155 23.3335 18.4919 23.4405 18.2586 23.5377C17.9669 23.6738 17.6704 23.6738 17.369 23.5377C17.0676 23.4016 16.8586 23.178 16.7419 22.8669C16.6252 22.5752 16.6398 22.2884 16.7856 22.0064C16.9315 21.7245 17.1502 21.5155 17.4419 21.3794C17.578 21.321 17.7044 21.2578 17.8211 21.1898C17.9377 21.1217 18.0544 21.0488 18.1711 20.971L14.0002 17.2669V20.5044C14.0002 21.0294 13.762 21.3939 13.2856 21.5981C12.8093 21.8023 12.3863 21.7196 12.0169 21.3502L8.1669 17.5002H4.66689C4.33634 17.5002 4.05926 17.3884 3.83564 17.1648C3.61203 16.9412 3.50023 16.6641 3.50023 16.3335V11.6669C3.50023 11.3363 3.61203 11.0592 3.83564 10.8356C4.05926 10.612 4.33634 10.5002 4.66689 10.5002H7.23356L2.45023 5.71686C2.23634 5.50297 2.12939 5.23075 2.12939 4.9002C2.12939 4.56964 2.23634 4.29742 2.45023 4.08353C2.66412 3.86964 2.93634 3.7627 3.26689 3.7627C3.59745 3.7627 3.86967 3.86964 4.08356 4.08353L23.9169 23.9169C24.1308 24.1308 24.2377 24.403 24.2377 24.7335C24.2377 25.0641 24.1308 25.3363 23.9169 25.5502C23.703 25.7641 23.4308 25.871 23.1002 25.871C22.7697 25.871 22.4975 25.7641 22.2836 25.5502L19.5711 22.8377ZM22.1669 13.971C22.1669 12.3571 21.7391 10.8842 20.8836 9.55228C20.028 8.22033 18.8808 7.22381 17.4419 6.5627C17.1502 6.42658 16.9363 6.21756 16.8002 5.93561C16.6641 5.65367 16.6447 5.36686 16.7419 5.0752C16.8586 4.76408 17.0676 4.54047 17.369 4.40436C17.6704 4.26825 17.9766 4.26825 18.2877 4.40436C20.1738 5.24047 21.6808 6.51408 22.8086 8.2252C23.9363 9.93631 24.5002 11.8516 24.5002 13.971C24.5002 14.6127 24.4419 15.2495 24.3252 15.8814C24.2086 16.5134 24.0433 17.121 23.8294 17.7044C23.6738 18.1321 23.4356 18.3995 23.1148 18.5064C22.794 18.6134 22.4975 18.6183 22.2252 18.521C21.953 18.4238 21.7343 18.2488 21.569 17.996C21.4037 17.7433 21.3988 17.4516 21.5544 17.121C21.7683 16.6155 21.9238 16.1051 22.0211 15.5898C22.1183 15.0745 22.1669 14.5349 22.1669 13.971ZM17.2377 9.82936C17.8794 10.2377 18.3752 10.8502 18.7252 11.6669C19.0752 12.4835 19.2502 13.2613 19.2502 14.0002V14.2919C19.2502 14.3891 19.2405 14.4863 19.2211 14.5835C19.1822 14.8363 19.0461 15.0016 18.8127 15.0794C18.5794 15.1571 18.3655 15.0988 18.1711 14.9044L16.6836 13.4169C16.5669 13.3002 16.4794 13.1689 16.4211 13.0231C16.3627 12.8773 16.3336 12.7266 16.3336 12.571V10.3252C16.3336 10.0919 16.4356 9.92172 16.6398 9.81478C16.844 9.70783 17.0433 9.7127 17.2377 9.82936ZM11.3752 8.10853C11.2586 7.99186 11.2002 7.85575 11.2002 7.7002C11.2002 7.54464 11.2586 7.40853 11.3752 7.29186L12.0169 6.6502C12.3863 6.28075 12.8093 6.19811 13.2856 6.40228C13.762 6.60645 14.0002 6.97103 14.0002 7.49603V9.33353C14.0002 9.60575 13.8836 9.79047 13.6502 9.8877C13.4169 9.98492 13.203 9.93631 13.0086 9.74186L11.3752 8.10853ZM11.6669 17.6752V14.9335L9.5669 12.8335H5.83356V15.1669H9.15856L11.6669 17.6752Z",fill:"white"}))))},uo=["width","height"],svg_VolumeUpSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,r=void 0===i?28:i,a=ut()(e,uo);return(C.createElement("svg",o()({width:n,height:r},a,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"VolumeUpSvg"}),Kr||(Kr=C.createElement("path",{d:"M22.1667 13.971C22.1667 12.3571 21.7389 10.8842 20.8833 9.55225C20.0278 8.2203 18.8806 7.22377 17.4417 6.56266C17.15 6.42655 16.9361 6.21752 16.8 5.93558C16.6639 5.65364 16.6444 5.36683 16.7417 5.07516C16.8583 4.76405 17.0674 4.54044 17.3688 4.40433C17.6701 4.26822 17.9764 4.26822 18.2875 4.40433C20.1736 5.24044 21.6806 6.51891 22.8083 8.23975C23.9361 9.96058 24.5 11.871 24.5 13.971C24.5 16.071 23.9361 17.9814 22.8083 19.7022C21.6806 21.4231 20.1736 22.7016 18.2875 23.5377C17.9764 23.6738 17.6701 23.6738 17.3688 23.5377C17.0674 23.4016 16.8583 23.1779 16.7417 22.8668C16.6444 22.5752 16.6639 22.2884 16.8 22.0064C16.9361 21.7245 17.15 21.5154 17.4417 21.3793C18.8806 20.7182 20.0278 19.7217 20.8833 18.3897C21.7389 17.0578 22.1667 15.5849 22.1667 13.971ZM8.16667 17.5002H4.66667C4.33611 17.5002 4.05903 17.3884 3.83542 17.1647C3.61181 16.9411 3.5 16.6641 3.5 16.3335V11.6668C3.5 11.3363 3.61181 11.0592 3.83542 10.8356C4.05903 10.612 4.33611 10.5002 4.66667 10.5002H8.16667L12.0167 6.65016C12.3861 6.28072 12.809 6.19808 13.2854 6.40225C13.7618 6.60641 14 6.971 14 7.496V20.5043C14 21.0293 13.7618 21.3939 13.2854 21.5981C12.809 21.8022 12.3861 21.7196 12.0167 21.3502L8.16667 17.5002ZM19.25 14.0002C19.25 14.8168 19.0653 15.5897 18.6958 16.3189C18.3264 17.0481 17.8403 17.646 17.2375 18.1127C17.0431 18.2293 16.8438 18.2342 16.6396 18.1272C16.4354 18.0203 16.3333 17.8502 16.3333 17.6168V10.3252C16.3333 10.0918 16.4354 9.92169 16.6396 9.81475C16.8438 9.7078 17.0431 9.71266 17.2375 9.82933C17.8403 10.3154 18.3264 10.9279 18.6958 11.6668C19.0653 12.4057 19.25 13.1835 19.25 14.0002ZM11.6667 10.3252L9.15833 12.8335H5.83333V15.1668H9.15833L11.6667 17.6752V10.3252Z",fill:"white"}))))},lo={button:Object(y.c)(Zr||(Zr=m()(["\n    color: var(--cds-color-grey-25);\n    width: 36px;\n    height: 36px;\n\n    "," {\n      width: 30px;\n      height: 30px;\n    }\n  "])),U.a.down("xs"))},volumeMenu_VolumeMenuButton=function(e){var t=e.onVolumeButtonClick,n=e.volume,i=e.muted,r=i?Ti()("Unmute"):Ti()("Mute");return Object(y.d)(components_ModernTooltipWrapper,{placement:"top",message:r,keyboardShortcut:"m"},Object(y.d)(Pi.a,{type:"button","aria-label":r,onClick:t,css:lo.button},!i&&n>.3?Gr||(Gr=Object(y.d)(svg_VolumeUpSvg,{width:28,height:28})):!i&&n>0&&n<=.3?Jr||(Jr=Object(y.d)(svg_VolumeDownSvg,{width:28,height:28})):Yr||(Yr=Object(y.d)(svg_VolumeOffSvg,{width:28,height:28}))))},po={root:"video-player-volume-slider",rail:"video-player-volume-slider-rail",track:"video-player-volume-slider-track",trackInverted:"video-player-volume-slider-track-inverted",thumb:"video-player-volume-slider-thumb"},go={modernVolumeMenuPopupContainer:Object(y.c)(Xr||(Xr=m()(["\n    height: 100%;\n    width: 0;\n    visibility: hidden;\n    transition: visibility 0s 0.1s, width 0.1s linear;\n    display: flex;\n    align-items: center;\n  "]))),visible:Object(y.c)($r||($r=m()(["\n    width: 100px;\n    visibility: visible;\n    transition: width 0.1s linear;\n    margin-left: var(--cds-spacing-100);\n  "]))),slider:Object(y.c)(ea||(ea=m()(["\n    &."," {\n      height: 4px;\n      width: 75%;\n      padding: 0;\n\n      --rail-color: var(--cds-color-grey-300);\n      --track-color: var(--cds-color-white-0);\n\n      &."," {\n        --rail-color: var(--cds-color-white-0);\n        --track-color: var(--cds-color-grey-300);\n      }\n\n      ."," {\n        background-color: var(--rail-color);\n        height: 4px;\n        border-radius: 6px;\n        opacity: 1;\n      }\n\n      ."," {\n        background-color: var(--cds-color-white-0);\n        height: 14px;\n        width: 14px;\n        cursor: pointer;\n        box-shadow: none;\n\n        &:hover,\n        &:active {\n          box-shadow: 0 0 0 8px rgb(255 255 255 / 16%);\n        }\n      }\n\n      ."," {\n        background-color: var(--track-color);\n        cursor: pointer;\n        height: 4px;\n        border-radius: 6px;\n      }\n    }\n  "])),po.root,po.trackInverted,po.rail,po.thumb,po.track),lightVolumeSlider:Object(y.c)(ta||(ta=m()(["\n    &."," {\n      ."," {\n        background-color: rgb(231 231 231);\n        opacity: 0.5;\n        backdrop-filter: blur(6px);\n      }\n    }\n  "])),po.root,po.rail),focusVisible:Object(y.c)(na||(na=m()(["\n    &."," {\n      ."," {\n        box-shadow: 0 0 0 8px rgb(255 255 255 / 16%);\n\n        ::after {\n          content: '';\n          position: absolute;\n          border-radius: 50%;\n          inset: -8px;\n          box-shadow: 0 0 0 1px var(--cds-color-interactive-stroke-primary-focus),\n            0 0 0 2px var(--cds-color-interactive-stroke-primary-focus-invert);\n        }\n      }\n    }\n  "])),po.root,po.thumb),inverted:Object(y.c)(ia||(ia=m()(["\n    &."," {\n      --rail-color: var(--cds-color-white-0);\n      --track-color: var(--cds-color-grey-300);\n    }\n  "])),po.root)},volumeMenu_VolumeMenuPopup=function(e){var t=e.visible,n=e.volume,i=e.muted,r=e.onVolumeSliderChange,a=e.onAfterChange,c=e.useLightVolumeSliderStyle,s=Object(Fn.a)({within:!0}),u=s.isFocusVisible,l=s.focusProps,d=Object(Hn.isRightToLeft)(Ti.a.getLocale()),p=Object(C.useCallback)((function(e){return d?100-e:e}),[d]),g=Object(C.useCallback)((function(e,t){var n=p(t);r(n)}),[r,p]),v=Object(C.useMemo)((function(){return p(i?0:100*n)}),[i,n,p]);return Object(y.d)("div",o()({css:[go.modernVolumeMenuPopupContainer,t&&go.visible]},l),Object(y.d)(Qa.a,{"aria-label":Ti()("Volume Control Slider"),value:v,classes:po,step:5,css:[go.slider,c&&go.lightVolumeSlider,u&&go.focusVisible,d&&go.inverted],onChange:g,onChangeCommitted:a}))},vo={volumeMenu:Object(y.c)(ra||(ra=m()(["\n    height: 100%;\n  "])))},bo=function(e){function VolumeMenu(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={menuPopupVisible:!1,muted:null,volume:null,isSliderChanging:!1,previousVolume:-1},t.onClick=function(e){e.stopPropagation()},t.showVolumeMenuPopup=function(){t.setState({menuPopupVisible:!0})},t.onMenuEnter=function(e){e.stopPropagation(),t.showVolumeMenuPopup()},t.onMenuLeave=function(e){e.stopPropagation(),t.state.isSliderChanging||t.setState({menuPopupVisible:!1})},t.onVolumeChange=function(){var e,n,i,r=t.props.player,a=t.state.volume;null!=a&&t.trackVolumeEvent("volume.change",{volume_delta:null!==(i=r.volume())&&void 0!==i?i:0-a});t.setState({volume:null!==(e=r.volume())&&void 0!==e?e:null,muted:null!==(n=r.muted())&&void 0!==n?n:null})},t.onVolumeButtonClick=function(e){var n,i,r,a;e.stopPropagation();var o=t.props,c=o.player,s=o.trackVideoPlayerClickEvent,u=null!==(n=c.volume())&&void 0!==n?n:yi,l=!(null!==(i=c.muted())&&void 0!==i&&i);if(c.muted(l),xi.a.set("volume",l?0:null!==(r=c.volume())&&void 0!==r?r:0),l)t.trackVolumeEvent("mute"),s("video_mute",{previousVolume:u,volume:0});else{if(t.trackVolumeEvent("unmute"),0===c.volume()){c.volume(.3),t.setState({volume:.3}),xi.a.set("volume",.3)}s("video_mute",{previousVolume:0})}t.setState({muted:null!==(a=c.muted())&&void 0!==a?a:null})},t.onVolumeSliderChange=function(e){var n,i=t.props.player;t.setState({isSliderChanging:!0}),0===e?(i.volume(0),i.muted(!0)):(i.volume(e/100),i.muted(!1)),xi.a.set("volume",i.muted()?0:null!==(n=i.volume())&&void 0!==n?n:0)},t.onAfterChange=function(){t.setState({isSliderChanging:!1})},t.onBlur=function(){var e,n=t.props,i=n.player,r=n.trackVideoPlayerClickEvent,a=t.state.previousVolume,o=null!==(e=i.volume())&&void 0!==e?e:yi;t.setState({menuPopupVisible:!1,isSliderChanging:!1}),r("video_volume_scrub_bar",{previousVolume:a,volume:o})},t.trackVolumeEvent=Vn()((function(e,n){var i=t.props.player,r=t.context._eventData.namespace.app;AnalyticsMetadataFetcher_createVideoEventTracker(r,i)(e,p()({},n))}),200),t}Mt()(VolumeMenu,e);var t=VolumeMenu.prototype;return t.componentDidMount=function(){var e,t,n=this.props.player;this.setState({volume:null!==(e=n.volume())&&void 0!==e?e:null,muted:null!==(t=n.muted())&&void 0!==t?t:null}),n.on("volumechange",this.onVolumeChange)},t.componentWillUnmount=function(){this.props.player.off("volumechange",this.onVolumeChange),this.trackVolumeEvent.cancel()},t.render=function(){var e=this.props.useLightVolumeSliderStyle,t=this.state,n=t.menuPopupVisible,i=t.muted,r=t.volume;return null==i||null==r?null:Object(y.d)("div",{className:Ba()("rc-VolumeMenu","horizontal-box","align-items-absolute-center"),role:"presentation",onMouseEnter:this.onMenuEnter,onMouseLeave:this.onMenuLeave,onFocus:this.showVolumeMenuPopup,onBlur:this.onBlur,onClick:this.onClick,css:vo.volumeMenu},Object(y.d)(volumeMenu_VolumeMenuButton,{onVolumeButtonClick:this.onVolumeButtonClick,volume:r,muted:i}),Object(y.d)(volumeMenu_VolumeMenuPopup,{visible:n,volume:r,muted:i,onVolumeSliderChange:this.onVolumeSliderChange,onAfterChange:this.onAfterChange,useLightVolumeSliderStyle:e}))},VolumeMenu}(C.Component);bo.contextTypes={_eventData:fn.a.object.isRequired};var mo,fo,ho,yo,Co,ko,Oo,jo,wo,xo,So,To,Io,Eo,Po,Vo,Lo,_o,No,Ro,Mo,Do,Ao,Fo,Bo,Ho,zo,Uo=bo,Qo={controlBar:function(e){return Object(y.c)(mo||(mo=m()(["\n    display: flex;\n    align-items: center;\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    opacity: 0;\n    height: ","px;\n    transition: height 0s 0.2s, opacity 0.2s linear;\n    color: var(--cds-color-grey-25);\n    container-type: size;\n    container-name: controls-container;\n  "])),e)},visible:Object(y.c)(fo||(fo=m()(["\n    opacity: 1;\n    transition: opacity 0.2s linear;\n  "]))),controlBarBefore:function(e){return Object(y.c)(ho||(ho=m()(["\n    &::before {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: ","px;\n      content: '';\n\n      /* Manual CSS gradient easing so we're not left with a harsh edge\n      Generated by https://larsenwork.com/easing-gradients\n      For more info, see https://css-tricks.com/easing-linear-gradients/ */\n      background-image: linear-gradient(\n        to top,\n        hsl(0deg 0% 0% / 48%) 0%,\n        hsl(0deg 0% 0% / 47.7%) 8.1%,\n        hsl(0deg 0% 0% / 46.8%) 15.5%,\n        hsl(0deg 0% 0% / 45.5%) 22.5%,\n        hsl(0deg 0% 0% / 43.8%) 29%,\n        hsl(0deg 0% 0% / 41.8%) 35.3%,\n        hsl(0deg 0% 0% / 39.6%) 41.2%,\n        hsl(0deg 0% 0% / 37.2%) 47.1%,\n        hsl(0deg 0% 0% / 34.8%) 52.9%,\n        hsl(0deg 0% 0% / 32.4%) 58.8%,\n        hsl(0deg 0% 0% / 30.2%) 64.7%,\n        hsl(0deg 0% 0% / 28.2%) 71%,\n        hsl(0deg 0% 0% / 26.5%) 77.5%,\n        hsl(0deg 0% 0% / 25.2%) 84.5%,\n        hsl(0deg 0% 0% / 24.3%) 91.9%,\n        hsl(0deg 0% 0% / 24%) 100%\n      );\n    }\n  "])),e+2)},controlBarGradient:Object(y.c)(yo||(yo=m()(["\n    &::before {\n      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADeCAYAAAD8fWpzAAAAAXNSR0IArs4c6QAAASVJREFUOE9lyGdHxgEUhvGnvffee++9e9q7RBJJIokkkUSSSCJJJJEkkkgfMtf94hx/nRc/93VCoX8XwUdEBokiRbQRw3JiSRFnxLOcBFIkGkksJ5kUKUYqy0kjRbqRwRKZQbJIkW3ksJxcUuQZ+SyngBSFRhHLKSZFiVHKcspIUW5UsERlkCpSVBs1LKeWFHVGPctpIEWj0cRymknRYrSyRFuQdlJ0GJ0sp4sU3UYPy+klRZ/Rz3IGSDFoDLGcYVKMGKMsEQ4yRopxY4LlTJJiyphmOTOkmDXmWM48KRaMRZazRIplWIFVWIN12IBN2IJt2IFd2IN9OIBDOIJjOIFTOINzuIBLuIJruIFbuIN7eIBHeIJneIFXeIN3+IBP+IJv+IHfPxKvL0jelzwbAAAAAElFTkSuQmCC');\n      content: '';\n      position: absolute;\n      height: 200px;\n      width: 100%;\n      display: block;\n      bottom: 0;\n      left: 0;\n      pointer-events: none;\n    }\n\n    &::after {\n      opacity: 0.2;\n    }\n  "]))),container:Object(y.c)(Co||(Co=m()(["\n    flex: 1;\n    min-width: 0;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n  "]))),controlsContainer:Object(y.c)(ko||(ko=m()(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    width: 100%;\n    gap: var(--cds-spacing-100);\n    align-items: center;\n    position: relative;\n    padding: var(--cds-spacing-150) var(--cds-spacing-200);\n  "]))),seekControls:Object(y.c)(Oo||(Oo=m()(["\n    display: flex;\n    align-items: center;\n    gap: var(--cds-spacing-50);\n  "]))),chapterName:Object(y.c)(jo||(jo=m()(["\n    flex: 1;\n    min-width: 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n\n    @container controls-container (max-width: 400px) {\n      display: none;\n    }\n\n    &::before {\n      content: '';\n      margin-right: var(--cds-spacing-50);\n    }\n  "]))),leftSideControls:Object(y.c)(wo||(wo=m()(["\n    flex: 1;\n    min-width: 150px;\n    display: flex;\n    align-items: center;\n    gap: var(--cds-spacing-200);\n\n    "," {\n      gap: var(--cds-spacing-100);\n    }\n  "])),U.a.down("xs")),rightSideControls:Object(y.c)(xo||(xo=m()(["\n    flex: none;\n    display: flex;\n    align-items: center;\n    gap: var(--cds-spacing-200);\n\n    "," {\n      gap: var(--cds-spacing-100);\n    }\n  "])),U.a.down("xs"))},components_ControlBar=function(e){var t=e.setVisiblePopup,n=e.visible,i=e.player,r=e.visiblePopup,a=e.defaultSubtitleLanguage,c=e.videoQuizQuestions,s=e.trackVideoPlayerClickEvent,u=e.trackVideoPlayerViewEvent,l=e.trimmedStartTimeSeconds,d=e.enableHls,g=e.videoBoundaryElement,b=e.dubbedSources,m=e.originalSources,f=e.dubbedSubtitlesVtt,k=e.hlsSource,O=e.trackVideoPlayerInteractionEvent,j=e.videoProgress,w=Object(C.useCallback)((function(){var e,t;return l?(null!==(e=i.currentTime())&&void 0!==e?e:0)-l:null!==(t=i.currentTime())&&void 0!==t?t:0}),[i,l]),x=Object(C.useState)(w()),S=v()(x,2),T=S[0],I=S[1],E=Object(dt.b)(),P=E.defaultLanguageKey,V=E.isDubbingAvailable,L=Object(Q.a)(U.a.down("xs")),N=ChaptersProvider_useChapters(),R=N.areChaptersEnabled,M=N.getChapterForTimestamp,D=Object(C.useCallback)((function(){t(!1)}),[t]);Object(C.useEffect)((function(){var onTimeChange=function(){I(w())};return i.on("timeupdate",onTimeChange),function(){i.off("timeupdate",onTimeChange)}}),[i,w]);var A=usePlaybackRateControls_usePlaybackRateControls(i),F=A.currentPlaybackRate,B=A.supportedPlaybackRates,H=A.onPlaybackRateClick,z=function(e){var t=e.player,n=e.enableHls,i=e.hlsSource,r=e.originalSources,a=Object(C.useMemo)((function(){return getInitialResolution({sourcesByResolution:r,enableHlsExperiment:!!n,isAutoAllowed:!0})}),[n,r]),o=t.getSupportedResolutions(),c=Object(C.useState)("auto"===a?"":a),s=v()(c,2),u=s[0],l=s[1],d=Object(C.useState)(a),p=v()(d,2),g=p[0],b=p[1],m=Object(C.useCallback)((function(e){"auto"===e?(xi.a.set("hlsResolution","auto"),"application/x-mpegURL"!==t.currentSource().type&&n&&i&&loadNewSrc({player:t,src:i,type:"application/x-mpegURL"}),function(e){for(var t=e.player,n=e.onAutoResolutionEnabled,i=t.qualityLevels(),r=0;r<i.length;r+=1)i[r].height&&(i[r].enabled=!0);n()}({player:t,onAutoResolutionEnabled:function(){b(e)}})):(resolutionUtils_saveResolutionInUserPreferences(e),t.resolution(e,{forceResolutionChange:!0}),b(e))}),[n,i,t]);return Object(C.useEffect)((function(){n&&function(e){var t=e.player,n=e.setCurrentResolution;t.on("resize",(function(){var e=t.videoHeight(),i="".concat(e,"p");n(i)}))}({player:t,setCurrentResolution:l})}),[n,t]),Object(C.useEffect)((function(){var onResolutionChange=function(){var e=t?t.resolution():videoUtils_getDefaultVideoResolution();l(e),b(e)};return t.on("resolutionchange",onResolutionChange),function(){t.off("resolutionchange",onResolutionChange)}}),[t]),{currentResolution:u,currentResolutionOption:g,supportedResolutions:o,onResolutionOptionClick:m,setCurrentResolutionOption:b,setCurrentResolution:l}}({player:i,enableHls:d,hlsSource:k,originalSources:m}),q=z.currentResolution,W=z.currentResolutionOption,K=z.supportedResolutions,Z=z.onResolutionOptionClick,G=z.setCurrentResolutionOption,J=z.setCurrentResolution,getDubbedSubtitleKeys=function(){return Object.keys(null!=f?f:{})},Y=function(e){var t=e.getDubbedSubtitleKeys,n=Object(C.useState)(!1),i=v()(n,2),r=i[0],a=i[1],o=Object(C.useState)(null),c=v()(o,2),s=c[0],u=c[1],l=Object(dt.b)(),d=l.setShouldNudgeBeVisible,g=l.shouldNudgeBeVisible,b=l.isDubbingAvailable,m=Object(C.useCallback)((function(){var e=Object(Hn.getUserLanguageCode)(),n=t(),i=function(e,t){var n,i=!1;return e.forEach((function(e){t===e&&(i=!0,n=e)})),{prefixMatched:i,languageMatched:n}}(n,e.split("-")[0]),r=i.prefixMatched,o=i.languageMatched,c=n.includes(e)||r;c&&(a(c),u(r&&o?o:e))}),[t]),f=Object(C.useCallback)((function(){var e=t(),n=transformDubbedSources(e),i=dubbingUtil_getAudienceLanguageFromBrowserLanguage(n);i&&(a(!0),u(i))}),[t]),h=Object(C.useCallback)((function(){var e=t(),n=transformDubbedSources(e),i=dubbingUtil_getAudienceLanguageFromCountryCode(n);i&&(a(!0),u(i))}),[t]),y=Object(C.useCallback)((function(e){var n=t(),i=e&&n.includes(e);i?(a(i),u(e)):(a(!1),u(null),m(),d(p()(p()({},g),{},{isVisible:!0})),h(),f())}),[t,m,d,g,h,f]),k=Object(C.useCallback)((function(){var e=g.languageCode;e&&(t().includes(e)?(u(e),a(!0)):(a(!1),u(null),m(),y(e),h(),f()))}),[g.languageCode,t,m,y,h,f]);return Object(C.useEffect)((function(){b&&m()}),[b,m]),Object(C.useEffect)((function(){b&&f()}),[b,f]),Object(C.useEffect)((function(){b&&h()}),[b,h]),Object(C.useEffect)((function(){g.isVisible&&b&&(k(),d(p()(p()({},g),{},{isVisible:!1})))}),[b,d,g,k]),{setShouldNudgeBeVisible:d,shouldNudgeBeVisible:g,shouldShowNudge:r,setShouldShowNudge:a,nudgeLanguageCode:s,setNudgeLanguageCode:u,shouldShowNudgeOnSubtitleChange:y,shouldShowNudgeOnMatchingUserLanguage:m}}({getDubbedSubtitleKeys:getDubbedSubtitleKeys}),X=Y.shouldShowNudge,ee=Y.setShouldShowNudge,te=Y.nudgeLanguageCode,ne=Y.shouldShowNudgeOnSubtitleChange,ie=Y.shouldShowNudgeOnMatchingUserLanguage,re="none"!==xi.a.get("audioLanguage")&&!!xi.a.get("audioLanguage"),ae=function(e){var t=e.dubbedSources,n=e.player,i=e.originalSources,r=e.defaultLanguageKey,a=e.setShouldShowNudge,o=e.getDubbedSubtitleKeys,c=e.shouldShowNudgeOnMatchingUserLanguage,s=e.setCurrentResolutionOption,u=e.setCurrentResolution,l=e.enableHls,d=e.hlsSource,p=e.currentResolution,g=Object(dt.b)(),v=g.setShouldChangeTranscriptTracks,b=g.setShouldChangeTranscriptLanguage,m=g.setReportIssueSectionVisible,f=g.setChangeSubtitleOnAudioChange,h=g.isDubbingAvailable,y=g.selectedAudioLanguage,k=g.setSelectedAudioLanguage;Object(C.useEffect)((function(){k({id:null!=r?r:"",label:Object(Wn.c)(null!=r?r:""),languageKey:null!=r?r:""})}),[r,k]);var onDubbedAudioChoiceClick=function(e){var o,u,g=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(!1);var h=e.languageKey===r,y=!!(h&&l&&d),C=n.getSupportedResolutions().includes(p)?p:n.resolution();if(h){var O;if(!(o=y?d:null===(O=i[C])||void 0===O?void 0:O["video/mp4"]))return;k(e),u=!1,xi.a.set("audioLanguage","none"),xi.a.set("dubbedSubtitleLanguage","none"),c()}else{var j,w;if(!(o=null==t?void 0:null===(j=t[e.languageKey])||void 0===j?void 0:null===(w=j[C])||void 0===w?void 0:w.mp4VideoUrl))return;k(e),xi.a.set("audioLanguage",e.languageKey),u=!0}if(o){var x,S,T=null!==(x=n.currentTime())&&void 0!==x?x:0,I=null!==(S=n.playbackRate())&&void 0!==S?S:1,E=n.paused();n.one("loadedmetadata",(function(){var t,i=Math.max(null!==(t=n.currentTime())&&void 0!==t?t:0,T);n.currentTime(i),n.playbackRate(I);var r,a=xi.a.get("autoplay");if(E&&!a?n.pause():n.play(),g){var o=Ce.get("dubbed-language-code");r="none"===o?Ce.get("language-code"):o}else h?(r=Ce.get("language-code"),Ce.set("dubbed-language-code","none")):(r=e.languageKey,Ce.set("dubbed-language-code",r));b({shouldChange:!0,languageCode:r}),f({shouldChange:!0,languageCode:e.languageKey}),m(u)})),v({shouldChange:e.languageKey!==r,languageCode:e.languageKey}),n.pause(),n.src({src:o,type:y?"application/x-mpegURL":"video/mp4"}),y?(s("auto"),resolutionUtils_saveResolutionInUserPreferences("auto")):(s(C),resolutionUtils_saveResolutionInUserPreferences(C))}};return Object(C.useEffect)((function(){if(h){var e=xi.a.get("audioLanguage");if("none"!==e&&void 0!==e){var t=o();if(e&&t.includes(e)){var i={id:e,label:Object(Wn.a)(e),languageKey:e};n.ready((function(){onDubbedAudioChoiceClick(i,!0)}))}}}}),[h]),{selectedAudioLanguage:y,onDubbedAudioChoiceClick:onDubbedAudioChoiceClick,getDubbedLanguagesList:function(){var e=Object.keys(null!=t?t:{}).map((function(e){return{label:Object(Wn.a)(e),languageKey:e}}));return r&&e.unshift({label:Object(Wn.c)(r),languageKey:r}),e.sort((function(e,t){return e.label.localeCompare(t.label)}))},handleResolutionChangeForDubbedAudio:function(e){var i,r,a=null==t?void 0:null===(i=t[y.languageKey])||void 0===i?void 0:null===(r=i[e])||void 0===r?void 0:r.mp4VideoUrl;if(a&&"auto"!==e){var o,c,l,d=null!==(o=n.currentTime())&&void 0!==o?o:0,p=null!==(c=n.playbackRate())&&void 0!==c?c:1,g=null!==(l=n.paused())&&void 0!==l&&l;n.one("loadedmetadata",(function(){n.currentTime(d),n.playbackRate(p);var e=xi.a.get("autoplay");g&&!e?n.pause():n.play()})),n.resolution(e,{skipSrcLoadingLogic:!0}),resolutionUtils_saveResolutionInUserPreferences(e),n.src({src:a,type:"video/mp4"}),s(e),u(e)}}}}({originalSources:m,dubbedSources:b,player:i,defaultLanguageKey:P,setShouldShowNudge:ee,getDubbedSubtitleKeys:getDubbedSubtitleKeys,shouldShowNudgeOnMatchingUserLanguage:ie,currentResolution:q,setCurrentResolutionOption:G,setCurrentResolution:J,enableHls:d,hlsSource:k}),oe=ae.selectedAudioLanguage,ce=ae.onDubbedAudioChoiceClick,se=ae.getDubbedLanguagesList,ue=ae.handleResolutionChangeForDubbedAudio,le=null!==q&&null!==F&&null!==K,de=useSubtitleMenuControls_useSubtitleMenuControls({selectedAudioLanguage:oe,defaultLanguageKey:P,defaultSubtitleLanguage:a,player:i,trackVideoPlayerClickEvent:s,shouldShowNudgeOnSubtitleChange:ne}),pe=de.onSubtitleLanguageChoiceClick,ge=de.onSubtitleOffClick,ve=de.currentTrack,be=de.tracks,me=useAutoplayToggle_useAutoplayToggle({subscribeToAutoplayChanges:function(e){return i.on("autoplaychange",e)},unsubscribeFromAutoplayChanges:function(e){return i.off("autoplaychange",e)},triggerAutoplayChangePlayerEvent:function(){return i.trigger("autoplaychange")}}),fe=me.autoplay,he=me.handleToggleSwitchClick,ye=M(T),ke=Object(C.useState)(null),Oe=v()(ke,2),je=Oe[0],we=Oe[1],xe=Object(C.useState)(60),Se=v()(xe,2),Te=Se[0],Ie=Se[1];Object(C.useEffect)((function(){if(je){var e=new ResizeObserver((function(e){var t,n,i=null!==(t=null===(n=e[0])||void 0===n?void 0:n.contentRect.height)&&void 0!==t?t:60;Ie(i)}));return e.observe(je),function(){return e.disconnect()}}return function(){}}),[je]);var Ee=Object(Fn.a)({within:!0}),Pe=Ee.isFocusVisible,Ve=Ee.focusProps;return Object(y.d)(C.Fragment,null,Object(y.d)("div",o()({"data-testid":"video-control-bar",css:[Qo.controlBar(Te),Qo.controlBarBefore(Te),R&&Qo.controlBarGradient,(n||Pe)&&Qo.visible],onClick:function(e){e.stopPropagation()}},Ve),Object(y.d)("div",{css:Qo.container,ref:we},Object(y.d)(progressBar_VideoProgressBar,{player:i,videoQuizQuestions:c,trimmedStartTimeSeconds:l}),Object(y.d)("div",{className:"icon-container",css:Qo.controlsContainer},Object(y.d)("div",{css:Qo.leftSideControls},Object(y.d)(components_PlayToggle,{player:i,isDubbingAvailable:V,trackVideoPlayerClickEvent:s,trackVideoPlayerInteractionEvent:O,videoBoundaryElement:g}),Object(y.d)(Uo,{player:i,trackVideoPlayerClickEvent:s,useLightVolumeSliderStyle:R}),Object(y.d)("div",{css:Qo.seekControls},!L&&Object(y.d)(SeekControls_SeekBackwardControl,{player:i,trackVideoPlayerClickEvent:s,videoBoundaryElement:g}),Object(y.d)(components_VideoTimeDisplay,{player:i,trimmedStartTimeSeconds:l}),!L&&Object(y.d)(SeekControls_SeekForwardControl,{player:i,trackVideoPlayerClickEvent:s,videoBoundaryElement:g})),R&&(null==ye?void 0:ye.chapterName)&&Object(y.d)(mt.a,{component:"div",variant:L?"subtitleMedium":"subtitleLarge",color:"invertBody",css:Qo.chapterName},null==ye?void 0:ye.chapterName)),Object(y.d)("div",{css:Qo.rightSideControls},!L&&Object(y.d)(components_PlaybackRateControl,{trackVideoPlayerClickEvent:s,onPlaybackRateClick:H,currentPlaybackRate:F,videoBoundaryElement:g}),le&&Object(y.d)(oo,{menuPopupVisible:r,onClick:function(){r?t(!1):(document.documentElement.clientWidth<=U.a.values.sm&&i.pause(),s("video_settings_menu",{}),t(!0))},videoBoundaryElement:g}),pictureInPictureUtils_isPictureInPictureSupported()&&Object(y.d)(components_PictureInPictureToggle,{player:i,videoBoundaryElement:g}),Object(y.d)(components_FullscreenToggle,{player:i,videoBoundaryElement:g}))))),Object(y.d)(components_AudioDubbingNudgeTooltip,{visible:X&&oe.languageKey===P,languageCode:te,onDubbedAudioChoiceClick:ce,trackVideoPlayerClickEvent:s,playerHasLoaded:Boolean(i)&&null!==j&&!h()(j),trackVideoPlayerViewEvent:u}),le&&Object(y.d)(modernSettingsMenu_ModernSettingsMenuPopup,{trackVideoPlayerClickEvent:s,enableHls:d&&!re,autoplay:fe,dubbedLanguages:se(),onDubbedAudioChoiceClick:ce,handleResolutionChangeForDubbedAudio:ue,selectedAudioLanguage:oe,isOriginalAudioSelected:oe.languageKey===P,defaultLanguageKey:P,onToggleAutoplay:he,currentPlaybackRate:F,supportedPlaybackRates:B,onPlaybackRateClick:H,currentResolution:q,currentResolutionOption:W,supportedResolutions:K,onResolutionOptionClick:Z,onSubtitleLanguageChoiceClick:pe,onSubtitleOffClick:ge,currentTrack:ve,tracks:be,visible:r,closeSettingsMenu:D}))},qo=t("0F5w"),Wo={loading:Object(y.c)(So||(So=m()(["\n    background-color: transparent !important;\n\n    div {\n      /* centers the loading indicator in the video */\n      line-height: 0;\n\n      svg {\n        circle {\n          stroke-width: 12px !important;\n        }\n      }\n\n      /* hides the loading label */\n      h2 {\n        display: none;\n      }\n    }\n  "])))},components_LoadingOverlay=function(e){var t=e.player,n=Object(C.useState)(!1),i=v()(n,2),r=i[0],a=i[1];return Object(C.useEffect)((function(){var isLoading=function(){return a(!0)},isLoaded=function(){return a(!1)};return t.on("seeking",isLoading),t.on("waiting",isLoading),t.on("canplay",isLoaded),t.on("canplaythrough",isLoaded),t.on("seeked",isLoaded),t.on("playing",isLoaded),function(){t.off("seeking",isLoading),t.off("waiting",isLoading),t.off("canplay",isLoaded),t.off("canplaythrough",isLoaded),t.off("seeked",isLoaded),t.off("playing",isLoaded)}}),[t]),r?Object(y.d)(qo.a,{label:"","aria-label":Ti()("Loading..."),css:Wo.loading}):null},Ko={root:Object(y.c)(To||(To=m()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: var(--cds-color-grey-25);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: var(--cds-spacing-100);\n    opacity: 0;\n    transition: opacity 200ms ease, visibility 200ms ease;\n    visibility: hidden;\n  "]))),visible:Object(y.c)(Io||(Io=m()(["\n    opacity: 1;\n    visibility: visible;\n  "]))),icon:Object(y.c)(Eo||(Eo=m()(["\n    fill: var(--cds-color-interactive-primary);\n  "])))},components_PictureInPictureOverlay=function(e){var t=e.player,n=e.onClick,i=Object(C.useState)(!1),r=v()(i,2),a=r[0],o=r[1];Object(C.useEffect)((function(){var enterPictureInPicture=function(){return o(!0)},leavePictureInPicture=function(){return o(!1)};return t.on("enterpictureinpicture",enterPictureInPicture),t.on("leavepictureinpicture",leavePictureInPicture),function(){t.off("enterpictureinpicture",enterPictureInPicture),t.off("leavepictureinpicture",leavePictureInPicture)}}),[t]);var c=Object(C.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),t.exitPictureInPicture(),n()}),[t,n]);return Object(y.d)("div",{css:[Ko.root,a&&Ko.visible]},Object(y.d)(mt.a,{component:"h2",variant:"titleSmall"},Ti()("Picture in picture")),Object(y.d)(V.a,{variant:"ghost",icon:Object(y.d)(svg_PictureInPictureSvg,{height:20,width:20,reverse:!0,css:Ko.icon}),onClick:c},Ti()("Return to video")))},Zo=t("eJMc"),Go=t.n(Zo),Jo=t("kvW3"),Yo=t("fAYU"),Xo=t("pLcN"),$o=t("CsdX"),ec=t("KG2t"),tc={autoNextOverlay:Object(y.c)(Po||(Po=m()(["\n    position: absolute;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    background-color: rgba(0 0 0 / 80%);\n    transition: background-color 0.5s linear;\n  "]))),overlayDisplay:Object(y.c)(Vo||(Vo=m()(["\n    width: 50%;\n  "]))),nextItemBtn:Object(y.c)(Lo||(Lo=m()(["\n    height: 96px;\n    width: 96px;\n    margin-right: 12px;\n    color: var(--cds-color-neutral-primary-invert);\n  "]))),itemInfo:Object(y.c)(_o||(_o=m()(["\n    font-size: 16px;\n    color: var(--cds-color-neutral-primary-invert);\n\n    > :not(:last-child) {\n      margin-bottom: 12px;\n    }\n\n    .timer {\n      font-weight: bold;\n      font-size: 16px;\n      color: var(--cds-color-green-500);\n    }\n\n    .timer-red {\n      color: var(--cds-color-feedback-error);\n    }\n  "]))),nextItemName:Object(y.c)(No||(No=m()(["\n    font-size: 24px;\n    font-weight: bold;\n    text-decoration: none;\n  "]))),link:Object(y.c)(Ro||(Ro=m()(["\n    color: var(--cds-color-neutral-background-primary) !important;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: none;\n    }\n  "]))),nextItemDuration:Object(y.c)(Mo||(Mo=m()(["\n    color: var(--cds-color-grey-200);\n  "]))),nextItemCtaBtn:Object(y.c)(Do||(Do=m()(["\n    font-size: 16px;\n    font-weight: 600;\n    margin-top: 14px;\n    text-decoration: none;\n    text-transform: uppercase;\n    color: var(--cds-color-neutral-background-primary);\n  "]))),cancelBtn:Object(y.c)(Ao||(Ao=m()(["\n    margin-left: 1rem;\n    color: var(--cds-color-neutral-background-primary);\n  "])))},autoplay_AutoNextOverlay=function(e){var t,n=e.player,i=e.defaultCountdown,r=void 0===i?10:i,a=e.isAutoNextEnabled,o=e.isAutoNextPaused,c=e.nextItem,s=Object(xt.b)(),u=Object(C.useState)(r),l=v()(u,2),d=l[0],p=l[1],g=Object(C.useState)(!1),b=v()(g,2),m=b[0],f=b[1],h=Object(C.useState)(!1),k=v()(h,2),O=k[0],j=k[1],w=Object(C.useState)(!1),x=v()(w,2),S=x[0],T=x[1],I=Object(C.useRef)(null),E=null==c?void 0:c.getLink(),P=null==c?void 0:null===(t=c.getContent())||void 0===t?void 0:t.typeName,stopTimer=function(){I.current&&clearInterval(I.current),f(!1)},V=Object(C.useCallback)((function(e){null==e||e.stopPropagation(),stopTimer(),T(!0),Mi.isFullScreen()?Mi.requestFullScreenExit(n):n.isInPictureInPicture()&&n.exitPictureInPicture()}),[n]),L=Object(C.useCallback)((function(){p((function(e){return 1===e?(V(),E&&s.push(E),e):e-1}))}),[V,E,s]);if(Object(C.useEffect)((function(){return a&&(I.current=window.setInterval(L,1e3),f(!0)),function(){stopTimer()}}),[L,a]),!c)return null;var N=c.getName(),R=c.getTimeCommitment(),M=Object(Ua.z)(R);return Object(y.d)("div",{css:tc.autoNextOverlay,"data-testid":"autoNextOverlay",className:Ba()("rc-AutoNextOverlay","horizontal-box","align-items-absolute-center"),onClick:function(e){return e.stopPropagation()}},Object(y.d)("div",{css:tc.overlayDisplay,className:"overlay-display horizontal-box"},Object(y.d)("div",{css:tc.nextItemBtn,className:"next-item-button vertical-box"},Object(y.d)(Yo.a,{"data-testid":"next-item-icon-link-".concat(P),component:Go.a,onClick:V,href:"#",to:E},Object(y.d)(ec.a,{size:96,type:P,style:{fill:$o.b.white}}))),Object(y.d)("div",{className:"next-item-display vertical-box"},Object(y.d)("div",{css:tc.itemInfo,className:"item-info vertical-box"},Object(y.d)("span",{className:"up-next"},Ti()("Up Next")),Object(y.d)(Yo.a,{component:Go.a,href:"#",to:E,onClick:V,css:[tc.nextItemName,tc.link]},N),Object(y.d)("span",{css:tc.nextItemDuration,className:"next-item-duration"},M),m&&!O&&!S&&Object(y.d)(Jo.a,{message:Ti()('Starts in <span class="timer">{countdownTime}</span> {countdownTime, plural, one {second} other {seconds}}'),countdownTime:d}),!m&&!O&&!S&&Object(y.d)(mt.a,{className:"timer-red",component:"span",variant:"subtitleMedium"},o?Ti()("Autoplay paused"):Ti()("Autoplay disabled")),S&&Object(y.d)(Xo.a,{inverted:!0,label:Ti()("Almost ready...")})),Object(y.d)("div",{className:"horizontal-box align-items-vertical-center",style:{marginLeft:"-33"}},c&&!S&&Object(y.d)(Yo.a,{component:Go.a,href:"#",to:E,variant:"quiet",onClick:V,className:"next-item-cta-button",id:"start-button",css:[tc.nextItemCtaBtn,tc.link]},Ti()("Start")),c&&a&&m&&Object(y.d)(Yo.a,{href:"#",onClick:function(e){e&&e.stopPropagation(),stopTimer(),j(!0)},className:"next-item-cta-button",id:"cancel-button",css:[tc.nextItemCtaBtn,tc.cancelBtn,tc.link]},Ti()("Cancel"))))))},nc=["width","height"],CenterPlayButton_PlayArrowSvg=function(e){var t=e.width,n=void 0===t?96:t,i=e.height,r=void 0===i?96:i,a=ut()(e,nc);return(C.createElement("svg",o()({width:n,height:r,viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),Fo||(Fo=C.createElement("path",{d:"M32 68.6998V27.2998C32 26.1665 32.4 25.2165 33.2 24.4498C34 23.6831 34.9333 23.2998 36 23.2998C36.3333 23.2998 36.6833 23.3498 37.05 23.4498C37.4167 23.5498 37.7667 23.6998 38.1 23.8998L70.7 44.5998C71.3 44.9998 71.75 45.4998 72.05 46.0998C72.35 46.6998 72.5 47.3331 72.5 47.9998C72.5 48.6665 72.35 49.2998 72.05 49.8998C71.75 50.4998 71.3 50.9998 70.7 51.3998L38.1 72.0998C37.7667 72.2998 37.4167 72.4498 37.05 72.5498C36.6833 72.6498 36.3333 72.6998 36 72.6998C34.9333 72.6998 34 72.3165 33.2 71.5498C32.4 70.7831 32 69.8331 32 68.6998Z",fill:"white"}))))},ic={button:Object(y.c)(Bo||(Bo=m()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n\n    &:focus-visible {\n      ::after {\n        display: none;\n      }\n\n      [data-testid='action-feedback-icon-container'] {\n        ::after {\n          content: '';\n          position: absolute;\n          border-radius: 50%;\n          inset: -2px;\n          box-shadow: 0 0 0 1px var(--cds-color-interactive-stroke-primary-focus),\n            0 0 0 2px var(--cds-color-interactive-stroke-primary-focus-invert);\n        }\n      }\n    }\n\n    [data-testid='action-feedback-icon-container'] {\n      transition: opacity 0.2s cubic-bezier(0, 0, 0.2, 1);\n\n      &:hover {\n        opacity: 0.4;\n      }\n    }\n  "])))},rc={icon:Object(y.d)(CenterPlayButton_PlayArrowSvg,{width:70,height:70})},ac=C.forwardRef((function(e,t){var n=e.onClick,i=e.videoName,r=i?Ti()("Play Video for #{videoName}",{videoName:i}):Ti()("Play Video");return Object(y.d)(Pi.a,{ref:t,"data-testid":"centerPlayButton","aria-label":r,"aria-live":"off",onClick:n,css:ic.button},Ho||(Ho=Object(y.d)(components_ActionFeedback,{feedback:rc,showFeedback:!0})))}));function applySubtitlePosition(e){var t=e.textTracks,n=e.line,i=void 0===n?100:n,r=e.position,a=void 0===r?50:r,o=e.align,c=void 0===o?"center":o;t.forEach((function(e){e.cues&&Array.from(e.cues).forEach((function(e){e&&(e.position=a,e.line=i,e.align=c)}))}))}var oc,cc,sc,uc,lc,dc,pc,gc={root:Object(y.c)(zo||(zo=m()(["\n    position: absolute;\n    bottom: 0;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n    background-color: transparent;\n  "])))},vc=5e3,bc=function(e){function VideoControlsContainer(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={isChromeVisible:!1,showAutoNextOverlay:!1,visiblePopup:!1},t.handleVideoRegionMouseMove=function(){t.showChromeOnControlUse()},t.handleDocumentMouseDown=function(e){var n=t.props.player,i=Mi.isFullScreen();!t.node||t.node.contains(e.target)||i||n.paused()||t.setChromeVisibility(!1)},t.onCenterPlayButtonClick=function(e){var n;e.preventDefault(),e.stopPropagation();var i=t.props,r=i.player,a=i.videoPlayerDivRef,o=i.displayInitialCenterPlayButton,c=i.trackVideoPlayerClickEvent;r.play(),o(!1),c("video_center_play",{}),null===(n=a.current)||void 0===n||n.focus()},t.onPictureInPictureClick=function(){var e;null===(e=t.props.videoPlayerDivRef.current)||void 0===e||e.focus()},t.onClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props,i=n.player,r=n.trackVideoPlayerClickEvent;i.paused()?(r("video_center_play",{}),i.play()):(r("video_pause",{}),i.pause())},t.onShareClick=function(e){e.stopPropagation();var n=t.props.player;n.paused()||n.pause()},t.hideChrome=function(e){e.stopPropagation();var n=t.state.visiblePopup,i=t.props.player,r=Mi.isFullScreen();i.paused()||r||n||t.setChromeVisibility(!1)},t.hideChromeOnBlur=function(e){e.currentTarget.contains(e.relatedTarget)||t.hideChrome(e)},t.showChrome=function(e){e.stopPropagation(),t.setChromeVisibility(!0)},t.showChromeOnFocus=function(e){t.showChrome(e),t.clearChromeVisibilityTimeout()},t.startChromeVisibilityTimeout=function(){t.timeoutID=window.setTimeout((function(){t.setChromeVisibility(!1)}),vc)},t.clearChromeVisibilityTimeout=function(){t.timeoutID&&clearTimeout(t.timeoutID)},t.showChromeOnControlUse=function(){var e;t.clearChromeVisibilityTimeout();var n=t.props.player;t.setChromeVisibility(!0);var i=null===(e=t.node)||void 0===e?void 0:e.contains(document.activeElement);n.paused()||i||t.startChromeVisibilityTimeout()},t.setChromeVisibility=function(e){var n=t.state.visiblePopup;t.setState({isChromeVisible:e,visiblePopup:!!e&&n})},t.setVisiblePopup=function(e){t.setState({visiblePopup:e})},t.assignRef=function(e){t.node=e},t.handleDoubleClick=function(e){e.preventDefault(),e.target===t.node&&t.props.onToggleFullscreen()},t}Mt()(VideoControlsContainer,e);var t=VideoControlsContainer.prototype;return t.applySubtitles=function(){var e,t,n,i,r=(null!==(e=null===(t=this.node)||void 0===t?void 0:null===(n=t.getBoundingClientRect)||void 0===n?void 0:null===(i=n.call(t))||void 0===i?void 0:i.width)&&void 0!==e?e:0)<600?-4:void 0;applySubtitlePosition({textTracks:Array.from(this.props.player.textTracks()),line:r})},t.componentDidMount=function(){var e=this,t=this.props,n=t.player,i=t.displayInitialCenterPlayButton;this.applySubtitles(),n.one("play",(function(){i(!1)})),n.on("play",(function(){e.applySubtitles(),e.setState({showAutoNextOverlay:!1}),e.showChromeOnControlUse()})),n.on("seeked",this.showChromeOnControlUse),n.on("volumechange",this.showChromeOnControlUse),n.on("pause",this.showChromeOnControlUse),n.on("ended",(function(){e.setState({showAutoNextOverlay:!0})})),i(!n.autoplay()),document.addEventListener("mousedown",this.handleDocumentMouseDown)},t.componentWillUnmount=function(){this.props.player.off("ended"),this.clearChromeVisibilityTimeout(),document.removeEventListener("mousedown",this.handleDocumentMouseDown)},t.render=function(){var e=this.props,t=e.defaultSubtitleLanguage,n=e.nextItem,i=e.player,r=e.videoQuizQuestions,a=e.visibility,o=e.autoNextCountdownSeconds,c=e.isAutoNextPaused,s=e.trackVideoPlayerClickEvent,u=e.trackVideoPlayerViewEvent,l=e.trimmedStartTimeSeconds,d=e.trimmedDurationSeconds,p=e.enableHls,g=e.videoBoundaryElement,v=e.videoFeedbackState,b=e.showFeedback,m=e.showInitialCenterPlayButton,f=e.dubbedSources,h=e.originalSources,C=e.dubbedSubtitlesVtt,k=e.hlsSource,O=e.videoName,j=e.trackVideoPlayerInteractionEvent,w=e.centralPlayButtonRef,x=e.videoProgress,S=this.state,T=S.isChromeVisible,I=S.visiblePopup,E=S.showAutoNextOverlay,P=!c&&(xi.a&&xi.a.get("autoplay")),V=E&&a&&n&&(i.ended()||d);return Object(y.d)("div",{ref:this.assignRef,role:"presentation",className:"rc-VideoControlsContainer",onClick:this.onClick,onFocus:this.showChromeOnFocus,onBlur:this.hideChromeOnBlur,onMouseEnter:m?void 0:this.showChrome,onMouseLeave:this.hideChrome,onMouseMove:this.handleVideoRegionMouseMove,onDoubleClick:this.handleDoubleClick,css:gc.root},m&&Object(y.d)(ac,{onClick:this.onCenterPlayButtonClick,videoName:O,ref:w}),Object(y.d)(components_ActionFeedback,{feedback:v,showFeedback:b}),Object(y.d)(components_PictureInPictureOverlay,{player:i,onClick:this.onPictureInPictureClick}),Object(y.d)(components_LoadingOverlay,{player:i}),V&&Object(y.d)(autoplay_AutoNextOverlay,{player:i,nextItem:n,isAutoNextEnabled:P,defaultCountdown:o,isAutoNextPaused:c}),Object(y.d)(components_ControlBar,{enableHls:p,hlsSource:k,visiblePopup:I,videoQuizQuestions:r,setVisiblePopup:this.setVisiblePopup,visible:T,player:i,trackVideoPlayerClickEvent:s,trackVideoPlayerInteractionEvent:j,trackVideoPlayerViewEvent:u,trimmedStartTimeSeconds:l,videoBoundaryElement:g,defaultSubtitleLanguage:t,dubbedSubtitlesVtt:C,dubbedSources:f,originalSources:h,videoProgress:x}))},VideoControlsContainer}(C.Component),useVideoPlayerActions_useVideoPlayerActions=function(e){var t=e.playerRef,n=e.trackVideoPlayerClickEvent,i=e.showVideoPlayerControlsFeedback;return{togglePlayback:Object(C.useCallback)((function(){var e=t.current;e&&(e.paused()?(e.play(),n("video_play_hotkey",{}),i(oc||(oc=C.createElement(svg_PlayArrowSvg,{"data-testid":"playSvgActionFeedback",width:60,height:60})))):(e.pause(),n("video_pause_hotkey",{}),i(cc||(cc=C.createElement(svg_PauseSvg,{"data-testid":"pauseSvgActionFeedback",width:60,height:60})))))}),[t,n,i]),seekBackward:Object(C.useCallback)((function(){var e,r=t.current;if(r){var a=r.options({}),o=p()(p()({},a),ji).seekStep,c=null!==(e=r.currentTime())&&void 0!==e?e:yi,s=c,u=c-o;c<=o&&(u=0),r.currentTime(u),n("video_seek_backward_hotkey",{previousVideoPosition:s,videoPosition:u}),i(sc||(sc=C.createElement(svg_Replay10Svg,{width:60,height:60})))}}),[t,n,i]),seekForward:Object(C.useCallback)((function(){var e,r=t.current;if(r){var a=r.options({}),o=p()(p()({},a),ji).seekStep,c=null!==(e=r.currentTime())&&void 0!==e?e:yi,s=c,u=c+o;r.currentTime(u),n("video_seek_forward_hotkey",{previousVideoPosition:s,videoPosition:u}),i(uc||(uc=C.createElement(svg_Forward10Svg,{width:60,height:60})))}}),[t,n,i]),volumeUp:Object(C.useCallback)((function(){var e=t.current;if(e){var r=e.options({}),a=p()(p()({},r),ji).volumeStep,o=e.volume(),c=null!=o?o:yi,s=o+a;e.volume(s),n("video_volume_increase_hotkey",{previousVolume:c,volume:s}),i(lc||(lc=C.createElement(svg_VolumeUpSvg,{width:60,height:60})))}}),[t,n,i]),volumeDown:Object(C.useCallback)((function(){var e,r=t.current;if(r){var a=r.options({}),o=p()(p()({},a),ji).volumeStep,c=null!==(e=r.volume())&&void 0!==e?e:yi,s=c,u=c-o;r.volume(u),n("video_volume_decrease_hotkey",{previousVolume:s,volume:u});var l=u>0?svg_VolumeDownSvg:svg_VolumeOffSvg;i(C.createElement(l,{width:60,height:60}))}}),[t,n,i]),toggleMute:Object(C.useCallback)((function(){var e=t.current;e&&(e.muted(!e.muted()),null==n||n("video_mute_hotkey",{}),null==i||i(e.muted()?dc||(dc=C.createElement(svg_VolumeOffSvg,{width:60,height:60})):pc||(pc=C.createElement(svg_VolumeUpSvg,{width:60,height:60}))))}),[t,n,i]),toggleFullscreen:Object(C.useCallback)((function(){var e=t.current;e&&(Mi.isFullScreen()?(Mi.requestFullScreenExit(e),null==n||n("video_full_screen_hotkey",{fullscreen:!1})):(Mi.requestFullScreen(e),null==n||n("video_full_screen_hotkey",{fullscreen:!0})))}),[t,n]),increasePlaybackRate:Object(C.useCallback)((function(){var e=t.current;if(e){var r=e.options({}),a=p()(p()({},r),ji),o=a.playbackUpperLimit,c=a.playbackStep,s=a.playbackLowerLimit,u=e.playbackRate()||1,l=u<o?u+c:s;e.playbackRate(l),null==n||n("video_playback_rate_increase_hotkey",{previousPlaybackRate:u,playbackRate:l}),null==i||i(C.createElement(components_PlaybackRateIndicator,{variant:"titleSmall",playbackRate:l}))}}),[t,n,i]),decreasePlaybackRate:Object(C.useCallback)((function(){var e=t.current;if(e){var r=e.options({}),a=p()(p()({},r),ji),o=a.playbackLowerLimit,c=a.playbackStep,s=a.playbackUpperLimit,u=e.playbackRate()||1,l=u>o?u-c:s;e.playbackRate(l),null==n||n("video_playback_rate_decrease_hotkey",{previousPlaybackRate:u,playbackRate:l}),null==i||i(C.createElement(components_PlaybackRateIndicator,{variant:"titleSmall",playbackRate:l}))}}),[t,n,i]),togglePictureInPicture:Object(C.useCallback)((function(){var e=t.current;if(pictureInPictureUtils_isPictureInPictureSupported()&&e){var i=!e.isInPictureInPicture();pictureInPictureUtils_togglePictureInPicture(e),null==n||n("video_picture_in_picture_hotkey",{pictureInPicture:i})}}),[t,n])}};var mc,fc,hc,yc,useDisableSeekingForward_useDisableSeekingForward=function(e){var t=e.playerRef,n=e.initialProgress,i=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext(),r=i.shouldDisableSkippingForward,a=i.learnerMaxVideoProgressInSeconds,o=i.setShowVideoSkippingDisabledNotification,c=i.setLearnerMaxVideoProgressInSeconds,s=i.onVideoPlayedToEnd,u=Object(C.useRef)(a);Object(C.useEffect)((function(){u.current=a}),[a]),Object(C.useEffect)((function(){r&&null!=n&&(c(n),u.current=n)}),[r,n,c]);var l=t.current;Object(C.useEffect)((function(){if(!r||!l||null==n)return function(){};var e=!1,onSeeking=function(){e=!0},preventForwardSeek=function(){var e,t=null!==(e=l.currentTime())&&void 0!==e?e:0,n=u.current;t>n&&(o(!0),l.currentTime(n))},onTimeUpdate=function(){var t;if(e||l.seeking())preventForwardSeek();else{var n=null!==(t=l.currentTime())&&void 0!==t?t:0;n>u.current&&(c(n),u.current=n)}},onSeeked=function(){preventForwardSeek(),e=!1};return l.on("seeked",onSeeked),l.on("seeking",onSeeking),l.on("timeupdate",onTimeUpdate),null==l||l.one("ended",s),function(){l.off("seeked",onSeeked),l.off("seeking",onSeeking),l.off("timeupdate",onTimeUpdate),l.off("ended",s)}}),[l,n,r,o,c,s]),function(e){var t=e.player,n=e.togglePlayOnTabVisibilityChange;Object(C.useEffect)((function(){var handleTabVisiblityForAutoPlayPause=function(){t.current&&(document.hidden?t.current.pause():t.current.play())},handleWindowBlur=function(){var e;null===(e=t.current)||void 0===e||e.pause()},handleWindowFocus=function(){var e;null===(e=t.current)||void 0===e||e.play()};return n&&(document.addEventListener("visibilitychange",handleTabVisiblityForAutoPlayPause),window.addEventListener("blur",handleWindowBlur),window.addEventListener("focus",handleWindowFocus)),function(){n&&(document.removeEventListener("visibilitychange",handleTabVisiblityForAutoPlayPause),window.removeEventListener("blur",handleWindowBlur),window.removeEventListener("focus",handleWindowFocus))}}),[t,n])}({player:t,togglePlayOnTabVisibilityChange:r})},Cc={videoPlayer:Object(y.c)(mc||(mc=m()(["\n    .vjs-react {\n      position: relative;\n      overflow: hidden;\n      border-radius: var(--cds-border-radius-200);\n      outline: ","px solid var(--cds-color-neutral-background-primary);\n\n      &:hover,\n      &:focus {\n        outline-color: var(--cds-color-blue-300);\n      }\n\n      /* Overrides the font family for subtitles for both native and videojs text tracks */\n      .vjs-text-track-display div,\n      video::-webkit-media-text-track-container {\n        font-family: var(--cds-font-family-source-sans-pro) !important;\n      }\n\n      &.vjs-fullscreen {\n        border-radius: 0;\n        border: none;\n      }\n    }\n  "])),2),videojs:Object(y.c)(fc||(fc=m()(["\n    .vjs-react {\n      &.vjs-fullscreen {\n        position: fixed;\n        overflow: hidden;\n        z-index: 1000;\n        left: 0;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        border-radius: 0;\n      }\n\n      &:-moz-full-screen {\n        position: absolute;\n      }\n\n      &:-webkit-full-screen {\n        width: 100% !important;\n        height: 100% !important;\n      }\n\n      &.vjs-fluid {\n        width: 100%;\n        max-width: 100%;\n      }\n\n      &.vjs-fluid:not(.vjs-audio-only-mode) {\n        height: 0;\n      }\n\n      &.vjs-fill:not(.vjs-audio-only-mode) {\n        width: 100%;\n        height: 100%;\n      }\n\n      .vjs-tech {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n\n      .vjs-hidden {\n        display: none !important;\n      }\n\n      .vjs-poster {\n        display: inline-block;\n        vertical-align: middle;\n        cursor: pointer;\n        margin: 0;\n        padding: 0;\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        height: 100%;\n\n        img {\n          width: 100%;\n          height: 100%;\n          object-fit: contain;\n        }\n      }\n\n      &.vjs-has-started {\n        .vjs-poster {\n          display: none;\n        }\n      }\n\n      .vjs-text-track-display {\n        position: absolute;\n        bottom: 3em;\n        left: 0;\n        right: 0;\n        top: 0;\n        pointer-events: none;\n      }\n\n      .vjs-text-track {\n        font-size: 1.4em;\n        text-align: center;\n        margin-bottom: 0.1em;\n      }\n\n      .vjs-subtitles,\n      .vjs-captions {\n        color: var(--cds-color-neutral-primary-invert);\n      }\n\n      .vjs-tt-cue {\n        display: block;\n      }\n\n      video::-webkit-media-text-track-display {\n        transform: translateY(-1.5em);\n      }\n    }\n  "]))),fill:Object(y.c)(hc||(hc=m()(["\n    height: 100%;\n    width: 100%;\n  "]))),videoSkippingNotification:Object(y.c)(yc||(yc=m()(["\n    button {\n      background: none;\n      border: none;\n      display: inline-block;\n    }\n  "])))},kc=t("fw5G"),Oc=t.n(kc),jc=t("++Ya"),wc=Object(ge.a)("/api/onDemandVideoProgresses.v1",{type:"rest"}),xc={getVideoProgressId:function(e,t){return Object(jc.c)([z.a.get().id,e,t])},get:function(e,t){var n=this.getVideoProgressId(e,t);if(!z.a.isAuthenticatedUser())return de.a.reject();var i=new Oc.a(n);return de()(wc.get(i.toString()))},update:function(e,t,n){var i=this.getVideoProgressId(e,t),r={viewedUpTo:n,videoProgressId:i},a=new Oc.a(i);return de()(wc.put(a.toString(),{data:r}))}},Sc=xc,Tc=t("BVC1"),Ic=Object(ge.a)("/api/opencourse.v1",{type:"rest"}),Ec={sendEvent:function(e,t){var n=e.itemMetadata,i=n.get("course.slug"),r=n.getId(),a=new Oc.a(Tc.a.join("user","".concat(z.a.get().id),"course",i,"item",r,"lecture/videoEvents",t));return a.addQueryParam("autoEnroll","false"),Ic.post(a.toString(),{data:{contentRequestBody:{}}})}},Pc=Ec.sendEvent,isValidValue=function(e){return null!=e},getSyncPlayerOnTimeUpdate=function(e){var t=e.player,n=e.trimmedDurationSeconds,i=e.trimmedStartTimeSeconds;return function(){var e=null==t?void 0:t.currentTime(),r=null==t?void 0:t.duration();if(t&&isValidValue(e)&&isValidValue(r)){var a=null!=i?i:0,o=n?Math.floor(a+n):r;e<a?t.currentTime(a):e>o&&(t.pause(),t.trigger("ended"))}}},syncPlayerDuration=function(e,t){e&&t&&e.duration(t)},Vc=t("MA7l"),Lc=t("F/us"),_c=t.n(Lc),Nc=function Cuepoint(e,t,n){var i=_c()(t);this.name=i.has("name")?t.name:"",this.startTime=t.at||0,this.endTime=i.has("to")?t.to:0,this.type=i.has("to")?Cuepoint.RANGE:Cuepoint.POINT,this.callback=n||function(){},this.player=e,this.visible=i.has("visible")&&t.visible};Nc.POINT=0,Nc.RANGE=1,_c.a.extend(Nc.prototype,{type:Nc.POINT,visible:!1,marker:null,startTime:0,endTime:0,name:"",didFire:!1,move:function(e){this.startTime=parseFloat(e/100*this.player.duration()).toFixed(1),this.marker&&this.marker.move(e)},filter:function(e,t){if(this.type===Nc.POINT)return e<this.startTime&&this.startTime<=t;var n=e>=this.startTime&&e<this.endTime,i=e<this.startTime,r=t>this.startTime&&t<this.endTime;return n||i&&r},setFired:function(e){this.didFire=e},fire:function(){this.name&&this.player.emitter.trigger("cuepoint."+this.name),this.callback&&this.callback(),this.setFired(!0)}});var Rc=[],Mc=!1;pe.a.registerPlugin("addCuepoint",(function(e,t){this.eventEmitter(),Rc.push(new Nc(this,e,t)),this.on("seeking",(function(){Mc=!0})),this.on("seeked",(function(){Mc=!1;var e=this.currentTime();_c()(Rc).chain().filter((function(t){return t.startTime>e})).forEach((function(e){e.setFired(!1)}))}));var n=0;this.on("timeupdate",(function(){var e=this.currentTime();Mc||_c()(Rc).chain().filter((function(t){return t.filter(n,e)&&!t.didFire})).invoke("fire"),n=e})),this.on("dispose",(function(){Rc=[]}))})),pe.a.registerPlugin("eventEmitter",(function(){this.emitter||(this.emitter=bn.a.emitter())}));t("t9gw");var Dc=t("oYk5"),Ac=t.n(Dc),Fc=t("SlFy");pe.a.registerPlugin("hotkeys",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n={volumeStep:.1,seekStep:5,enableMute:!0,enableFullscreen:!0,playbackStep:.25,playbackLowerLimit:.75,playbackUpperLimit:2},i=null;t.el().hasAttribute("tabIndex")||t.el().setAttribute("tabIndex","-1"),t.on("play",(function(){var e=t.el().querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")}));var keyDown=function(i){var r=e.volumeStep||n.volumeStep,a=e.seekStep||n.seekStep,o=e.enableMute||n.enableMute,c=e.enableFullscreen||n.enableFullscreen,s=e.playbackStep||n.playbackStep,u=e.playbackLowerLimit||n.playbackLowerLimit,l=e.playbackUpperLimit||n.playbackUpperLimit;if(t.controls()){var d=document.activeElement;if(d===t.el()||d===t.el().querySelector(".iframeblocker"))if(32===i.which)i.preventDefault(),t.paused()?t.play():t.pause();else if(37===i.which){i.preventDefault();var p=t.currentTime()-a;t.currentTime()<=a&&(p=0),t.currentTime(p)}else 39===i.which?(i.preventDefault(),t.currentTime(t.currentTime()+a)):40===i.which?(i.preventDefault(),t.volume(t.volume()-r)):38===i.which?(i.preventDefault(),t.volume(t.volume()+r)):77===i.which?o&&(t.muted()?t.muted(!1):t.muted(!0)):70===i.which?c&&(t.isFullscreen()?t.exitFullscreen():t.requestFullscreen()):i.shiftKey&&(190===i.which&&t.playbackRate()<l?t.playbackRate(t.playbackRate()+s):188===i.which&&t.playbackRate()>u&&t.playbackRate(t.playbackRate()-s))}};return t.on("keydown",keyDown),t.on("userinactive",(function(){if(t.controls()){var e=document.activeElement,n=Ac()(t.controlBar.el_),restoreFocus=function(){t.el_.focus()};n.find(e).size()>0?(i=document.activeElement,n.css("transition")?n.one("transitionend",restoreFocus):restoreFocus()):i=null}})),t.on("useractive",(function(){if(t.controls()&&i){var e=Ac()(t.controlBar.el_),returnFocus=function(){i&&(i.focus(),i=null)};e.css("transition")?e.one("transitionend",returnFocus):returnFocus()}})),Ac()(document).on("keydown.videoJSPlayer",(function(e){if(9===e.which&&!t.userActive()){if(i){var n=null;(n=e.shiftKey?Fc.a.getPrevious(i):Fc.a.getNext(i))&&(i=n)}t.userActive(!0)}})),t.on("dispose",(function(e){Ac()(document).off("keydown.videoJSPlayer")})),this})),pe.a.registerPlugin("joinEvents",(function(){this.eventEmitter();var e=null,t=null,n=!1,triggerJoining=function(){n||(e=new Date,this.trigger("joining"))};this.on("play",triggerJoining),this.one("durationchange",(function(){t=new Date,n=!0,this.emitter.set("joined",{joinDuration:t-e}),this.off("play",triggerJoining)}))}));t("JAA1");var attachWaitTimer=function(e){var t=null,n=0,i="STOPPED",r=0,a=0,o=0,c=null,triggerEvent=function(){(r>0||a>0||o>0)&&(e.trigger({type:"waitmetrics",playDuration:r,waitDuration:a,waitCount:o}),r=0,a=0,o=0)},stopTimer=function(){c&&(clearInterval(c),c=null)},timerTick=function(){if(e.contentEl()){var c,s=new Date,u=e.currentTime();c=e.paused()?"STOPPED":u>n?"PLAYING":"WAITING";var l=s-t;"WAITING"!==i&&"WAITING"===c&&l<250||("WAITING"!==i&&"WAITING"===c&&(o+=1),"PLAYING"===c?r+=l:"WAITING"===c?a+=l:"STOPPED"===c&&(stopTimer(),triggerEvent()),r+a>=15e3&&triggerEvent(),t=s,n=u,i=c)}else stopTimer()},startTimer=function(){c||(t=new Date,c=setInterval(timerTick,100))};e.on("play",startTimer),e.on("timeupdate",startTimer)};pe.a.registerPlugin("waitEvents",(function(){attachWaitTimer(this)}));var Bc=t("4x9Y"),Hc="VideoPlayer(corelex)";function VideoPlayer(e,t){var n,i=e.viewOptions,r=i.videoContent,a=i.startPlaybackSeconds,o=i.autoplay,c=i.courseProgress,s=i.videoQuizModel,u=i.setVideoPlayer,l=i.setInteractiveTranscript,d=i.setDubbedInteractiveTranscript,g=e.setVideoRegion,b=e.ariaLabel,m=e.visibility,f=e.layoutMode,h=e.autoNextCountdownSeconds,k=e.isAutoNextPaused,O=e.deferAutoplayListener,j=t._eventData.namespace.app,w=r.videoId,x=r.name,S=Object(B.a)(),T=Object(C.useRef)(null),I=Object(C.useRef)(null),E=Object(C.useRef)(null),P=Object(C.useRef)(null),V=Object(C.useRef)(null),L=null!==(n=r.trimmedStartTimeSeconds)&&void 0!==n?n:0,N=r.trimmedDurationSeconds,R=Object(C.useState)(null),M=v()(R,2),D=M[0],A=M[1],F=Object(C.useState)(!1),H=v()(F,2),U=H[0],Q=H[1],q=Object(C.useState)(void 0),W=v()(q,2),Z=W[0],G=W[1],J=Object(C.useState)(!0),Y=v()(J,2),X=Y[0],ee=Y[1],te=Object(C.useState)(null),ne=v()(te,2),ie=ne[0],re=ne[1],oe=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext(),ce=oe.checkLearnerVideoProgress,se=oe.showVideoSkippingDisabledNotification,ue=oe.setShowVideoSkippingDisabledNotification,le=(s||{}).questions,ge=void 0===le?[]:le,ve=Object(ae.b)(),be=ve.itemId,me=ve.lessonId,fe=ve.lessonName,he=ve.moduleId,ye=ve.moduleName,Ce=ve.courseId,ke=ve.courseSlug,Oe=ve.courseName,je=ve.primaryLanguageCodes,we=ve.nextItem,xe=Object(C.useRef)(!1),Se=r.dubbedSources,Te=r.getSources(),Ie=r.sources,Ee=null==Te?void 0:Te["video/webm"],Pe=isHlsEnabled(),Ve=Pe?r.getHlsSource():void 0,Le=Pe&&!!Ve,_e=getInitialResolution({sourcesByResolution:Ie,enableHlsExperiment:Pe,isAutoAllowed:!0}),Ne=o?void 0:r.getPosterForResolution("720p"),Re=r.subtitlesVtt,Me=r.dubbedSubtitlesVtt;for(var De in Re)Re[De]&&Re[De].url&&(Re[De].url=Re[De].url.replace(/^https?:\/\/[^\/]+\//,"/"));var Ae=useVideoPlayerEventing(),Fe=Ae.trackVideoPlayerClickEvent,Be=Ae.trackVideoPlayerViewEvent,He=Ae.trackInitialVideoPlayerEvent,ze=Ae.trackVideoPlayerInteractionEvent,Ue=Ae.setReadyTime;useDisableSeekingForward_useDisableSeekingForward({playerRef:E,initialProgress:ie});var Qe=Object(C.useCallback)((function(e){V.current||(G({icon:e}),Q(!0),P.current&&clearTimeout(P.current),P.current=setTimeout((function(){Q(!1)}),1e3))}),[]),qe=Object(C.useCallback)((function(){ue(!1)}),[ue]),We=useVideoPlayerActions_useVideoPlayerActions({playerRef:E,trackVideoPlayerClickEvent:Fe,showVideoPlayerControlsFeedback:Qe}),Ke=We.togglePlayback,Ze=We.seekBackward,Ge=We.seekForward,Je=We.volumeUp,Ye=We.volumeDown,Xe=We.toggleFullscreen,$e=Object(C.useCallback)((function(e){var t;if(document.activeElement===(null===(t=E.current)||void 0===t?void 0:t.el()))switch(e.key){case" ":case"Enter":e.preventDefault(),Ke();break;case"ArrowLeft":e.preventDefault(),Ze();break;case"ArrowRight":e.preventDefault(),Ge();break;case"ArrowUp":e.preventDefault(),Je();break;case"ArrowDown":e.preventDefault(),Ye()}}),[Ke,Ze,Ge,Je,Ye]),et=Object(C.useCallback)((function(){var e,t,n=It()(null===(e=E.current)||void 0===e?void 0:e.textTracks(),(function(e){return e.language===xi.a.get("subtitleLanguage")}));n&&(n.mode="showing"),null===(t=E.current)||void 0===t||t.trigger("trackloaded")}),[]),tt=Object(C.useCallback)((function(){syncPlayerDuration(E.current,N)}),[N]),nt=Object(C.useCallback)((function(){var e,t,n=normalizePlaybackRate(xi.a.get("playbackRate")),i=xi.a.get("volume");null===(e=E.current)||void 0===e||e.playbackRate(n),null===(t=E.current)||void 0===t||t.volume(i)}),[]),it=Object(C.useCallback)((function(e){var t,n;return(null!=L?L:0)+(null!==(t=null!=N?N:null===(n=E.current)||void 0===n?void 0:n.duration())&&void 0!==t?t:0)*e}),[L,N]),rt=Object(C.useCallback)((function(){var e,t,n,i,r=null!==(e=null===(t=E.current)||void 0===t?void 0:t.duration())&&void 0!==e?e:0,a=null!==(n=null===(i=E.current)||void 0===i?void 0:i.currentTime())&&void 0!==n?n:0,o=r*mi,c=parseInt((1e3*a).toString(),10);a>o&&(c=0),Sc.update(Ce,w,c)}),[Ce,w]),at=Object(C.useCallback)((function(){[.25,.5,.75].forEach((function(e){var t,n=it(e);null===(t=E.current)||void 0===t||t.addCuepoint({at:n,visible:!0},(function(){rt()}))}))}),[it,rt]),ot=Object(C.useCallback)((function(){var e,t,n=it(mi),i=it(100);null===(e=E.current)||void 0===e||e.addCuepoint({at:n,to:i},(t=!1,function(){if(!t){t=!0;var e=c.getItemProgress(be);de()(Pc(r,"ended")).then((function(t){if(e&&null!=t&&t.itemProgress){var n=p()(p()({},t.itemProgress),{},{progressState:K.g});e.set(n),S(In.b,{courseProgress:c}),S(Tn.a,{courseSlug:ke,refetch:!0}),En.d(c.get("id"),c)}})).done(),E.current&&AnalyticsMetadataFetcher_createVideoEventTracker(j,E.current)("end")}}))}),[it,c,be,r,j,S,ke]),ct=Object(C.useCallback)((function(){nt(),et(),ot(),at(),tt()}),[nt,et,ot,at,tt]),st=Object(C.useCallback)((function(){var e,t=getInitialResolution({sourcesByResolution:Ie,enableHlsExperiment:Pe,isAutoAllowed:!1}),n="fluid"===f?{fluid:!0}:{fill:!0},i=Object(yn.a)(),a={nextItemMetadataOrItemGroup:we,title:x,subtitle:Oe,courseId:Ce,itemId:be,moduleName:ye,moduleId:he,lessonId:me,lessonName:fe,defaultSubtitleLanguage:xi.a.get("subtitleLanguage"),controls:!1,html5:{nativeTextTracks:!Le&&i,nativeAudioTracks:!1,nativeVideoTracks:!1,vhs:{overrideNative:!0,limitRenditionByPlayerDimensions:!0,useDevicePixelRatio:!0,customPixelRatio:2}},poster:r.getPosterForResolution("720p"),plugins:{hotkeys:{},resolutions:{sourcesByResolution:videoUtils_formatSourcesByResolution(r.sources),resolution:t},joinEvents:{},waitEvents:"IE"!==hn.a.browser.name?{}:void 0},children:["mediaLoader","posterImage","textTrackDisplay"]};if("mediaSession"in navigator){var o=r.getPosterForResolution("720p");navigator.mediaSession.metadata=new MediaMetadata({title:x,artist:Oe,artwork:o?[{src:o}]:[]})}var c=p()(p()({},a),n),s=Object(pe.a)(I.current,c);return s.emitter||(s.emitter=bn.a.emitter()),null===(e=s.setupHeartbeatListener)||void 0===e||e.call(s),s.currentTrack=function(){return s.textTracks().tracks_.find((function(e){return"showing"===e.mode}))},s}),[Ce,Oe,Le,Pe,be,f,me,fe,he,ye,we,Ie,r,x]),ut=Object(C.useRef)((function(){getSyncPlayerOnTimeUpdate({player:E.current,trimmedDurationSeconds:N,trimmedStartTimeSeconds:L})})),lt=Object(C.useCallback)((function(){var e;N&&N!==(null===(e=E.current)||void 0===e?void 0:e.duration())&&tt(),ut.current()}),[tt,N]),dt=Object(C.useCallback)((function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=Math.max(0,e-(n?fi:0));null===(t=E.current)||void 0===t||t.currentTime(i),re(i)}),[]),pt=Object(C.useCallback)((function(){var e;null===(e=E.current)||void 0===e||e.off("durationchange",pt),void 0!==a?dt(a):Sc.get(Ce,w).then((function(e){return e.elements[0]})).fail((function(){return Object(z.c)()?{courseId:Ce,videoId:w,userId:Object(z.b)().id,viewedUpTo:L}:{}})).done((function(e){var t=e.viewedUpTo,n=void 0===t?0:t,i=Object(Vc.c)(n/1e3);if(L>i&&(i=L),N){var r=N+L;i>r&&(i=r)}A(p()(p()({},e),{},{viewedUpTo:1e3*i})),dt(i,!L),He(i)}))}),[a,dt,Ce,w,L,N,He]),gt=Object(C.useCallback)((function(e){var t,n,i,a=null!==(t=null===(n=Ie[_e])||void 0===n?void 0:n["video/mp4"])&&void 0!==t?t:"",o=null!==(i=null==je?void 0:je[0])&&void 0!==i?i:"",s=performance.now();e.ready((function(){var t=performance.now()-s;Ue(t),l({player:e,languageMap:Re,defaultLanguage:o}),null==d||d({player:e,languageMap:p()(p()({},Re),Me),defaultLanguage:o}),Pe&&Ve&&"auto"===_e?e.src({src:Ve,type:"application/x-mpegURL"}):e.src({src:a,type:"video/mp4"})})),e.on("error",(function(){Object(Bc.a)(e,Hc)})),e.on("contextmenu",(function(e){e.preventDefault()})),e.on("loadedmetadata",ct),e.on("durationchange",pt),e.on("play",(function(){var e;xe.current||(xe.current=!0,"NotStarted"===c.getItemProgress(be).get("progressState")&&de()(Pc(r,"play")));E.current&&applySubtitlePosition({textTracks:Array.from(null===(e=E.current)||void 0===e?void 0:e.textTracks())})})),e.on("timeupdate",lt),e.on("keydown",$e),e.on("canplay",(function(){ut.current=getSyncPlayerOnTimeUpdate({player:E.current,trimmedDurationSeconds:r.trimmedDurationSeconds,trimmedStartTimeSeconds:L})}))}),[Ie,_e,ct,pt,lt,$e,l,Re,je,d,Me,Pe,Ve,c,be,r,L,Ue]),vt=Object(C.useCallback)((function(e){e&&(e.dispose(),E.current=null)}),[]);return function(e){var t=useVideoPlayerActions_useVideoPlayerActions(e),n=t.togglePlayback,i=t.seekBackward,r=t.seekForward,a=t.toggleMute,o=t.toggleFullscreen,c=t.increasePlaybackRate,s=t.decreasePlaybackRate,u=t.togglePictureInPicture,l=Object(C.useMemo)((function(){return{k:function(e){e.preventDefault(),n()},m:function(e){e.preventDefault(),a()},f:function(e){e.preventDefault(),o()},j:function(e){e.preventDefault(),i()},l:function(e){e.preventDefault(),r()},">":function(e){e.shiftKey&&(e.preventDefault(),c())},"<":function(e){e.shiftKey&&(e.preventDefault(),s())},i:function(e){e.preventDefault(),u()}}}),[s,c,i,r,o,a,n,u]);Object(C.useEffect)((function(){var handleDocumentKeyDown=function(e){if(!(e.ctrlKey||e.altKey||e.metaKey)){var t=e.target,n=t.tagName;if(!("INPUT"===n||"SELECT"===n||"TEXTAREA"===n||t.isContentEditable)){var i=l[e.key];i&&i(e)}}};return document.addEventListener("keydown",handleDocumentKeyDown),function(){document.removeEventListener("keydown",handleDocumentKeyDown)}}),[l])}({playerRef:E,trackVideoPlayerClickEvent:Fe,showVideoPlayerControlsFeedback:Qe}),Object(C.useEffect)((function(){var e,t=c.getItemProgress(be).get("progressState");ce(t,r.disableSkippingForward),E.current||(e=st(),gt(e),E.current=e,u(e)),null==g||g(I.current),T.current&&(T.current.tabIndex=-1);var n=P.current;return function(){if(rt(),e){var cleanup=function(){return vt(e)};Mi.isFullScreen()?Mi.requestFullScreenExit(e).then(cleanup,cleanup):e.isInPictureInPicture()?e.exitPictureInPicture().then(cleanup,cleanup):cleanup()}n&&clearTimeout(n),l(null),null==d||d(null)}}),[]),Object(C.useEffect)((function(){var e;!O&&o&&(null===(e=E.current)||void 0===e||e.play())}),[O,o]),Object(C.useEffect)((function(){var e,t,n,i;"fill"===f?(null===(e=E.current)||void 0===e||e.removeClass("vjs-fluid"),null===(t=E.current)||void 0===t||t.addClass("vjs-fill")):(null===(n=E.current)||void 0===n||n.removeClass("vjs-fill"),null===(i=E.current)||void 0===i||i.addClass("vjs-fluid"))}),[f]),Object(y.d)("div",{css:[Cc.videoPlayer,Cc.videojs,"fill"===f&&Cc.fill]},Object(y.d)("div",{"data-vjs-player":!0,ref:T,"data-testid":"playerContainer",className:wi},Object(y.d)(VideoBoundaryProvider_VideoBoundaryProvider,{videoBoundaryRef:T},s&&ke&&be&&E.current&&Object(y.d)(components_LearnerInVideoQuiz,{itemId:be,courseSlug:ke,videoQuizModel:s,player:E.current}),Object(y.d)("video",{crossOrigin:"anonymous",preload:"auto",ref:I,poster:Ne,autoPlay:o,tabIndex:0,"aria-label":b},Le&&Object(y.d)("source",{"data-testid":"hlsSource",key:Ve,type:"application/x-mpegURL",src:Ve}),Object.keys(Te).filter((function(e){return"video/webm"!==e})).map((function(e){var t=Te[e];return Object(y.d)("source",{key:t,type:e,src:t})})),Ee&&Object(y.d)("source",{key:Te[Ee],type:"video/webm",src:Ee}),Object.entries(Me).map((function(e){var t=v()(e,2),n=t[0],i=t[1];return Object(y.d)("track",{key:n,id:n+"-dub",kind:"captions",label:Ti()("#{label}",{label:i.label}),src:i.url,srcLang:n})})),Object.entries(Re).map((function(e){var t=v()(e,2),n=t[0],i=t[1];return Object(y.d)("track",{key:n,kind:"captions",label:Ti()("#{label}",{label:i.label}),src:i.url,srcLang:n})}))),Object(y.d)("div",{role:"alert",css:Cc.videoSkippingNotification},se&&Object(y.d)(learning_effort_VideoSkippingDisabledNotification,{onDismiss:qe,courseId:Ce})),E.current&&Object(y.d)(bc,{videoName:x,courseId:null!=Ce?Ce:"",enableHls:Le,hlsSource:Ve,defaultSubtitleLanguage:xi.a.get("subtitleLanguage"),nextItem:we,originalSources:Ie,dubbedSources:Se,dubbedSubtitlesVtt:Me,player:E.current,videoQuizQuestions:ge,visibility:m,autoNextCountdownSeconds:h,isAutoNextPaused:k,trackVideoPlayerClickEvent:Fe,trackVideoPlayerInteractionEvent:ze,trackVideoPlayerViewEvent:Be,trimmedStartTimeSeconds:L,trimmedDurationSeconds:N,videoBoundaryElement:T.current||void 0,showFeedback:U,videoFeedbackState:Z,displayInitialCenterPlayButton:ee,showInitialCenterPlayButton:X,centralPlayButtonRef:V,videoPlayerDivRef:T||void 0,videoProgress:D,onToggleFullscreen:Xe}),E.current&&Object(y.d)(Dn,{player:E.current,videoProgress:D}))))}VideoPlayer.contextTypes={_eventData:fn.a.object.isRequired};var zc,Uc,Qc,qc,Wc,Kc,Zc,Gc,Jc,Yc,Xc,$c,es,ts,ns,is,VideoPlayer_VideoPlayerWithDayOneOnboardingAndEventingContext=function(e){var t=e.viewOptions.videoContent,n=t.dubbedSources,i=t.sources,r=t.name,a=t.trimmedStartTimeSeconds,c=void 0===a?0:a,s=t.trimmedDurationSeconds,u=Object(Sn.b)().isOpen,l=isHlsEnabled(),d=getInitialResolution({sourcesByResolution:i,enableHlsExperiment:l,isAutoAllowed:!0}),g=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext().learnerMaxVideoProgressInSeconds;return Object(y.d)(VideoPlayerEventingProvider,{dubbedSources:n,initialResolution:d,videoName:r,learnerMaxVideoProgressInSeconds:g,trimmedStartTimeSeconds:c,trimmedDurationSeconds:s,videoLibraryVersion:pe.a.VERSION},Object(y.d)(VideoPlayer,o()({},e,{viewOptions:p()(p()({},e.viewOptions),{},{autoplay:e.viewOptions.autoplay&&!u}),deferAutoplayListener:u})))},rs=Object(i.b)(r.b.createTrackedContainer((function(){return{namespace:{app:"open_course.video",page:"item_layout"}}})))((function(e){return Object(y.d)(xn.a,{componentName:Hc,errorComponent:Object(y.d)(Cn.a,{severity:"error",title:Ti()("There has been an error"),role:"alert"},Ti()("An error was encountered while playing this video, and our development team has been alerted. Please try again later."))},Object(y.d)(VideoPlayer_VideoPlayerWithDayOneOnboardingAndEventingContext,e))})),cds_VideoOrigamiRegion=function(e){var t=e.courseProgress,n=e.videoContent,i=e.videoQuizModel,r=e.startPlaybackSeconds,a=e.autoplay,o=e.setVideoPlayer,c=e.setInteractiveTranscript,s=e.setVideoRegion,u=e.ariaLabel,l=e.layoutMode,d=e.visibility,p=e.autoNextCountdownSeconds,g=e.isAutoNextPaused,v=e.setDubbedInteractiveTranscript,b={courseProgress:t,videoContent:n,videoQuizModel:i,nextItemMetadataOrItemGroup:Object(ae.b)().nextItem,startPlaybackSeconds:r,autoplay:a,setVideoPlayer:o,setInteractiveTranscript:c,setDubbedInteractiveTranscript:v};return C.createElement(rs,{viewOptions:b,setVideoRegion:s,ariaLabel:u,visibility:d,layoutMode:l,autoNextCountdownSeconds:p,isAutoNextPaused:g})},as=t("sVmg"),os={card:Object(y.c)(zc||(zc=m()(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n\n    "," {\n      flex-direction: row;\n      gap: 10px;\n    }\n  "])),U.a.down("xs")),titleAndSubtitleContainer:Object(y.c)(Uc||(Uc=m()(["\n    display: flex;\n    flex-direction: column-reverse;\n    text-align: left;\n\n    "," {\n      margin-top: 0;\n      align-items: flex-start;\n      flex-direction: column;\n    }\n  "])),U.a.down("xs")),imageContainer:Object(y.c)(Qc||(Qc=m()(["\n    position: relative;\n    margin-bottom: var(--cds-spacing-100);\n    "," {\n      margin-bottom: 0;\n    }\n  "])),U.a.down("xs")),thumbnailOverrides:Object(y.c)(qc||(qc=m()(["\n    border-radius: 8px;\n\n    "," {\n      width: 109px;\n    }\n  "])),U.a.down("xs")),titleText:Object(y.c)(Wc||(Wc=m()(["\n    font-weight: normal;\n    text-align: left;\n    max-height: calc(3 * var(--cds-line-height-250));\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    text-overflow: ellipsis;\n  "]))),subtitleText:Object(y.c)(Kc||(Kc=m()(["\n    color: var(--cds-color-neutral-primary-weak);\n  "]))),hoverOrActiveOverlay:Object(y.c)(Zc||(Zc=m()(["\n    width: 100%;\n    height: 100%;\n    background-color: var(--cds-color-utility-overlay);\n    position: absolute;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    top: 0;\n    border-radius: 8px;\n  "]))),active:Object(y.c)(Gc||(Gc=m()(["\n    font-weight: 600;\n  "])))},cds_VideoChapterCard=function(e){var t=e.active,n=e.title,i=e.subtitle,r=e.cssOverrides,a=e.imgOverlay,o=e.chapterStartTimestamp;return Object(y.d)("div",{key:n,css:[(null==r?void 0:r.card)||os.card]},Object(y.d)("div",{css:(null==r?void 0:r.imageContainer)||os.imageContainer,"data-testid":"image-container"},Object(y.d)(components_VideoTimestampThumbnail,{time:o,cssOverrides:os,spriteSheetHeight:922,spriteSheetWidth:1640}),a),Object(y.d)("div",{css:(null==r?void 0:r.titleAndSubtitleContainer)||os.titleAndSubtitleContainer},Object(y.d)(mt.a,{component:"p",variant:"actionSecondary",css:[(null==r?void 0:r.titleText)||os.titleText,t&&os.active]},n),i&&Object(y.d)(mt.a,{component:"p",variant:"bodySecondary",css:(null==r?void 0:r.subtitleText)||os.subtitleText},i)))},cs={chapterBtnWithThumbnail:Object(y.c)(Jc||(Jc=m()(["\n    padding: var(--cds-spacing-100);\n    background: none;\n    border: none;\n    border-radius: 8px;\n    width: 180px;\n    height: 100%;\n\n    ",' {\n      width: 100%;\n    }\n\n    .overlay-container {\n      .now-playing-icon {\n        display: none;\n      }\n    }\n\n    /* Add an overlay to the image only when hovering on viewports larger than mobile because mobile does not support hover states\n    and including this for mobile causes a bug where the active "Now playing" text does not show up */\n    '," {\n      &:hover {\n        .overlay-container {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n\n          .now-playing-text {\n            display: none;\n          }\n\n          .now-playing-icon {\n            display: block;\n          }\n        }\n      }\n    }\n  "])),U.a.down("xs"),U.a.up("sm")),chapterBtnWithoutThumbnail:Object(y.c)(Yc||(Yc=m()(["\n    padding: var(--cds-spacing-100);\n    background: none;\n    border: none;\n    border-radius: 8px;\n    width: 246px;\n    height: 100%;\n\n    &:hover {\n      background-color: var(--cds-color-emphasis-primary-background-xweak);\n    }\n\n    "," {\n      width: 100%;\n      min-height: 76px;\n    }\n  "])),U.a.down("xs")),overlay:Object(y.c)(Xc||(Xc=m()(["\n    display: none;\n    width: 100%;\n    height: 100%;\n    background-color: var(--cds-color-utility-overlay);\n    position: absolute;\n    top: 0;\n    border-radius: 8px;\n  "]))),overlayActive:Object(y.c)($c||($c=m()(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  "])))},VideoChapterCardButton_ImgOverlay=function(e){var t=e.active;return Object(y.d)("div",{className:"overlay-container",css:[cs.overlay,t&&cs.overlayActive]},es||(es=Object(y.d)(as.a,{className:"now-playing-icon","data-testid":"play-icon",size:"large",color:"invert"})),Object(y.d)(mt.a,{className:"now-playing-text",color:"invertBody",variant:"actionSecondary",component:"span"},Je()("Now playing")))},cds_VideoChapterCardButton=function(e){var t=e.active,n=e.chapterName,i=e.humanReadableTimestamp,r=e.onClick,a=e.ariaLabel,o=e.chapterStartTimestamp;return Object(y.d)("button",{css:[cs.chapterBtnWithThumbnail],key:n,onClick:r,type:"button","aria-label":a,"aria-current":t},Object(y.d)(cds_VideoChapterCard,{imgOverlay:Object(y.d)(VideoChapterCardButton_ImgOverlay,{active:t}),active:t,title:n,chapterStartTimestamp:o,subtitle:i}))},ss=t("x3GX");function useFormatVideoPosition(){var e=Object(ss.b)();return function(t){if(isNaN(t))return{formatted:"",timeInWords:""};var n=Math.floor(t);if(n<0)return{formatted:"",timeInWords:""};var i=Math.floor(n/3600),r=Math.floor(n%3600/60),a=n%60,o=function(t){var n=t.hours,i=t.minutes,r=t.seconds,a="",o=!0;return n>0&&(a=e.formatMessage(Ti()("{numHours} {numHours, plural, =1 {hour} other {hours}} "),{numHours:n}),o=!1),i>0&&(a+=e.formatMessage(Ti()("{numMinutes} {numMinutes, plural, =1 {minute} other {minutes}} "),{numMinutes:i}),o=!1),r>0?a+=e.formatMessage(Ti()("{numSeconds} {numSeconds, plural, =1 {second} other {seconds}}"),{numSeconds:r}):o&&0===r&&(a=e.formatMessage(Ti()("0 seconds"))),a.trim()}({hours:i,minutes:r,seconds:a}),c=r.toString().padStart(2,"0"),s=a.toString().padStart(2,"0");return i>0?{formatted:"".concat(i,":").concat(c,":").concat(s),timeInWords:o}:{formatted:"".concat(r,":").concat(a.toString().padStart(2,"0")),timeInWords:o}}}var us,ls,ds,ps,gs,vs,bs={container:Object(y.c)(ts||(ts=m()(["\n    display: flex;\n    flex-wrap: wrap;\n    gap: var(--cds-spacing-200);\n\n    "," {\n      flex-direction: column;\n      gap: var(--cds-spacing-100);\n      flex-basis: 100%;\n    }\n  "])),U.a.down("xs")),gridWrapper:Object(y.c)(ns||(ns=m()(["\n    width: 100%;\n  "]))),btnContainer:Object(y.c)(is||(is=m()(["\n    display: flex;\n    align-items: stretch;\n  "])))},tabContent_ChaptersTabContent=function(e){var t=e.player,n=e.chapters,i=e.trackingData,r=i.courseId,a=i.itemId,o=i.itemName,c=i.orderInBranch,s=i.courseBranchId,u=Object(We.e)(),l=Object(We.f)("view_page_section",{pageSection:{sectionName:"lecture_chapters_tab_content"},courseItem:{name:o,id:a,orderInBranch:c,type:"lecture"},courseBranch:{id:s},product:{id:r}}),d=Object(C.useCallback)((function(e){return"number"==typeof e?n.findIndex((function(t){var n=t.startTimestampInSeconds,i=t.endTimestampInSeconds;return e>=n&&e<(i<0?1/0:i)})):-1}),[n]),p=Object(C.useState)(d(null==t?void 0:t.currentTime())),g=v()(p,2),b=g[0],m=g[1],f=useFormatVideoPosition();return Object(C.useEffect)((function(){var handleTimeUpdate=function(){var e=null==t?void 0:t.currentTime();if("number"==typeof e){var n=d(e);m(n)}};return null==t||t.on("timeupdate",handleTimeUpdate),function(){null==t||t.off("timeupdate",handleTimeUpdate)}}),[n,d,t]),Object(y.d)("div",{css:bs.gridWrapper},Object(y.d)("div",{ref:l,css:bs.container},n.map((function(e,n){var i=e.chapterName,l=e.startTimestampInSeconds,d=f(l),p=d.formatted,g=d.timeInWords,v=n===b;return Object(y.d)("div",{css:bs.btnContainer,key:i},Object(y.d)(cds_VideoChapterCardButton,{active:v,chapterName:i,humanReadableTimestamp:p,chapterStartTimestamp:l,onClick:function(){return function(e,n){u("click_video_chapter_card",{videoChapter:{chapterStartTimestamp:n,videoPosition:null==t?void 0:t.currentTime(),chapterName:e},courseItem:{name:o,id:a,orderInBranch:c,type:"lecture"},courseBranch:{id:s},product:{id:r}});var i=null==t?void 0:t.duration();t&&"number"==typeof i&&n<=i&&t.currentTime(n)}(i,l)},ariaLabel:Je()("Jump to chapter titled #{chapterName} starting at #{timeInWords} #{nowPlayingLabel}",{chapterName:i,timeInWords:g,nowPlayingLabel:v?Je()("- Now playing"):""})}))}))))},ms=t("HulD"),fs=t("ahDc"),hs=t("9A5E"),ys={root:Object(y.c)(us||(us=m()(["\n    width: 100%;\n    padding: 0 var(--cds-spacing-100);\n  "]))),pageNotification:Object(y.c)(ls||(ls=m()(["\n    margin-bottom: var(--cds-spacing-300);\n  "]))),list:Object(y.c)(ds||(ds=m()(["\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    display: flex;\n    flex-direction: column;\n    gap: var(--cds-spacing-100);\n    padding-bottom: var(--cds-spacing-300);\n    max-width: 370px;\n  "]))),link:Object(y.c)(ps||(ps=m()(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: var(--cds-spacing-100);\n    text-decoration: none !important;\n    padding: var(--cds-spacing-100);\n    border-radius: var(--cds-border-radius-100);\n    background-color: var(--cds-color-neutral-background-primary-weak);\n\n    &:hover {\n      color: var(--cds-color-interactive-primary-hover);\n      box-shadow: inset 0 0 0 1px var(--cds-color-interactive-primary-hover);\n      background-color: var(--cds-color-interactive-background-primary-hover-weak);\n    }\n\n    &:active {\n      color: var(--cds-color-interactive-primary-pressed);\n      box-shadow: inset 0 0 0 1px var(--cds-color-interactive-primary-pressed);\n      background-color: var(--cds-color-interactive-background-primary-pressed-weak);\n    }\n  "]))),title:Object(y.c)(gs||(gs=m()(["\n    display: flex;\n    flex-direction: column;\n    gap: var(--cds-spacing-100);\n  "])))},tabContent_DownloadTabContent=function(e){var t=e.lectureDownloadLinks,n=Object(C.useState)(!0),i=v()(n,2),r=i[0],a=i[1],o=!!VideoTrimmingContext_useVideoTrimmingContext().trimmedDurationSeconds;return Object(y.d)("div",{css:ys.root},o&&r&&Object(y.d)(ms.a,{role:"complementary",severity:"information",onDismiss:function(){return a(!1)},css:ys.pageNotification},Je()("This video includes a portion of the original lecture video. Download the full version below.")),Object(y.d)("ul",{css:ys.list},t.map((function(e){var t=e.download,n=e.displayName,i=e.href,r=e.fileType,a=e.trackingName,o=e.data,c=e.onClick;return Object(y.d)("li",{key:"".concat(n).concat(r)},Object(y.d)(Yo.a,{variant:"quiet",component:hs.a,onClick:c,href:i,data:o,download:t,trackingName:a,target:"_blank",rel:"noopener noreferrer",icon:vs||(vs=Object(y.d)(fs.a,{color:"default"})),iconPosition:"after",typographyVariant:"bodyPrimary",css:ys.link},Object(y.d)("div",{css:ys.title},Object(y.d)(mt.a,{variant:"bodySecondary",component:"div",color:"supportText"},r),Object(y.d)(mt.a,{variant:"subtitleMedium",component:"div"},n))))}))))},Cs=t("Gok7"),ks=t("cDf5"),Os=t.n(ks),js=t("Z3v1"),ws=t("F9YM"),xs=t("Ne6o"),Ss=t.n(xs),cds_HighlightButtonLabel=function(e){var t,n=e.startText,i=e.highlight,r=e.id,a=i.noteStartTs,o=i.noteEndTs,c=i.captureTs;if(a&&o){var s=Object(ws.e)(a),u=Object(ws.e)(o);t=C.createElement(q.a,{component:js.FormattedMessage,message:Ss()("{startText} from {fromHr} hours {fromMin} minutes {fromSec} seconds until {toHr} hours {toMin} minutes {toSec} seconds"),fromSec:s.seconds||"0",fromMin:s.minutes||"0",fromHr:s.hours||"0",toSec:u.seconds||"0",toMin:u.minutes||"0",toHr:u.hours||"0",startText:n})}else{var l=Object(ws.e)(c);t=C.createElement(q.a,{component:js.FormattedMessage,message:Ss()("{startText} for {hours} hours {minutes} minutes {seconds} seconds"),hours:l.hours||"0",minutes:l.minutes||"0",seconds:l.seconds||"0",startText:n})}return(C.createElement(mt.a,{component:"span",id:r,className:"sr-only"},t))},Ts=t("7NrJ"),Is=t("gNwb"),Es=Object(Is.b)({type:"BUTTON"})(V.a);function HighlightDeleteButton(e){var t,n=Object(C.useState)(!1),i=v()(n,2),a=i[0],o=i[1],c=e.disabled,s=e.highlight,u=e.onDelete,l=Object(C.useRef)(null),d=Object(C.useRef)(null),p=Object(r.c)();return Object(C.useEffect)((function(){a&&null!=l&&l.current&&l.current.focus()}),[a]),Object(y.d)("div",null,!a&&Object(y.d)(Es,{size:"small",_refAltAsTrueRef:d,variant:"ghost",disabled:c,onClick:function(){o(!0)},trackingName:"delete_highlight_pre","aria-label":Ss()("Delete note #{noteText}",{noteText:null==s?void 0:null===(t=s.noteText)||void 0===t?void 0:t.substr(0,50)})},Ss()("Delete")),a&&Object(y.d)(P.a,{container:!0,className:"HighlightDeleteButton_confirmation_controls",css:Object(y.c)({gap:"var(--cds-spacing-200)"})},Object(y.d)(P.a,{item:!0,"aria-live":"assertive"},Object(y.d)(mt.a,{component:"div",className:"highlight-delete-btn-confirm",css:Object(y.c)({lineHeight:"36px",margin:"0 0 0 var(--cds-spacing-100)"}),id:"delete-note"},Ss()("Delete Note?"))),Object(y.d)(Ts.a,{"aria-labelledby":"delete-note",size:"small",primaryButtonProps:{children:Ss()("Delete"),onClick:function(){p({trackingName:"delete_highlight",action:"click",trackingData:{}}),o(!1),u()},ref:l},alternateButtonProps:{children:Ss()("Cancel"),variant:"secondary",onClick:function(){p({trackingName:"cancel_delete_highlight",action:"click",trackingData:{}}),o(!1)}}})))}Es.displayName="TrackedButton",HighlightDeleteButton.displayName="HighlightDeleteButton";var Ps=HighlightDeleteButton,cds_HighlightEditButton=function(e){var t=e.disabled,n=e.onClick,i=e.ariaLabelledBy,r=e.hasComment,a=e.forwardRef,o=r?Ss()("Edit your thoughts"):Ss()("Add your thoughts");return C.createElement(V.a,{ref:a,variant:"ghost",onClick:n,size:"small",disabled:t,"aria-labelledby":i,onKeyPress:function(e){return Object(Ke.a)(e,n)}},o)},Vs=t("o5PN"),Ls=t("SJ7i"),_s=Object(Is.b)({type:"BUTTON"})(V.a);_s.displayName="TrackedButton";var Ns,Rs,Ms,Ds,HighlightNoteEditor_styles=function(e){return Object(y.c)({".note-textarea":{width:"100%",color:"var(--cds-color-grey-700)",resize:"none",padding:"10px",fontSize:"14px",border:"1px solid var(--cds-color-neutral-primary)",borderRadius:4},"&:focus":{outline:"1px solid var(--cds-color-grey-200)"}})},As=function(e){function HighlightNoteEditor(t){var n;return(n=e.call(this,t)||this).handleSave=function(){var e=n.state.noteText;(0,n.props.onSave)(e)},n.handleChange=function(e){n.setState({noteText:e.target.value})},n.state={noteText:t.initialNoteText},n.textarea=null,n.setTextareaRef=function(e){n.textarea=e,n.props.forwardRef&&(n.props.forwardRef.current=e)},n}Mt()(HighlightNoteEditor,e);var t=HighlightNoteEditor.prototype;return t.componentDidMount=function(){this.textarea&&this.textarea.focus()},t.render=function(){var e,t,n=this.state.noteText,i=this.props,r=i.highlight,a=i.initialNoteText,o=i.onCancel,c=i.ariaLabelledBy,s=n===a||n.length>1e3,u=Object(ws.e)(null!==(e=null==r?void 0:r.noteStartTs)&&void 0!==e?e:0),l=Object(ws.e)(null!==(t=null==r?void 0:r.noteEndTs)&&void 0!==t?t:0),d=Ss()('Save your thoughts for "#{transcriptText}" starting at #{startHour} hours #{startMinute} minutes #{startSecond} seconds and ending at #{endHour} hours #{endMinute} minutes #{endSecond} seconds',{transcriptText:null==r?void 0:r.transcriptText,startHour:u.hours,startMinute:u.minutes,startSecond:u.seconds,endHour:l.hours,endMinute:l.minutes,endSecond:l.seconds}),p=Ss()('Cancel changes for "#{transcriptText}" starting at #{startHour} hours #{startMinute} minutes #{startSecond} seconds and ending at #{endHour} hours #{endMinute} minutes #{endSecond} seconds',{transcriptText:null==r?void 0:r.transcriptText,startHour:u.hours,startMinute:u.minutes,startSecond:u.seconds,endHour:l.hours,endMinute:l.minutes,endSecond:l.seconds});return Object(y.d)("div",{className:"rc-HighlightNoteEditor",css:HighlightNoteEditor_styles,"data-testid":"highlight-note-editor"},Object(y.d)(mt.a,{component:"label",variant:"bodySecondary",htmlFor:"note-text"},Ss()("Add your thoughts")),Object(y.d)(Vs.a,{id:"note-text",name:"note-text",minRows:1,maxRows:20,value:n,className:"note-textarea","aria-labelledby":c,onChange:this.handleChange,inputRef:this.setTextareaRef}),Object(y.d)(P.a,{container:!0,justifyContent:"flex-start",css:Object(y.c)({gap:this.props.theme.spacing(16)})},Object(y.d)(P.a,{item:!0},Object(y.d)(_s,{type:"button",size:"small","aria-label":d,disabled:s,onClick:this.handleSave,trackingName:"edit_highlight"},Ss()("Save"))),Object(y.d)(P.a,null,Object(y.d)(_s,{type:"button",size:"small","aria-label":p,variant:"secondary",onClick:o,trackingName:"cancel_edit_highlight"},Ss()("Cancel")))))},HighlightNoteEditor}(C.Component),Fs=Object(Ls.a)(As),Bs=t("Ya7m"),Hs=t("IDuc"),HighlightPlayButton_HighlightPlayButton=function(e){var t,n=e.highlight,i=e.onClick,r=e.playing,a=function(e){var t=e.noteStartTs,n=e.noteEndTs,i=e.captureTs,r=VideoTrimmingContext_useVideoTrimmingContext(),a=r.trimmedStartTimeSeconds,o=r.trimmedEndTimeSeconds;return{noteStartTs:Object(C.useMemo)((function(){return a?Object(ve.c)(t,a):t}),[t,a]),noteEndTs:Object(C.useMemo)((function(){return n&&o?Object(ve.a)(n,{trimmedStartTimeSeconds:a,trimmedEndTimeSeconds:o}):n}),[n,o,a]),captureTs:Object(C.useMemo)((function(){return o?i<a?a:i>o?o:i+a:i}),[i,o,a])}}(n),o=a.noteStartTs,c=a.noteEndTs,s=a.captureTs;return t="number"==typeof o&&"number"==typeof c?r?Ss()("Pause video clip #{startTime} - #{endTime}",{startTime:Object(ws.c)(o),endTime:Object(ws.c)(c)}):Ss()("Play video clip #{startTime} - #{endTime}",{startTime:Object(ws.c)(o),endTime:Object(ws.c)(c)}):r?Ss()("Pause video clip #{startTime}",{startTime:Object(ws.c)(s)}):Ss()("Play video clip #{startTime}",{startTime:Object(ws.c)(s)}),Object(y.d)(V.a,{type:"button",variant:"ghost",size:"small",component:Hs.a,onClick:i,trackingName:"highlight_timestamp","aria-label":t,"aria-live":"off",icon:r?Ns||(Ns=Object(y.d)(Bs.a,{size:"medium"})):Rs||(Rs=Object(y.d)(as.a,{size:"medium"})),iconPosition:"before",css:Object(y.c)({marginLeft:"-16px"})},t)},zs=HighlightPlayButton_HighlightPlayButton;HighlightPlayButton_HighlightPlayButton.displayName="HighlightPlayButton";var Us,Qs,qs,Ws,Ks={highlightButton:Object(y.c)(Ms||(Ms=m()(["\n    margin: 0 0 var(--cds-spacing-200) 0;\n    background: none;\n    border: 0;\n    width: 120px;\n    text-align: left;\n    padding: 0;\n  "]))),videoThumbnail:Object(y.c)(Ds||(Ds=m()(["\n    max-width: 120px;\n    max-height: 80px;\n  "])))},cds_HighlightSnapshot=function(e){var t=e.highlight,n=e.onClick,i=e.playing,r=t.snapshotDataUrl,a=t.snapshotUrl,o=t.noteStartTs,c=t.captureTs,s=a||r;if(!s)return null;var u=Object(y.d)("img",{alt:Ss()("Video thumbnail"),src:s,css:Ks.videoThumbnail});return n?Object(y.d)(Hs.a,{trackingName:"highlight_snapshot",type:"button",className:"rc-HighlightSnapshot",onClick:n,"aria-labelledby":"snapshot-btn-label-".concat(o||c),css:Ks.highlightButton},Object(y.d)(cds_HighlightButtonLabel,{id:"snapshot-btn-label-".concat(o||c),startText:i?Ss()("Pause video for highlight marked"):Ss()("Play video for highlight marked"),highlight:t}),u):Object(y.d)("div",{css:Ks.highlightButton},u)},Zs=t("sOkY"),cds_HighlightTranscript=function(e){var t=e.highlight,n=e.onClick,i=e.playing,r=t.snapshotUrl,a=t.snapshotDataUrl,o=t.transcriptText,c=t.noteStartTs,s=t.captureTs;if(!o)return null;var u=r||a?300:500,l=o.length>u?"".concat(o.substring(0,u),"..."):o;return n?C.createElement(q.a,{component:Zs.a,role:"button",tabIndex:0,onClick:n,className:"rc-HighlightTranscript",trackingName:"highlight_transcript",onKeyPress:function(e){return Object(Ke.a)(e,n)},"aria-labelledby":"transcript-btn-label-".concat(c||s)},C.createElement(cds_HighlightButtonLabel,{id:"transcript-btn-label-".concat(c||s),startText:i?Ss()("Pause video for highlighted transcript with text, #{formattedTranscriptText}, marked",{formattedTranscriptText:l}):Ss()("Play video for highlighted transcript with text, #{formattedTranscriptText}, marked",{formattedTranscriptText:l}),highlight:t}),l):C.createElement(q.a,{component:Zs.a,trackingName:"highlight_transcript"},l)},Gs={container:Object(y.c)(Us||(Us=m()(["\n    margin: var(--cds-spacing-300) 0;\n    padding: 0 0 var(--cds-spacing-200) 0;\n  "]))),highlightBody:Object(y.c)(Qs||(Qs=m()(["\n    margin: var(--cds-spacing-200) 0 var(--cds-spacing-100) 0;\n  "]))),highlightStatus:Object(y.c)(qs||(qs=m()(["\n    margin-left: var(--cds-spacing-200);\n  "]))),editingControls:Object(y.c)(Ws||(Ws=m()(["\n    margin-left: -8px;\n    margin-top: var(--cds-spacing-100);\n  "])))},nextTickExecute=function(e){setTimeout(e,0)},Highlight_Highlight=function(e){var t=e.highlight,n=e.highlight,i=n.id,r=n.pendingCreate,a=n.pendingUpdate,o=n.noteStartTs,c=n.captureTs,u=e.onDelete,d=e.currentHighlight,g=e.onSetCurrentHighlight,b=e.videoPlayer,m=e.onUpdate,f=e.forwardRef,h=Object(C.useState)(t.noteText),k=v()(h,2),O=k[0],j=k[1],w=Object(C.useState)(!1),x=v()(w,2),S=x[0],T=x[1],I=Object(C.useState)(!1),E=v()(I,2),V=E[0],L=E[1],N=Object(C.useState)(!1),R=v()(N,2),M=R[0],D=R[1],A=Object(C.useState)(null),F=v()(A,2),B=F[0],H=F[1],z=Object(C.useState)(null),U=v()(z,2),Q=U[0],q=U[1],W=Object(C.useRef)(null),K=Object(C.useRef)(null),Z=Object(C.useRef)(null),G=Object(C.useRef)(null),J=Object(C.useState)(""),Y=v()(J,2),X=Y[0],ee=Y[1],te=function(e){var t=VideoTrimmingContext_useVideoTrimmingContext(),n=t.trimmedStartTimeSeconds,i=t.trimmedEndTimeSeconds;return Object(C.useMemo)((function(){return Object(ve.b)(e.noteStartTs,e.noteEndTs,{trimmedStartTimeSeconds:n,trimmedEndTimeSeconds:i})}),[e.noteStartTs,e.noteEndTs,n,i])}(t),focusOnNextFocusableElement=function(){var e=W.current;if(e){var t=Array.from(e.querySelectorAll('a[href], area[href], input:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]'));t.length>0&&t[0].focus()}},focusEditButton=function(){var e;null==K||null===(e=K.current)||void 0===e||e.focus(),ee("")},focusInput=function(){var e;null==Z||null===(e=Z.current)||void 0===e||e.focus()},handlePause=function(){D(!1)},handleToggle=function(){g(i),o?null==b||b.currentTime(o):null==b||b.currentTime(c),null!=b&&b.paused()||!M?(null==b||b.play(),D(!0)):(null==b||b.pause(),D(!1))},ne=function(){var e=l()(s()().mark((function _callee(e){return s()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j(e),L(!1),n.next=4,m(p()(p()({},t),{},{noteText:e}));case 4:i=void 0,null==G||null===(i=G.current)||void 0===i||i.focus(),ee(Ss()("Your thoughts have been saved")),setTimeout(focusEditButton,1500);case 7:case"end":return n.stop()}var i}),_callee)})));return function(t){return e.apply(this,arguments)}}();Object(C.useEffect)((function(){var e,n;if(S&&(null==W||null===(e=W.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e),("undefined"==typeof window||Os()(window))&&window.setTimeout)){var i=window.setTimeout((function(){T(!1),H(null)}),2e3);H(i)}t&&q(function(e){if(null!=e&&e.id)return e.id.split("~").length,e.id}(t)||null)}),[S,W,t]),Object(C.useEffect)((function(){return function(){null==b||b.off("pause",handlePause),B&&clearTimeout(B)}}),[Q,t,W,B,g,b]),Object(C.useEffect)((function(){d&&t.id!==d&&handlePause()}),[t,d]);var ie=Ss()("#{action} your thoughts#{noteText} for the note marked",{noteText:O?", ".concat(O,","):"",action:O?Ss()("Edit"):Ss()("Add")});Object(C.useEffect)((function(){d&&t.id===d&&nextTickExecute(focusOnNextFocusableElement)}),[d,t.id]);var re="edit-btn-label-".concat(null==t?void 0:t.id);return Object(y.d)(P.a,{container:!0,item:!0,spacing:12,ref:W,css:Gs.container,xs:12,"data-testid":"highlight"},Object(y.d)(P.a,{ref:f,item:!0,justifyContent:"flex-start",alignItems:"center",sm:3},Object(y.d)(cds_HighlightSnapshot,{highlight:t,onClick:te?null:handleToggle,playing:M})),Object(y.d)(P.a,{container:!0,item:!0,direction:"row",wrap:"wrap",sm:9},Object(y.d)(P.a,{item:!0,justifyContent:"flex-start",alignItems:"center"},te?Object(y.d)(mt.a,{variant:"bodySecondary",component:"div"},Ss()("Timestamp unavailable as this portion of the video has been removed.")):Object(y.d)(zs,{highlight:t,onClick:handleToggle,playing:M}),Object(y.d)(mt.a,{component:"span",className:"highlight-status",css:te?{}:Gs.highlightStatus,"aria-live":"assertive",role:"alert",ref:G,tabIndex:-1},X)),Object(y.d)(P.a,{item:!0,justifyContent:"flex-start",alignItems:"flex-start",css:Gs.highlightBody,xs:12},Object(y.d)(cds_HighlightTranscript,{highlight:t,onClick:te?null:handleToggle,playing:M})),O&&Object(y.d)(P.a,{item:!0,className:"highlight-note"},Object(y.d)(mt.a,{component:"h3",variant:"subtitleMedium"},Ss()("Your note")),Object(y.d)(mt.a,{component:"p"},O)),Object(y.d)(P.a,{container:!0,item:!0,alignItems:"center",justifyContent:"flex-start",direction:"row",css:[Gs.editingControls,!V&&{display:"none"}]},Object(y.d)(P.a,{item:!0,xs:12,sm:8,md:6},Object(y.d)(Fs,{forwardRef:Z,highlight:t,initialNoteText:O,onSave:ne,onCancel:function(){L(!1),nextTickExecute(focusEditButton)},ariaLabelledBy:re}))),Object(y.d)(P.a,{container:!0,item:!0,alignItems:"center",justifyContent:"flex-start",direction:"row",css:[Gs.editingControls,{"div:nth-child(2)":{margin:"0 var(--cds-spacing-200)"}}]},Object(y.d)(P.a,{item:!0,css:[V&&{display:"none"}]},Object(y.d)(cds_HighlightEditButton,{forwardRef:K,onClick:function(){L(!0),nextTickExecute(focusInput)},ariaLabelledBy:re,hasComment:!!O,disabled:r||a})),Object(y.d)(P.a,{item:!0},Object(y.d)(Ps,{onDelete:function(){return u(t.id)},disabled:r||a,highlight:t})))),Object(y.d)(cds_HighlightButtonLabel,{id:re,startText:ie,highlight:t}))};Highlight_Highlight.displayName="Highlight";var Js,Ys,Xs,$s,eu,tu,nu,iu=Highlight_Highlight,ru=t("EHzZ"),au=t("Mfzm"),ou=t("buno"),cu={btnLink:Object(y.c)(Js||(Js=m()(["\n    margin: -16px;\n  "])))},cds_ReviewPageLink=function(){var e=Object(xt.e)().courseSlug;return Object(y.d)(V.a,{variant:"ghost",href:Object(au.e)(Object(au.c)(e)),trackingName:"note_sidebar_to_review_link",target:"_blank",rel:"noopener noreferrer",component:ou.a,icon:Ys||(Ys=Object(y.d)(ru.a,{size:"small"})),iconPosition:"after",css:cu.btnLink,"aria-label":Ss()("View all notes. Opens in new tab"),id:"note_sidebar_to_review_link_id"},Ss()("View all notes"))},su="".concat(Bn.a.url.resource_assets,"learner/note_placeholder.svg"),uu={container:Object(y.c)(Xs||(Xs=m()(["\n    display: flex;\n    flex-direction: column;\n    gap: var(--cds-spacing-300);\n  "])))},cds_VideoHighlightsLoadingPlaceholder=function(){return Object(y.d)("div",{className:"rc-VideoHighlightsLoadingPlaceholder",css:uu.container},Object(y.d)("img",{src:su,alt:Ss()("Note placeholder")}),Object(y.d)("img",{src:su,alt:Ss()("Note placeholder")}),Object(y.d)("img",{src:su,alt:Ss()("Note placeholder")}))},lu=t("TOZ3"),du="".concat(Bn.a.url.resource_assets,"learner/icon_note.svg"),pu="".concat(Bn.a.url.resource_assets,"learner/icon_highlight.svg"),cds_VideoHighlightsPlaceholder=function(e){var t=e.helpText;return(C.createElement("div",{className:"rc-VideoHighlightsPlaceholder"},C.createElement(lu.b,{justifyContent:"center"},C.createElement("img",{src:du,alt:Ss()("Take notes"),className:"icon note-icon"}),C.createElement("img",{src:pu,alt:Ss()("Highlight"),className:"icon"})),C.createElement(mt.a,{component:"p",color:"supportText",className:"help-text"},t)))},gu=Object(y.c)($s||($s=m()(["\n  padding: 0 0 var(--cds-spacing-200) 0;\n"])));function VideoHighlights(e){var t=Object(C.useState)(null),n=v()(t,2),i=n[0],r=n[1],a=e.loading,o=e.videoPlayer,c=e.highlights,s=e.notificationAnnouncement,u=e.onDelete,l=e.onUpdate,d=Object(C.useRef)(null),handleDelete=function(e){u&&(u(e),function(e){var t=c.findIndex((function(t){return t.id===e})),n=t;if(c.length<=t?n=t-1:c.length>1?n=0===t?1:t-1:c.length<1&&(n=-1),n>=0){var i=c[n].id;setTimeout((function(){return r(i)}),0)}}(e))},p=l&&c.map((function(e){return Object(y.d)(iu,{forwardRef:e.id===i?d:null,highlight:e,key:e.clientId,currentHighlight:i,onSetCurrentHighlight:r,videoPlayer:o,onDelete:handleDelete,onUpdate:function(t){return l(e.id,t)}})}));return Object(y.d)("div",{css:gu},a&&(eu||(eu=Object(y.d)(cds_VideoHighlightsLoadingPlaceholder,null))),!a&&0===c.length&&Object(y.d)(cds_VideoHighlightsPlaceholder,{helpText:Ss()('Click the "Save Note" button below the lecture when you want to capture a screen. You can also highlight and save lines from the transcript. Add your own notes to anything you\'ve captured.')}),!a&&p,Object(y.d)(Cs.a,{role:"region","aria-live":"assertive","aria-atomic":!0,component:"span",className:"rc-A11yScreenReaderOnly"},s&&Object(y.d)("span",null,s)),Object(y.d)(P.a,{container:!0,item:!0,className:"highlight-sidebar-header",css:Object(y.c)(tu||(tu=m()(["\n          flex-flow: column;\n          vertical-align: center;\n          padding: var(--cds-spacing-200) 0 var(--cds-spacing-200);\n        "])))},nu||(nu=Object(y.d)(P.a,{item:!0},Object(y.d)(cds_ReviewPageLink,null)))))}var vu,bu,mu,fu,hu,yu,Cu,ku,Ou,ju=Object(C.memo)(VideoHighlights),NotesTabContent_NotesTabContent=function(){var e=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),t=e.loading,n=e.videoPlayer,i=e.highlights,r=e.notificationAnnouncement,a=e.onDelete,o=e.onUpdate;return Object(y.d)("div",{css:Object(y.c)(vu||(vu=m()(["\n        max-width: 700px;\n      "])))},Object(y.d)(ju,{loading:t,videoPlayer:n,highlights:i,notificationAnnouncement:r,onDelete:a,onUpdate:o}))},findParentCueElement=function(e){return e.matches(".rc-Phrase")?e:e.closest(".rc-Phrase")},findCueElementWithIndex=function(e){return document.querySelector('[data-cue-index="'.concat(e,'"]'))},findCueMarkWithIndex=function(e){return document.querySelector('[data-cue-index="'.concat(e,'"] mark'))},getCueIndex=function(e){var t=e.getAttribute("data-cue-index");return null==t?null:parseInt(t,10)},getCueIndexFromText=function(e){if(!e||!e.parentElement)return null;var t=findParentCueElement(e.parentElement);return t?getCueIndex(t):null},wu=function getTextNodesFromPhrase(e){return"#text"===e.nodeName?[e]:Array.from(e.childNodes).reduce((function(e,t){return[].concat(fe()(e),fe()(getTextNodesFromPhrase(t)))}),[])},TranscriptHighlighterUtils_getTextNodeOffsetInCue=function(e){if(!e.parentElement)return 0;var t=findParentCueElement(e.parentElement);if(!t)return 0;var n,i=wu(t),r=0,a=Ca()(i);try{for(a.s();!(n=a.n()).done;){var o,c,s=n.value;if(s===e)break;r+=null!==(o=null===(c=s.textContent)||void 0===c?void 0:c.length)&&void 0!==o?o:0}}catch(e){a.e(e)}finally{a.f()}return r},isHighlightForCue=function(e,t){var n=t.transcriptTextStartIndex,i=t.transcriptTextEndIndex;return!(!n||!i)&&(n.cueIndex===e.index||i.cueIndex===e.index||e.index>n.cueIndex&&e.index<i.cueIndex)},getHighlightsForCue=function(e,t){return t.filter((function(t){return isHighlightForCue(e,t)}))},splitTextByHighlights=function(e,t){if(!e.text||0===t.length)return[{text:e.text,highlighted:!1,id:"0"}];var n=new Set;t.forEach((function(t){var i=t.transcriptTextStartIndex,r=t.transcriptTextEndIndex;if(i&&r&&isHighlightForCue(e,t))for(var a=i.cueIndex===e.index?i.textIndex:0,o=r.cueIndex===e.index?r.textIndex:e.text.length-1,c=Math.max(0,a);c<=Math.min(e.text.length-1,o);c+=1)n.add(c)}));for(var i=[],r=0,a=1;a<e.text.length;a+=1){var o=n.has(a-1);o!==n.has(a)&&(i.push({text:e.text.slice(r,a),highlighted:o,id:"".concat(r)}),r=a)}var c=n.has(e.text.length-1);return i.push({text:e.text.slice(r),highlighted:c,id:"".concat(r)}),i},getHighlightForCueElement=function(e,t){var n=getCueIndex(t);return null===n?null:e.find((function(e){var t=e.transcriptTextStartIndex,i=e.transcriptTextEndIndex;return!(!t||!i)&&(n>=t.cueIndex&&n<=i.cueIndex)}))},getIsCueIncludedInHighlight=function(e,t){var n=t.transcriptTextStartIndex,i=t.transcriptTextEndIndex;return!(!n||!i)&&(e.index>=n.cueIndex&&e.index<=i.cueIndex)},getTranscriptSelection=function(){var e=window.getSelection();if(e&&e.toString()){var t=e.anchorNode,n=e.anchorOffset,i=e.focusNode,r=e.focusOffset,a=getCueIndexFromText(i),o=getCueIndexFromText(t);if(null!==o&&null!==a){var c,s,u=TranscriptHighlighterUtils_getTextNodeOffsetInCue(t)+n,l=TranscriptHighlighterUtils_getTextNodeOffsetInCue(i)+r;return o<a?(c={cueIndex:o,textIndex:u},s={cueIndex:a,textIndex:l-1}):o===a?(c={cueIndex:o,textIndex:Math.min(u,l)},s={cueIndex:o,textIndex:Math.max(u,l)-1}):(c={cueIndex:a,textIndex:l},s={cueIndex:o,textIndex:u-1}),{transcriptTextStartIndex:c,transcriptTextEndIndex:s}}}},isSelectionDirectionReversed=function(){var e=window.getSelection();if(!e||0===e.rangeCount)return!1;var t=e.anchorNode,n=e.anchorOffset,i=e.focusNode,r=e.focusOffset;if(!t||!i)return!1;if(t===i)return n>r;var a=t.compareDocumentPosition(i);return!(a&Node.DOCUMENT_POSITION_FOLLOWING)&&!!(a&Node.DOCUMENT_POSITION_PRECEDING)},xu=t("kj/T"),Su=t.n(xu),Tu="rgba(42, 181, 115, 0.15)",Iu={root:Object(y.c)(bu||(bu=m()(["\n    &:hover {\n      cursor: text;\n      background-color: var(--cds-color-grey-25);\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &.active {\n      background-color: ",";\n      outline: 1px solid ",";\n      outline-offset: -1px;\n\n      &:focus {\n        outline: none;\n      }\n    }\n\n    &.highlighted {\n      .highlight {\n        background-color: ",";\n      }\n\n      &:hover {\n        background-color: transparent;\n      }\n\n      &.active {\n        background-color: ",";\n\n        .highlight {\n          background: transparent;\n        }\n      }\n    }\n\n    &.targeted {\n      &:hover {\n        background-color: transparent;\n      }\n\n      .highlight {\n        background-color: ",";\n      }\n\n      &.active {\n        background-color: ",";\n\n        .highlight {\n          background-color: transparent;\n        }\n      }\n    }\n  "])),Tu,"rgba(42, 181, 115, 0.5)","rgba(43, 160, 202, 1.0)",Tu,"rgba(59, 175, 218, 0.4)",Tu)},components_Phrase=function(e){var t=e.cue,n=e.isActive,i=e.isTargeted,r=e.onClick,a=e.highlights,c=e.shouldDisableSkippingForward,s=Object(C.useRef)(null),u=Object(C.useState)(!0),l=v()(u,2),d=l[0],p=l[1],g=Object(Fn.a)(),b=g.isFocusVisible,m=g.focusProps,f=Object(C.useCallback)((function(){if(!s.current)return null;var e=wu(s.current);if(0===e.length)return null;var t=e[0],n=e[e.length-1],i=document.createRange();return i.setStart(t,0),i.setEnd(n,n.length),i}),[]),h=Object(C.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n){n.preventDefault(),p(!0);var i=window.getSelection();if(!i||!i.toString()){var a=f();i&&a&&(i.removeAllRanges(),i.addRange(a)),s.current&&s.current.focus()}r&&r(t,e)}}),[t,r,f]),k=Object(C.useCallback)((function(){p(!1)}),[]);Object(C.useEffect)((function(){if(b){var e=window.getSelection(),t=f();e&&t&&(e.removeAllRanges(),e.addRange(t))}}),[b,f]);var O,j=a.length>0,w=j&&!i,x=j&&i,S=Ba()("rc-Phrase",{active:n,targeted:x,highlighted:w}),T=Object(C.useMemo)((function(){return splitTextByHighlights(t,a)}),[t,a]);return O=c?Su()("toggling through the video using the transcript is disabled on first play of the video"):n?Su()("toggle video from current lecture segment"):Su()("play video from #{cueText}",{cueText:t.text}),Object(y.d)("span",o()({tabIndex:d?0:-1,role:"button","data-cue":t.id,className:S,ref:s,"data-cue-index":t.index,onClick:h(!1),onMouseDown:k,onKeyPress:function(e){return Object(Ke.a)(e,h(!0))},"aria-label":O,css:Iu.root},m),T.map((function(e,t){return Object(y.d)(mt.a,{component:e.highlighted?"mark":"span","aria-hidden":!0,key:e.id,className:e.highlighted?"highlight":""},e.text,t===T.length-1&&(mu||(mu=Object(y.d)("span",null,""))))})))},Eu={timestamp:Object(y.c)(fu||(fu=m()(["\n    border: none;\n    height: 26px;\n    color: var(--cds-color-grey-600);\n    font-size: 12px;\n    line-height: 26px;\n    margin-right: 30px;\n    margin-left: -7px;\n    background: var(--cds-color-neutral-background-primary);\n    user-select: none;\n\n    &:focus {\n      color: var(--cds-color-grey-900);\n      outline: 2px solid var(--cds-color-grey-400);\n      outline-offset: -5px;\n    }\n\n    &:hover {\n      color: var(--cds-color-grey-900);\n      text-decoration: underline;\n    }\n  "]))),rtl:Object(y.c)(hu||(hu=m()(["\n    margin-right: -7px;\n    margin-left: 30px;\n  "])))},Pu=function(e){function Paragraph(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleTimestampClick=function(e){e.preventDefault();var n=t.props,i=n.cues;(0,n.onCueClick)(i[0])},t}return Mt()(Paragraph,e),Paragraph.prototype.render=function(){var e=this.props,t=e.track,n=e.cues,i=e.onCueClick,r=e.activeCue,a=e.targetedHighlight,c=e.highlights,s=e.hideTime,u=e.renderPlainText,l=e.shouldDisableSkippingForward,d=n[0],p=Object(Hn.isRightToLeft)(Object(Hn.toLanguageCode)(t.languageCode));return Object(y.d)(P.a,{container:!0},Object(y.d)(P.a,{item:!0,className:"rc-Paragraph",css:Object(y.c)(yu||(yu=m()(["\n            display: flex;\n            padding: 0 0 var(--cds-spacing-200) 0;\n          "])))},!s&&Object(y.d)("button",{type:"button",className:"timestamp",onClick:this.handleTimestampClick,"aria-labelledby":"button-label-".concat(d.id),css:[Eu.timestamp,p&&Eu.rtl]},Object(y.d)("span",{id:"button-label-".concat(d.id),className:"sr-only"},Object(y.d)(js.FormattedMessage,o()({message:Su()("Play video starting at {hours}:{minutes}:{seconds} and follow transcript")},Object(ws.e)(d.startTimeForDisplay)))),Object(ws.c)(d.startTimeForDisplay)),Object(y.d)("div",{className:"phrases"},n.map((function(e){var t=e.id===(null==r?void 0:r.id),n=getHighlightsForCue(e,c),o=!(!a||!getIsCueIncludedInHighlight(e,a));return u?Object(y.d)("span",{key:e.id,className:"rc-Phrase"},Object(y.d)(mt.a,{component:"span"},e.text,Cu||(Cu=Object(y.d)("span",null,"")))):Object(y.d)(components_Phrase,{cue:e,key:e.id,onClick:i,isActive:!!t,isTargeted:o,highlights:n,shouldDisableSkippingForward:l})})))))},Paragraph}(C.Component),Vu=Object(Ls.a)(Pu),Lu={transcript:Object(y.c)(ku||(ku=m()(["\n    padding: 0;\n    line-height: 26px;\n    position: relative;\n  "]))),paragraph:Object(y.c)(Ou||(Ou=m()(["\n    margin-bottom: 15px;\n  "])))},Transcript_Transcript=function(e){var t=e.track,n=e.paragraphs,i=e.highlights,r=e.onCueClick,a=e.activeCue,o=e.targetedHighlight,c=e.renderPlainText,s=e.shouldDisableSkippingForward;return Object(y.d)(Zs.a,{trackingName:"interactive_transcript",trackMouseEnters:!0,trackMouseLeaves:!0,className:"rc-Transcript",css:Lu.transcript},n.map((function(e){return Object(y.d)(Vu,{track:t,cues:e,key:e[0].startTime,onCueClick:r,activeCue:a,highlights:i,targetedHighlight:o,renderPlainText:c,css:Lu.paragraph,shouldDisableSkippingForward:s})})))};Transcript_Transcript.displayName="Transcript";var _u,Nu,Ru,Mu=Transcript_Transcript,Du={root:Object(y.c)(_u||(_u=m()(["\n    button {\n      padding: var(--cds-spacing-50) var(--cds-spacing-100);\n      background-color: var(--cds-color-grey-975) !important;\n      color: var(--cds-color-neutral-primary-invert) !important;\n      border: none !important;\n      outline: none !important;\n      box-shadow: none !important;\n      white-space: nowrap;\n    }\n  "])))},Au=Object(Is.b)({type:"BUTTON"})(V.a),components_TranscriptHighlightButton=function(e){var t=e.label,n=e.trackingName,i=e.onClick;return Object(y.d)("div",{className:"rc-TranscriptHighlightButton",css:Du.root},Object(y.d)(Au,{"data-testid":"transcriptHighlightButton",size:"small",variant:"secondary",onClick:i,trackingName:n,tabIndex:-1},t))},HotkeyUtils_getModifierKeyForPlatform=function(){var e=!1;return"undefined"!=typeof window&&(e=window.navigator.platform.includes("Mac")),e?"":Su()("CTRL")},Fu={root:Object(y.c)(Nu||(Nu=m()(["\n    left: 320px;\n    z-index: 1000;\n    margin-top: calc(var(--cds-spacing-400) * -1);\n    position: absolute;\n  "])))},components_RemoveTranscriptHighlight=function(e){var t=e.targetedHighlight,n=e.onRemove,i=e.showKeyboardControls,r=HotkeyUtils_getModifierKeyForPlatform(),a=Su()("Press [#{modiferKey} + D] to Delete Note",{modiferKey:r}),o=i?a:Su()("Delete Note"),c=Object(C.useCallback)((function(){return function(e){e.target&&e.target.innerText===o&&n()}}),[o,n]);if(Object(C.useEffect)((function(){return document.addEventListener("mousedown",c()),function(){document.removeEventListener("mousedown",c())}}),[c]),!t.transcriptTextStartIndex)return null;var s=t.transcriptTextStartIndex.cueIndex;if(null==s)return null;var u=findCueElementWithIndex(s),l=null==u?void 0:u.offsetTop;return Object(y.d)("div",{css:Fu.root,style:{top:l}},Object(y.d)(components_TranscriptHighlightButton,{onClick:n,label:o,trackingName:"delete_transcript_highlight"}))},Bu={root:Object(y.c)(Ru||(Ru=m()(["\n    left: 320px;\n    z-index: 1000;\n    margin-top: calc(var(--cds-spacing-400) * -1);\n    position: absolute;\n  "])))},components_SaveHighlightConfirmationPopup=function(e){var t=e.cueIndex,n=e.onTimeoutReached;if(Object(C.useEffect)((function(){var e=setTimeout(n,800);return function(){return clearTimeout(e)}}),[t,n]),null==t)return null;var i=findCueElementWithIndex(t),r=null==i?void 0:i.offsetTop;return Object(y.d)("div",{css:Bu.root,style:{top:r}},Object(y.d)(components_TranscriptHighlightButton,{label:Su()("Note saved!"),trackingName:"transcript_highlight_saved_popup",onClick:function(){n()}}))},Hu=C.forwardRef((function(e,t){var n=e.className,i=e.style,r=e.onSave,a=e.showKeyboardControls?Su()("Press [#{modiferKey} + S] to save a note",{modiferKey:HotkeyUtils_getModifierKeyForPlatform()}):Su()("Save a note");return Object(y.d)("div",{ref:t,className:n,style:i},Object(y.d)(components_TranscriptHighlightButton,{label:a,onClick:r,trackingName:"create_transcript_highlight"}))}));Hu.displayName="SaveTranscriptHighlight";var zu,Uu,Qu,qu=Hu,Wu=function(e){function TranscriptSelectionAnnouncer(){return e.apply(this,arguments)||this}return Mt()(TranscriptSelectionAnnouncer,e),TranscriptSelectionAnnouncer.prototype.render=function(){var e=this.props.announcementText;return e?C.createElement("div",{className:"rc-TranscriptSelectionAnnouncer sr-only","aria-live":"assertive","aria-atomic":!0},C.createElement("span",{key:e},e)):null},TranscriptSelectionAnnouncer}(C.PureComponent),Ku={root:Object(y.c)(zu||(zu=m()(["\n    position: relative;\n  "]))),button:Object(y.c)(Uu||(Uu=m()(["\n    position: absolute;\n    z-index: 1000;\n  "])))},components_TranscriptHighlighter=function(e){var t=e.children,n=e.highlights,i=e.onSelect,r=e.onSave,a=e.onRemove,o=e.showSaveConfirmations,c=Object(C.useState)(null),s=v()(c,2),u=s[0],l=s[1],d=Object(C.useState)(void 0),p=v()(d,2),g=p[0],b=p[1],m=Object(C.useState)(null),f=v()(m,2),h=f[0],k=f[1],O=Object(C.useState)(!1),j=v()(O,2),w=j[0],x=j[1],S=Object(C.useState)(void 0),T=v()(S,2),I=T[0],E=T[1],P=Object(C.useState)(!1),V=v()(P,2),L=V[0],N=V[1],R=Object(C.useState)(null),M=v()(R,2),D=M[0],A=M[1],F=Object(C.useRef)(null),B=Object(C.useRef)(null),H=Object(C.useCallback)((function(){E(void 0)}),[]),z=Object(C.useCallback)((function(){if(g){var e;r(g);var t=g.transcriptTextStartIndex.cueIndex;null===(e=window.getSelection())||void 0===e||e.empty(),b(void 0),k(Su()("Note Saved!")),o&&E(t)}}),[g,r,o]),U=Object(C.useCallback)((function(){u&&(a(u.id),l(void 0),k(Su()("Note Deleted!")))}),[u,a]),Q=Object(C.useCallback)((function(){x(!1)}),[]),q=Object(C.useCallback)((function(){x(!1);var e=window.getSelection(),t=null==e?void 0:e.toString().trim();e&&t||b(void 0)}),[]),W=Object(C.useCallback)((function(){l(null),i(null)}),[i]),K=Object(C.useCallback)((function(e){var t=e.target;B.current||(B.current=requestAnimationFrame((function(){var r=window.getSelection();if(r&&r.toString())return B.current=null,void W();var a=(null==t?void 0:t.matches("mark"))?findParentCueElement(t):null,o=a?getHighlightForCueElement(n,a):null;if(!o&&u&&D&&function(e,t,n){var i=t.transcriptTextStartIndex,r=t.transcriptTextEndIndex;if(!i||!r)return!1;var a=findCueMarkWithIndex(i.cueIndex),o=findCueMarkWithIndex(r.cueIndex);if(!a||!o)return!1;var c=a.getBoundingClientRect(),s=o.getBoundingClientRect(),u=n.getBoundingClientRect(),l=u.left+50,d=u.right-250,p=Math.min(c.top,s.top)-50,g=Math.max(c.bottom,s.bottom);return e.clientX>=l&&e.clientX<=d&&e.clientY>=p&&e.clientY<=g}(e,u,D))B.current=null;else{if(!o)return B.current=null,void W();l(o),i(o),B.current=null}})))}),[i,u,W,D,n]),Z=Object(C.useCallback)((function(e){if("Tab"===e.key&&x(!0),e.metaKey||e.ctrlKey||e.ctrlKey&&e.altKey)switch(e.key){case"s":e.preventDefault(),z();break;case"d":e.preventDefault(),U()}}),[z,U]),G=Object(C.useCallback)((function(e){var t=HotkeyUtils_getModifierKeyForPlatform(),i=findParentCueElement(e),r=i?getHighlightForCueElement(n,i):null;r&&(l(r),k(Su()("Previously saved note: #{highlightedText}. Press [#{modifierKey} + D] to delete the note",{highlightedText:r.transcriptText,modifierKey:t})))}),[n]),J=Object(C.useCallback)((function(){F.current&&cancelAnimationFrame(F.current),F.current=window.requestAnimationFrame((function(){F.current=null;var e=getTranscriptSelection(),t=HotkeyUtils_getModifierKeyForPlatform(),n=window.getSelection();if(b(e),N(isSelectionDirectionReversed()),n){var i=Array.from(document.getElementsByTagName("mark")).filter((function(e){return n.containsNode(e,!0)}))[0];i?G(i):(W(),k(Su()("#{selectedText}: Added to Selection. Press [#{modifierKey} + S] to save as a note",{selectedText:n&&n.toString(),modifierKey:t})))}}))}),[G,W]);Object(C.useEffect)((function(){return document.addEventListener("selectionchange",J),D&&(D.addEventListener("mousedown",Q),D.addEventListener("mouseup",q),D.addEventListener("mousemove",K),D.addEventListener("keydown",Z)),function(){document.removeEventListener("selectionchange",J),D&&(D.removeEventListener("mousedown",Q),D.removeEventListener("mouseup",q),D.removeEventListener("mousemove",K),D.removeEventListener("keydown",Z))}}),[J,Q,q,K,Z,D]),Object(C.useEffect)((function(){return function(){F.current&&(cancelAnimationFrame(F.current),F.current=null),B.current&&(cancelAnimationFrame(B.current),B.current=null)}}),[]);var Y=Object($a.f)({placement:L?"top-start":"bottom-end",strategy:"absolute",middleware:[Object(eo.e)(8)],whileElementsMounted:to.c}),X=Y.x,ee=Y.y,te=Y.refs,ne=te.setFloating,ie=te.setPositionReference;Object(C.useEffect)((function(){if(g){var e=window.getSelection();if(!e||e.rangeCount<=0)ie(null);else{var t=e.getRangeAt(0);!function(e){return e.getClientRects().length>1}(t)?ie(t):ie(function(e){return{getBoundingClientRect:function(){var t=document.createRange();isSelectionDirectionReversed()?t.setStart(e.startContainer,e.startOffset):t.setStart(e.endContainer,e.endOffset),t.collapse(!0);var n=t.getBoundingClientRect();return new DOMRect(n.x,n.y,n.width,n.height)}}}(t))}}else ie(null)}),[g,ie]);var re=HotkeyUtils_getModifierKeyForPlatform();return Object(y.d)("div",{className:"rc-TranscriptHighlighter",ref:A,css:Ku.root},g&&!u&&Object(y.d)(qu,{ref:ne,onSave:z,showKeyboardControls:w,style:{top:ee,left:X},css:Ku.button}),u&&Object(y.d)(components_RemoveTranscriptHighlight,{targetedHighlight:u,onRemove:U,showKeyboardControls:w}),o&&Object(y.d)(components_SaveHighlightConfirmationPopup,{cueIndex:I,onTimeoutReached:H}),Object(y.d)(Cs.a,{component:"p",className:"rc-A11yScreenReaderOnly"},Su()("You may navigate through the transcript using tab. To save a note for a section of text press #{modifierKey} + S. To expand your selection you may use #{modifierKey} + arrow key. You may contract your selection using shift + #{modifierKey} + arrow key. For screen readers that are incompatible with using arrow keys for shortcuts, you can replace them with the H J K L keys. Some screen readers may require using #{modifierKey} in conjunction with the alt key",{modifierKey:re})),t,Object(y.d)(Wu,{announcementText:h}))},languageUtils_getLanguageAttributes=function(e){var t=Object(Hn.toLanguageCode)(e.languageCode);return function(e){return Object(Hn.toLanguageCode)(Su.a.getLocale())!==e}(t)?{lang:t,dir:function(e){return Object(Hn.isRightToLeft)(e)?"rtl":void 0}(t)}:{}},Zu=t("M743"),InteractiveTranscript_InteractiveTranscript=function(e){var t=e.time,n=e.track,i=e.highlights,r=e.onTimeChange,a=e.onRemoveHighlight,c=e.onSaveHighlight,s=e.handlePausePlayer,u=e.disableHighlighting,l=e.showSaveConfirmations,d=e.shouldDisableSkippingForward,p=e.trimmedStartTimeSeconds,g=e.trimmedEndTimeSeconds,b=e.heading,m=void 0===b?"h2":b,f=C.useState(n&&n.cues||[]),h=v()(f,2),y=h[0],k=h[1],O=C.useState(!0),j=v()(O,2),w=j[0],x=j[1],S=C.useState(null),T=v()(S,2),I=T[0],E=T[1],P=C.useState(null),V=v()(P,2),L=V[0],N=V[1],R=C.useState(!1),M=v()(R,2),D=M[0],A=M[1],F=Object(C.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=L===e,i=!t||t&&!n;d||(i?(r(e.startTime+.01),N(e)):(s(),N(null)))}),[L,d,r,s]),B=Object(C.useCallback)((function(e){e!==I&&E(e||null)}),[I]),H=Object(C.useCallback)((function(e){"Escape"===e.key&&A((function(e){return!e}))}),[]);Object(C.useEffect)((function(){n&&!n.error&&(x(!0),TrackUtils_loadTrack(n,p,g).then((function(){n&&n.cues&&(x(!1),k(n.cues))})).done())}),[n,p,g]);var z=w&&(!n||!n.isLoaded),U=!u&&Object(Zu.a)(),Q=Object(C.useMemo)((function(){return Object(ws.a)(y,n.languageCode)}),[y,n.languageCode]),q=Object(C.useMemo)((function(){return Object(ws.b)(y,t)}),[y,t]);if(!n)return null;var W=!z&&y&&y.length>0;return(C.createElement("div",o()({onKeyDown:H},languageUtils_getLanguageAttributes(n)),z&&(Qu||(Qu=C.createElement(qo.a,{"data-testid":"load"}))),C.createElement(Cs.a,{component:m,className:"rc-A11yScreenReaderOnly"},D?Su()("Basic Transcript - Enable interactive transcript mode by pressing the escape key"):Su()("Interactive Transcript - Enable basic transcript mode by pressing the escape key")),W&&U&&C.createElement(components_TranscriptHighlighter,{highlights:i,onSave:c,onRemove:a,onSelect:B,showSaveConfirmations:l},C.createElement(Mu,{track:n,highlights:i,activeCue:q,onCueClick:F,targetedHighlight:I,paragraphs:Q,renderPlainText:D,shouldDisableSkippingForward:d})),W&&!U&&C.createElement(Mu,{track:n,highlights:i,activeCue:q,targetedHighlight:null,onCueClick:F,paragraphs:Q,renderPlainText:D,shouldDisableSkippingForward:d})))},InteractiveTranscript_InteractiveTranscriptWithContext=function(e){var t=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext().shouldDisableSkippingForward,n=VideoTrimmingContext_useVideoTrimmingContext(),i=n.trimmedStartTimeSeconds,r=n.trimmedEndTimeSeconds;return C.createElement(InteractiveTranscript_InteractiveTranscript,o()({},e,{shouldDisableSkippingForward:t,trimmedStartTimeSeconds:i,trimmedEndTimeSeconds:r}))};InteractiveTranscript_InteractiveTranscriptWithContext.defaultProps={highlights:[],onSaveHighlight:function(){},onRemoveHighlight:function(){},handlePausePlayer:function(){}};var Gu,Ju,Yu,Xu,$u=InteractiveTranscript_InteractiveTranscriptWithContext,el=t("Lziu"),createSnapshot=function(e){var t=document.createElement("canvas");t.width=960,t.height=540;var n=null==e?void 0:e.el().querySelector("video"),i=t.getContext("2d");return i&&n&&i.drawImage(n,0,0,t.width,t.height),t.toDataURL("image/jpeg")},highlightUtils_generateHighlightFromTranscriptSelection=function(e,t,n){var i=e.transcriptTextStartIndex,r=e.transcriptTextEndIndex,a=t.cues.filter((function(e){return e.index>=i.cueIndex&&e.index<=r.cueIndex})),o=a.reduce((function(e,t){var n=t.index,a=t.text,o=i.cueIndex,c=i.textIndex,s=r.cueIndex,u=r.textIndex;if(n===o){var l=n===s?u+1:a.length;e.push(a.substring(c,l))}else n===s?e.push(a.substring(0,u+1)):e.push(a);return e}),[]).join(" "),c=Object(el.a)(),s=c,u=a[0],l=a[a.length-1].endTime,d=u.startTime,p=u.startTime,g=t.languageCode,v={id:c,clientId:s,captureTs:d,noteStartTs:p,noteEndTs:l,transcriptText:o,noteText:"",languageCode:g,transcriptTextStartIndex:i,transcriptTextEndIndex:r,pendingCreate:!0,pendingUpdate:!1};if(!n)return Promise.resolve(v);var b=n.currentTime();if(b===p)return v.snapshotDataUrl=createSnapshot(n),Promise.resolve(v);var m=n.paused();return new Promise((function(e){var t=null,onSeeked=function(){v.snapshotDataUrl=createSnapshot(n),n.currentTime(b),m||setTimeout((function(){return n.play()}),0),t&&clearTimeout(t),e(v)};n.one("seeked",onSeeked),m||n.pause(),n.currentTime(p),t=window.setTimeout((function(){v.snapshotDataUrl=createSnapshot(n),n.off("seeked",onSeeked),n.currentTime(b),m||n.play(),e(v)}),200)}))},cds_VideoJsTranscriptContainer=function(e){var t=e.player,n=e.selectedTrack,i=e.highlights,r=e.heading,a=e.onRemoveHighlight,o=e.onSaveHighlight,c=Object(C.useState)(0),u=v()(c,2),d=u[0],p=u[1],g=Object(We.e)(),b=VideoHighlightManagerProvider_useVideoHighlightingManagerContext().setPreview;Object(C.useEffect)((function(){var handleTimeUpdate=function(){var e;return p(null!==(e=null==t?void 0:t.currentTime())&&void 0!==e?e:0)};return null==t||t.on("timeupdate",handleTimeUpdate),function(){null==t||t.off("timeupdate",handleTimeUpdate)}}),[t]);var m=Object(C.useCallback)(function(){var e=l()(s()().mark((function _callee(e){var i,r,a,c;return s()().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,highlightUtils_generateHighlightFromTranscriptSelection(e,n,t);case 2:(i=s.sent).snapshotDataUrl&&b(i),r=e.transcriptTextStartIndex.cueIndex,a=e.transcriptTextEndIndex.cueIndex,c=n.cues.filter((function(e){var t=e.index;return t>=r&&t<=a})),null==o||o(i),g("interact_transcript",{transcriptInteractionType:"transcript_save_note",noteCharacters:i.transcriptText.length,noteCuePoints:c.length});case 9:case"end":return s.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}(),[o,n,t,g,b]),f=Object(C.useCallback)((function(e){null==a||a(e),g("interact_transcript",{transcriptInteractionType:"transcript_delete_note"})}),[a,g]);return C.createElement($u,{time:d,track:n,highlights:i||[],onTimeChange:function(e){null==t||t.currentTime(e),null!=t&&t.paused()&&(null==t||t.play()),p(e)},onRemoveHighlight:f,onSaveHighlight:m,handlePausePlayer:function(){return null==t?void 0:t.pause()},showSaveConfirmations:!0,heading:r})},tl=t("He/R"),nl=t("fguj"),components_TrackChooser=function(e){var t=e.tracks,n=e.selectedTrack,i=e.onTrackSelect,r=(e.courseId,e.itemId,Object(We.e)());return Object(y.d)(tl.a,{"data-testid":"track-chooser-select",value:null==n?void 0:n.languageCode,onChange:function(e){var a,o=e.target.value,c=null!==(a=t.getFromLanguageCode(o))&&void 0!==a?a:n;Ce.set("language-code",o),r("click_button",{button:{name:"video_transcript_switch"},videoPlayer:{transcriptLanguage:null!=o?o:"",videoId:""}}),i&&i(c)},onOpen:function(){r("click_button",{button:{name:"video_transcript_open"}})},label:Su()("Transcript language"),labelPlacement:"integrated"},t.toArray().map((function(e){return Object(y.d)(nl.a,{key:"track-".concat(e.languageCode),value:e.languageCode,"aria-label":"".concat(Su()("Language"),", ").concat(e.label)},Object(y.d)("span",languageUtils_getLanguageAttributes(e),e.label))})))},cds_VideoTranscriptToolbar=function(e){var t=e.tracks,n=e.selectedTrack,i=e.onTrackSelected,r=e.itemId,a=e.courseId;return Object(y.d)(C.Fragment,null,Object(y.d)(components_TrackChooser,{tracks:t,selectedTrack:n,onTrackSelect:i,courseId:a,itemId:r}))},il={root:Object(y.c)(Gu||(Gu=m()(["\n    gap: var(--cds-spacing-400);\n    padding-top: var(--cds-spacing-200);\n\n    /* Using row-reverse to keep the transcript tool bar on the right side\n     * but be the first to be tabbed to make it a11y compliant */\n    flex-direction: row-reverse;\n\n    &.rc-VolunteerLink {\n      padding: var(--cds-spacing-100) 0 0;\n    }\n\n    "," {\n      flex-wrap: wrap;\n    }\n\n    "," {\n      gap: 0;\n\n      & .rc-Paragraph > button {\n        margin: 0 var(--cds-spacing-200) 0 0;\n      }\n\n      & .rc-TranscriptHighlightButton {\n        left: 0;\n      }\n    }\n  "])),U.a.up("lg"),U.a.down("md")),toolbar:Object(y.c)(Ju||(Ju=m()(["\n    margin-block: calc(var(--cds-spacing-200) * -1);\n\n    "," {\n      margin-block: unset;\n      max-width: 700px;\n    }\n  "])),U.a.down("md")),transcript:Object(y.c)(Yu||(Yu=m()(["\n    max-width: 700px;\n  "])))},TranscriptTabContent_TranscriptTabContent=function(e){var t=e.heading,n=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),i=n.tracks,r=n.selectedTrack,a=n.onTrackSelected,o=n.courseId,c=n.computedItem,s=n.videoPlayer,u=n.highlights,l=n.onSaveHighlight,d=n.onRemoveHighlight;return Object(y.d)(P.a,{container:!0,justifyContent:"center",css:il.root},i&&Object(y.d)(P.a,{item:!0,lg:2,xs:12,css:il.toolbar},Object(y.d)(cds_VideoTranscriptToolbar,{tracks:i,selectedTrack:r,onTrackSelected:a,courseId:o,itemId:null==c?void 0:c.id})),Object(y.d)(P.a,{item:!0,lg:9,xs:12,css:il.transcript},r&&Object(y.d)(cds_VideoJsTranscriptContainer,{player:s,highlights:u,selectedTrack:r,heading:t,onSaveHighlight:l,onRemoveHighlight:d})))},rl=Object(C.memo)(TranscriptTabContent_TranscriptTabContent),al=t("tzWg"),ol=t("nkpE"),cl=t("OMAK"),sl=t.n(cl);null===(Xu=j.a.addDefaults)||void 0===Xu||Xu.call(j.a,[sl.a]);var ul={get:function(e,t){return j.a.get("siteOnDemandCompletion",e,t)},preview:function(e,t,n){return j.a.preview("siteOnDemandCompletion",e,t)}},ll=Object(ge.a)("/api/onDemandLectureAssets.v1",{type:"rest"}),dl={getLectureAssets:function(e,t){var n=new Oc.a("".concat(e,"~").concat(t)).addQueryParam("includes","openCourseAssets");return ll.get(n.toString())}},pl=dl;function getLanguageCode(e){var t=e.currentTrack,n=e.primaryLanguageCodes,i=e.getSubtitlesForLanguageCode;if(t)return t.language;var r=Object(Hn.getLanguageCode)();return i(r)?r:(null==n?void 0:n[0])||"en"}var downloadsDropdownUtils_fetchLectureAssets=function(e,t){var n=Object(ge.a)("",{type:"rest"});return new Promise((function(i){pl.getLectureAssets(e,t).then((function(i){var r=i.linked["openCourseAssets.v1"];return Promise.all(r.filter((function(e){return e})).map((function(i){var r=i.typeName;if("url"===r){var a=i.definition,o=a.url,c=a.name;return Promise.resolve().then((function(){return{typeName:r,url:o,itemName:c,fileType:Je()("Link")}}))}var s=i.definition.assetId;return n.get("api/assets.v1/".concat(s),{data:{fields:"fileExtension"}}).then((function(e){var t=e.elements[0],n=t.url.url,a=t.name,o=t.fileExtension,c=i.definition.name||a;return{typeName:r,url:n,itemName:c,fileType:o}})).catch((function(n){return ue.captureException(n,{extra:{message:"Error fetching lecture asset data from assets.v1",assetId:s,courseId:e,itemId:t}}),null}))})))})).then((function(e){i(e.filter(Boolean))})).catch((function(n){ue.captureException(n,{extra:{message:"Error fetching lecture assets",courseId:e,itemId:t}}),i([])}))}))},gl=["240p","360p","540p","720p","1080p"];function getResolutionRange(e){var t=[],n=function(e){for(var t=0;t<gl.length;t+=1)if(e.getSourcesForResolution(gl[t]))return gl[t];return null}(e),i=function(e){for(var t=gl.length-1;t>=0;t-=1)if(e.getSourcesForResolution(gl[t]))return gl[t];return null}(e);return n&&t.push(n),i&&n!==i&&t.push(i),t}var vl,fileDownloadUtils_getVideoFilename=function(e,t){var n=t.name;return e||n||Je()("lecture")},fileDownloadUtils_onVideoSourceClick=function(e,t){var n=t.id;Object(al.a)(e,n,!0,!0)},fileDownloadUtils_getVideoDownloadForResolution=function(e){var t=e.fileName,n=e.resolution,i=e.href,r=e.fileExtension,a=void 0===r?"mp4":r,o=e.onClick;return{displayName:Je()("Lecture Video (#{resolution})",{resolution:n}),trackingName:"download_video",href:i,download:"".concat(t,".").concat(a),fileType:a,onClick:o}},fileDownloadUtils_getLectureDownloadLinks=function(e){var t=e.videoContent,n=e.languageCode,i=e.computedItem,r=e.assetSources,a=e.courseId,o=t&&function(e){return!Object(ol.a)(ul.get("itemVideoDownloadBlacklist"),e)}(a),c=function(e){return e.map((function(e){var t=e.itemName,n=e.url,i=e.fileType,r=e.typeName;return{displayName:t,href:n,fileType:i,assetTypeName:r,trackingName:"focused_lex_download_asset",data:{asset_type:r},download:"asset"===r?t:void 0}}))}(r);if(!o)return c;var s=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mp4",r=getResolutionRange(e),a=v()(r,2),o=a[0],c=a[1],s=[o,c],u=fileDownloadUtils_getVideoFilename(t.name,t),handleVideoSourceClick=function(){return fileDownloadUtils_onVideoSourceClick(n,t)};return s.map((function(t){var n=e.getSourcesForResolution(t),r=n&&n["video/mp4"];if(r)return fileDownloadUtils_getVideoDownloadForResolution({fileName:u,resolution:t,href:r,fileExtension:i,onClick:handleVideoSourceClick})}))}(t,i,a),u=function(e,t){var n=e.getSubtitlesUrl("subtitlesVtt",t),i=e.getSubtitlesLabel("subtitlesVtt",t);if(n)return{displayName:Je()("Subtitles (#{subtitleLanguage})",{subtitleLanguage:i}),trackingName:"focused_lex_download_subtitle",data:{languageCode:t,format:"vtt"},download:"subtitles-".concat(t,".vtt"),fileType:"WebVTT",href:n}}(t,n),l=function(e,t){var n=e.getSubtitlesUrl("subtitlesTxt",t);if(n){var i=e.getSubtitlesLabel("subtitlesTxt",t);return{href:n,download:"transcript.txt",trackingName:"focused_lex_download_transcript",data:{languageCode:t,format:"txt"},displayName:Je()("Transcript (#{subtitleLanguage})",{subtitleLanguage:i}),fileType:"txt"}}}(t,n);return[].concat(fe()(s),[u,l],fe()(c)).filter((function(e){return!!e}))},bl=t("ojHA"),toolbar_CaptureHighlightButton=function(e){var t=e.selectedTrack,n=e.videoPlayer,i=Object(C.useState)(!1),r=v()(i,2),a=r[0],o=r[1],c=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),s=c.onCapture,u=c.setPreview,l=c.selectedTab,d=c.setSelectedTab,p=Object(We.e)();Object(C.useEffect)((function(){return null==n||n.emitter.on("videoQuizView.hidden",(function(){return o(!1)})),null==n||n.emitter.on("videoQuizView.visible",(function(){return o(!0)})),function(){"function"==typeof(null==n?void 0:n.emitter.off)&&(null==n||n.emitter.off("videoQuizView.hidden",(function(){return o(!1)})),null==n||n.emitter.off("videoQuizView.visible",(function(){return o(!0)})))}}),[]);var g=Object(C.useCallback)((function(e){if(e.preventDefault(),p("click_button",{button:{name:"lecture_save_note"}}),t){var i=function(e,t){var n,i=Object(el.a)(),r=i,a=e.languageCode,o=null!==(n=null==t?void 0:t.currentTime())&&void 0!==n?n:0,c=Object(ws.d)(e.cues,o,a),s=c.reduce((function(e,t){return e.push(t.text),e}),[]).join(" "),u=c[0],l=c[c.length-1],d={textIndex:0,cueIndex:u.index},p={textIndex:l.text.length-1,cueIndex:l.index},g=l.endTime;return{id:i,clientId:r,captureTs:o,noteStartTs:u.startTime,noteEndTs:g,transcriptText:s,noteText:"",languageCode:a,transcriptTextStartIndex:d,transcriptTextEndIndex:p,snapshotDataUrl:createSnapshot(t),pendingCreate:!0,pendingUpdate:!1}}(t,n);s&&(s(i),l!==et.notes.value&&d&&d(et.notes.value)),u(i)}}),[t,n,s,p,u,l,d]);return(C.createElement("div",{className:"rc-CaptureHighlightButton"},C.createElement(V.a,{disabled:a,id:"save-note-button",variant:"ghost",iconPosition:"before",icon:vl||(vl=C.createElement(bl.a,{size:"small"})),onClick:g},Je()("Save note"))))},hooks_useDubbingTranscript=function(e){var t=e.executeAction,n=e.transcriptState,i=e.handleTrackSelected,r=e.isDubbedAudioSelected,a=Object(C.useState)({tracks:void 0,selectedTrack:void 0}),o=v()(a,2),c=o[0],s=o[1],u=r?c.tracks:n.tracks,l=r?c.selectedTrack:n.selectedTrack,d=Object(dt.b)(),g=d.shouldChangeTranscriptLanguage,b=d.setShouldChangeTranscriptLanguage,m=d.isDubbingAvailable,f=d.setShouldNudgeBeVisible,handleDubbedTrackSelected=function(e){e&&s((function(t){return p()(p()({},t),{},{selectedTrack:e})}))},y=r?handleDubbedTrackSelected:i;return Object(C.useEffect)((function(){if(g.shouldChange&&m){var e=null==u?void 0:u.getFromLanguageCode(g.languageCode);e&&(y(e),b({shouldChange:!1,languageCode:void 0}))}}),[y,u,g.shouldChange,g.languageCode,b,m,f]),Object(C.useEffect)((function(){r||f({isVisible:!0,languageCode:null==l?void 0:l.languageCode})}),[null==l?void 0:l.languageCode,r]),{dubbedTranscriptState:c,setDubbedTranscriptState:s,setDubbedInteractiveTranscript:function(e){if(e){if(h()(e.languageMap))return t(nt,!1),void s((function(e){return p()(p()({},e),{},{tracks:void 0,selectedTrack:void 0})}));var i=n.selectedTrack,r=e.languageMap,a=e.defaultLanguage,o=TrackUtils_buildTracks(r),c=TrackUtils_getDefaultTrack(o,a),u=i||c;t(nt,!0),s((function(e){return p()(p()({},e),{},{tracks:o,selectedTrack:u})}))}else s((function(e){return p()(p()({},e),{},{tracks:void 0,selectedTrack:void 0})}))},handleDubbedTrackSelected:handleDubbedTrackSelected}};function VideoIsPlayingStateProvider(e){var t=e.videoPlayer,n=e.children,i=Object(C.useState)(!1),r=v()(i,2),a=r[0],o=r[1];return Object(C.useEffect)((function(){return t&&(t.on("play",(function(){return o(!0)})),t.on("pause",(function(){return o(!1)})),t.on("ended",(function(){return o(!1)}))),function(){t&&(t.off("play",(function(){return o(!0)})),t.off("pause",(function(){return o(!1)})),t.off("ended",(function(){return o(!1)})))}}),[t]),n({isPlaying:a})}var ml,fl,hl,yl,Cl,kl,Ol,jl,wl,xl,Sl,Tl,Il,videoSettingsUtils_getStorageKey=function(){var e=z.a.get().external_id;return"itemPage_firstVideoAutoplayHasBeenSet_".concat(e)},El={titleAndSaveNoteContainer:Object(y.c)(ml||(ml=m()(["\n    margin-top: var(--cds-spacing-150);\n    background-color: var(--cds-color-neutral-background-primary);\n    z-index: 1; /* so that the video player is on top of the title and save note container */\n    & button > span {\n      white-space: nowrap;\n    }\n  "]))),iTakeSpace:function(e,t){return Object(y.c)(fl||(fl=m()(["\n    width: 100%;\n    height: 0;\n    "," {\n      /* Empty div above video that keeps the overall scroll height the same.\n      Since videoHeight already accounts for VIDEO_TOP, don't need to account for that again. */\n      height: ","px;\n    }\n  "])),U.a.up("md"),t-e)},videoPlayerRow:function(e,t){return Object(y.c)(hl||(hl=m()(["\n    border: ","px solid var(--cds-color-neutral-background-primary);\n    background-color: var(--cds-color-neutral-background-primary);\n    z-index: 2; /* This is needed so that buttons in lecture tab panels don't overlap the video when they overflow their container. */\n\n    /* Grid sets flex-basis to 100%. This causes the video to have zero height when it's not sticky. */\n    flex-basis: unset;\n\n    "," {\n      position: ",";\n      height: ","px;\n      flex-basis: 100%;\n    }\n  "])),2,U.a.up("md"),e?"sticky":"static",t)},videoPlayerRowTop:Object(y.c)(yl||(yl=m()(["\n    "," {\n      /* stick below ItemPrimaryNavigation, leaving room for the focus outline as well */\n      top: ","px;\n    }\n  "])),U.a.up("md"),76),courseFrameVideoPlayerRowTop:Object(y.c)(Cl||(Cl=m()(["\n    "," {\n      /* stick below PageHeader, leaving room for the focus outline as well */\n      top: ","px;\n    }\n  "])),U.a.up("md"),0),videoPlayerContainer:function(e){return Object(y.c)(kl||(kl=m()(["\n    width: 100%;\n    height: 100%;\n    background-color: var(--cds-color-grey-25);\n    border-radius: var(--cds-border-radius-200);\n    "," {\n      z-index: 3;\n      height: ","px;\n    }\n  "])),U.a.up("md"),e)},feedbackButtons:Object(y.c)(Ol||(Ol=m()(["\n    margin-top: var(--cds-spacing-200);\n    margin-bottom: var(--cds-spacing-200);\n  "]))),overrideItemFeedbackStyles:Object(y.c)(jl||(jl=m()(["\n    & .c-flag-categories-modal > div {\n      bottom: 0;\n    }\n  "]))),embeddedSourceAttribution:Object(y.c)(wl||(wl=m()(["\n    margin-top: var(--cds-spacing-100);\n    margin-bottom: var(--cds-spacing-200);\n  "])))},Pl=Object(y.d)("div",null,""),VideoItem_VideoItem=function(e){var t,n=e.autoplay,i=e.course,r=e.computedItem,a=e.videoContent,o=e.courseProgress,c=e.startPlaybackSeconds,u=e.videoQuizModel,d=e.isSubtitleTranslationEnabled,g=e.scrollingContainerRef,b=e.embeddedCoachEnabled,m=void 0!==b&&b,f=e.isAutoNextPaused,k=void 0!==f&&f,j=e.setIsUserReportingIssue,w=Object(C.useState)({isFullScreen:!1,visiblePlayer:!1,videoPlayer:void 0,videoRegion:void 0}),x=v()(w,2),S=x[0],T=x[1],I=Object(ae.b)(),V=I.primaryLanguageCodes,L=I.embeddedContentSourceCourseId,N=I.originalItemName,R=I.currentItemIndex,M=I.courseMaterials,F=Object(B.a)();Object(C.useEffect)((function(){zn.a.get("enableLectureEpicTest")}),[]);var K=null==M?void 0:null===(t=M.getLectureItemMetadatas())||void 0===t?void 0:t.map((function(e){return e.id})),Z=Object(H.a)(oe.a,(function(e){return{hasVideoItemProgress:K.some((function(t){return e.getItemProgress(t).isAtLeastStarted()}))}})).hasVideoItemProgress,G=Object(H.a)(ie.a,(function(e){return{courseBranchId:e.getBranchId()||i.id}})).courseBranchId,re=Object(D.b)().isCourseFrameEnabled,ce=re?0:76,se=(null==V?void 0:V[0])||"en",ue=Object(Q.a)(U.a.only("md")),le=Object(Q.a)(U.a.only("lg")),de=Object(Q.a)(U.a.only("xl")),pe=Object(Q.a)(U.a.down("sm")),ge=Object(C.useState)(!1),ve=v()(ge,2),be=ve[0],me=ve[1],fe=function(e){var t=e.isMedium,n=e.isLarge,i=e.isExtraLarge;return t?Ye:n?Xe:i?$e:Ye}({isMedium:ue,isLarge:le,isExtraLarge:de}),he=fe+68-240,Ce=Object(C.useState)(0),ke=v()(Ce,2),Oe=ke[0],je=ke[1],we=Object(C.useState)({tracks:void 0,selectedTrack:void 0}),xe=v()(we,2),Se=xe[0],Te=xe[1],Ie=Object(dt.b)(),Ee=Ie.shouldChangeTranscriptTracks,Pe=Ie.setIsDubbingAvailable,Ve=Ie.setShouldNudgeBeVisible,Le=Ie.setDefaultLanguageKey,_e=Object(C.useState)([]),Ne=v()(_e,2),Re=Ne[0],Me=Ne[1],De=Object(C.useState)(""),Ae=v()(De,2),Fe=Ae[0],Be=Ae[1],He=r.id,ze=null==g?void 0:g.current,Ue=function(e,t,n){return n?240:e>68?Math.max(240,t-(e-68)):t}(Oe,fe,be),Qe=Object(C.useCallback)((function(){if(ze){var e=ze.scrollTop;be?function(e,t,n,i){return e>t&&t<=i-n}(Oe,e,Ue,fe)&&me(!1):e>=he&&me(!0),je(e)}}),[ze,be,Oe,he,Ue,fe]);Object(C.useEffect)((function(){Le(se)}),[se,Le]),Object(C.useEffect)((function(){return ze&&ze.addEventListener("scroll",Qe),function(){null==ze||ze.removeEventListener("scroll",Qe)}}),[ze,Qe]);var qe=i.id,We=a.name,Ke=Je()("Video: #{name}",{name:We}),Ze=S.videoRegion&&S.videoPlayer,Ge={courseId:qe,userActionType:A.a.video_is_playing,itemData:{itemId:He,itemTypeName:"lecture"},courseBranchId:G};function getSubtitlesForLanguageCode(e){return a.getCaptionForLanguage(e)}var onSubtitlesChange=function(){var e;Be(getLanguageCode({currentTrack:null===(e=S.videoPlayer)||void 0===e?void 0:e.currentTrack(),primaryLanguageCodes:V,getSubtitlesForLanguageCode:getSubtitlesForLanguageCode}))};Object(C.useEffect)((function(){var e=S.videoPlayer;if(e)return e.on("subtitleschange",onSubtitlesChange),function(){var e=l()(s()().mark((function _callee(){var e;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,downloadsDropdownUtils_fetchLectureAssets(qe,He);case 2:e=t.sent,Me(e);case 4:case"end":return t.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}}()(),Be(getLanguageCode({currentTrack:e.currentTrack(),primaryLanguageCodes:V,getSubtitlesForLanguageCode:getSubtitlesForLanguageCode})),function(){e.off("subtitleschange",onSubtitlesChange)}}),[a,S.videoPlayer]);var et,tt=Object(C.useMemo)((function(){return fileDownloadUtils_getLectureDownloadLinks({videoContent:a,languageCode:Fe,computedItem:r,assetSources:Re,courseId:qe})}),[a,Fe,r,Re,qe]),handleTrackSelected=function(e){e&&(Te((function(t){return p()(p()({},t),{},{selectedTrack:e})})),Ve({isVisible:!0,languageCode:e.languageCode}))},it=hooks_useDubbingTranscript({executeAction:F,transcriptState:Se,handleTrackSelected:handleTrackSelected,isDubbedAudioSelected:null==Ee?void 0:Ee.shouldChange}),rt=it.dubbedTranscriptState,at=it.setDubbedInteractiveTranscript,ot=it.handleDubbedTrackSelected,ct=Boolean(Se.tracks&&Se.selectedTrack),st=(et=videoSettingsUtils_getStorageKey(),ye.a.getItem(et,JSON.parse,void 0)),ut=!Z&&!st;Object(C.useEffect)((function(){ut&&(xi.a.set("autoplay",!0),function(){var e=videoSettingsUtils_getStorageKey();ye.a.setItem(e,!0,JSON.stringify)}())}),[st,Z,ut]),Object(C.useEffect)((function(){h()(a.dubbedSources)?Pe(!1):Pe(!0)}),[Pe,a.dubbedSources]);var lt=ChaptersProvider_useChapters(),pt=lt.areChaptersEnabled,gt=lt.chapters,vt=lt.showChaptersTab,bt=function(e,t){var n="".concat(t,"~").concat(e);return E.get("enablePodcastFeedback").includes(n)}(He,G);return Object(C.useEffect)((function(){bt&&Object(Y.a)({visitorSegmentationPendoVariable:{shouldEnablePodcastFeedbackForItem:bt}})}),[bt]),Object(y.d)(P.a,{id:"video-item-outermost-container",container:!0,direction:"column",wrap:"nowrap"},Object(y.d)("div",{css:El.iTakeSpace(Ue,fe)}),Object(y.d)(P.a,{id:"video-player-row",item:!0,container:!0,xs:12,direction:"row",css:[El.videoPlayerRow(Oe,fe),re?El.courseFrameVideoPlayerRowTop:El.videoPlayerRowTop]},Object(y.d)(P.a,{id:"video-player-container",alignContent:"flex-start",item:!0,css:El.videoPlayerContainer(Ue)},Object(y.d)(O.a,{onChange:function(e){var t;(e||S.isFullScreen)&&(t=e,T((function(e){return p()(p()({},e),{},{visiblePlayer:t})})))}},Object(y.d)(cds_VideoOrigamiRegion,{courseProgress:o,autoplay:n||ut,startPlaybackSeconds:c,videoQuizModel:u,videoContent:a,setVideoPlayer:function(e){T((function(t){return p()(p()({},t),{},{videoPlayer:e})})),e.el().focus()},setVideoRegion:function(e){T((function(t){return p()(p()({},t),{},{videoRegion:e})}))},setInteractiveTranscript:function(e){if(e){if(h()(e.languageMap))return F(nt,!1),void Te((function(e){return p()(p()({},e),{},{tracks:void 0,selectedTrack:void 0})}));var t=Se.selectedTrack,n=e.languageMap,i=e.defaultLanguage,r=TrackUtils_buildTracks(n),a=TrackUtils_getDefaultTrack(r,i),o=t||a;F(nt,!0),Te((function(e){return p()(p()({},e),{},{tracks:r,selectedTrack:o})}))}else Te((function(e){return p()(p()({},e),{},{tracks:void 0,selectedTrack:void 0})}))},setDubbedInteractiveTranscript:at,ariaLabel:Ke,visibility:S.visiblePlayer,layoutMode:pe?"fluid":"fill",autoNextCountdownSeconds:5,isAutoNextPaused:k})))),Ze&&Object(y.d)(VideoHighlightManagerProvider_VideoHighlightingManagerProvider,{itemId:He,courseId:qe,videoPlayer:S.videoPlayer,selectedTrack:null!=Ee&&Ee.shouldChange?rt.selectedTrack:Se.selectedTrack,tracks:null!=Ee&&Ee.shouldChange?rt.tracks:Se.tracks,onTrackSelected:null!=Ee&&Ee.shouldChange?ot:handleTrackSelected,computedItem:r,videoContent:a,course:i,isSubtitleTranslationEnabled:d,executeAction:F},Object(y.d)(P.a,{item:!0,container:!0,direction:"column"},Object(y.d)(P.a,{id:"video-item-title-and-save-note",container:!0,item:!0,direction:"row",xs:12,justifyContent:"space-between",alignItems:"center",css:El.titleAndSaveNoteContainer},Object(y.d)(P.a,{item:!0,"data-testid":"video-item-title-and-attribution"},Object(y.d)(q.a,{variant:"h1semibold",className:"video-name"},We,Object(y.d)(ne.a,{courseId:qe})),L&&Object(y.d)("div",{css:El.embeddedSourceAttribution},Object(y.d)(VideoItemEmbeddedSourceCourseAttribution_VideoItemEmbeddedSourceCourseAttribution,{embeddedContentSourceCourseId:L,includeCourseName:J.a.INLINE,originalName:N,trimmedAttributionProperties:{courseId:qe,itemId:He,trimRangeStart:a.trimmedStartTimeSeconds,duration:a.trimmedDurationSeconds}}))),Object(y.d)(P.a,{item:!0},ct&&Object(y.d)(toolbar_CaptureHighlightButton,{videoPlayer:S.videoPlayer,selectedTrack:Se.selectedTrack}))),Object(y.d)(VideoIsPlayingStateProvider,{videoPlayer:S.videoPlayer},(function(e){var t=e.isPlaying;return Object(y.d)(cds_VideoItemCoach,{courseId:i.id,itemId:r.id,embeddedCoachEnabled:m,isVideoPlaying:t,courseBranchId:G})})),Object(y.d)(P.a,{item:!0,xs:12},Object(y.d)(LectureTabs_LectureTabs,{isLoggedIn:Object(z.c)(),stickyTop:Ue+ce+4,transcriptTabContent:ct?Object(y.d)(rl,{heading:m?"h3":"h2"}):Pl,downloadTabContent:0===tt.length?null:Object(y.d)(tabContent_DownloadTabContent,{lectureDownloadLinks:tt}),notesTabContent:ct?xl||(xl=Object(y.d)(NotesTabContent_NotesTabContent,null)):null,chaptersTabContent:pt&&vt&&gt.length>0?Object(y.d)(tabContent_ChaptersTabContent,{trackingData:{courseBranchId:G,courseId:qe,itemId:He,itemName:r.name,orderInBranch:R},chapters:gt,player:S.videoPlayer}):null,notifyOnTabChange:function(){if(ze&&be){ze.removeEventListener("scroll",Qe);var e=he+(L?90:48)+12;ze.scrollTop=e,je(e),ze.addEventListener("scroll",Qe)}}})))),Sl||(Sl=Object(y.d)(W.a,{color:"light"})),Object(y.d)(P.a,{container:!0,css:El.feedbackButtons},Object(y.d)(P.a,{item:!0},Object(y.d)(X.a,{setIsUserReportingIssue:j,hideReportAnIssue:!0,courseId:qe,computedItem:r,itemFeedbackType:te.a,css:El.overrideItemFeedbackStyles})),Object(y.d)(P.a,{item:!0},bt?Tl||(Tl=Object(y.d)(components_PodcastFeedback,null)):Object(y.d)("div",{css:El.overrideItemFeedbackStyles},Object(y.d)(ee.a,{tooltipPlacement:"top",setIsUserReportingIssue:j,computedItem:r,itemFeedbackType:te.a,eventNameSubmit:"core_lex_report_top_issue_submit",eventNameRemove:"core_lex_report_top_issue_remove",eventNameOpen:"core_lex_report_top_issue"})),Il||(Il=Object(y.d)(cds_ReportSection,null)),Object(y.d)(VideoIsPlayingStateProvider,{videoPlayer:S.videoPlayer},(function(e){var t=e.isPlaying;return Object(y.d)(ContinuousSignalTracker,{shouldSend:t,sendSignalData:{heartbeatData:Ge}})})))))},cds_VideoItem=function(e){var t=Object(C.useState)(!1),n=v()(t,2),i=n[0],r=n[1],a=Object(G.f)({courseId:e.course.id}).showEmbeddedCoach,c=Object(G.g)(),s=Object(re.a)().expanded,u=a&&s;return Object(y.d)("div",{role:"region","aria-label":Je()("Video item")},Object(y.d)(LearningEffortFirstPlayContext_LearningEffortFirstPlayContextProvider,null,Object(y.d)(VideoTrimmingContext_VideoTrimmingContextProvider,{trimmedStartTimeSeconds:e.videoContent.trimmedStartTimeSeconds,trimmedDurationSeconds:e.videoContent.trimmedDurationSeconds},Object(y.d)(dt.a,null,Object(y.d)(ChaptersProvider_ChaptersProvider,{courseId:e.course.id,itemId:e.computedItem.id,isTrimmedVideo:e.videoContent.trimmedStartTimeSeconds>0||!!e.videoContent.trimmedDurationSeconds,itemDurationInSeconds:e.videoContent.itemMetadata.attributes.contentSummary.definition.duration/1e3,videoId:e.videoContent.videoId},Object(y.d)(VideoItem_VideoItem,o()({},e,{setIsUserReportingIssue:r,embeddedCoachEnabled:a&&!c,isAutoNextPaused:i||u})))))))},Vl=t("wig9"),Ll=t.n(Vl),_l=t("+LJP"),Nl=t("jGbM"),Rl=t("dm5P"),Ml=t("noZS"),Dl=t.n(Ml),Al=t("xkGU"),Fl=t.n(Al),Bl=t("K7Vu"),Hl=function(){function VideoContent(e){var t=e.videoId,n=e.sources,i=e.posters,r=e.subtitles,a=e.subtitlesVtt,o=e.subtitlesTxt,c=e.itemMetadata,s=e.hlsSource,u=e.disableSkippingForward,l=e.trimmedStartTimeSeconds,d=e.trimmedDurationSeconds,p=e.dubbedSources,g=e.dubbedSubtitlesVtt;this.videoId=t,this.sources=n,this.posters=i,this.subtitles=r,this.subtitlesVtt=a,this.subtitlesTxt=o,this.itemMetadata=c,this.dubbedSources=p,this.name=c.get("name"),this.disableSkippingForward=u,this.trimmedStartTimeSeconds=l,this.trimmedDurationSeconds=d,this.hlsSource=s,this.dubbedSubtitlesVtt=g}var e=VideoContent.prototype;return e.getHlsSource=function(){return this.hlsSource+"&source=web"},e.getSources=function(){return this.getSourcesForResolution(K.d.defaultNormalBandwidthVideoPlayerResolution)},e.getSourcesForResolution=function(e){return this.sources[e]},e.getPosterForResolution=function(e){return this.posters[e]},e.getCaptionForLanguage=function(e){return this.subtitles[e]},e.getSubtitlesUrl=function(e,t){var n=this[e][t];return n&&n.url},e.getSubtitlesLabel=function(e,t){var n=this[e][t];return n&&n.label},e.getTrimmedStartTime=function(){return this.trimmedStartTimeSeconds},e.getTrimmedDuration=function(){return this.trimmedDurationSeconds},VideoContent}(),zl={mp4VideoUrl:"video/mp4",webMVideoUrl:"video/webm"},video=function(e){var t=e.metadata,n=t.get("id"),i=t.get("course.id"),r=t.get("course.slug"),a=e.useFullVideoLength;return function(e){var t=e.itemId,n=e.courseId,i=e.courseSlug;return new Bl.a({itemId:t,courseId:n,courseSlug:i}).getWithCourseItemId(K.d.lectureVideosApi,{includes:["video"],fields:["onDemandVideos.v1(sources,subtitles,subtitlesVtt,subtitlesTxt,subtitlesAssetTags,dubbedSources,dubbedSubtitlesVtt)","disableSkippingForward","startMs","endMs"]}).then((function(e){var t=e.linked["onDemandVideos.v1"][0],n=e.elements[0].disableSkippingForward,i=e.elements[0].startMs,r=e.elements[0].endMs;return p()(p()({},t),{},{disableSkippingForward:n,startTimeMs:i,endTimeMs:r})}))}({itemId:n,courseId:i,courseSlug:r}).then((function(e){var n,i=Dl()(e.sources.byResolution,(function(e){var t={};return Fl()(zl,(function(n,i){i in e&&(t[n]=e[i])})),t})),r=e.dubbedSources?Object.keys(e.dubbedSources).reduce((function(t,n){return t[n]=e.dubbedSources[n].byResolution,t}),{}):{},o=e.sources.playlists.hls;return new Hl({itemMetadata:t,hlsSource:o,videoId:e.id,sources:i,dubbedSources:r||{},dubbedSubtitlesVtt:e.dubbedSubtitlesVtt?(n=e.dubbedSubtitlesVtt,Object.entries(n).reduce((function(e,t){var n=v()(t,2),i=n[0],r=n[1];return p()(p()({},e),{},Kt()({},i,{label:getSubtitleLabel(i,!1),url:r}))}),{})):{},subtitles:constructLanguageMap(e.subtitles,e.subtitlesAssetTags),subtitlesVtt:constructLanguageMap(e.subtitlesVtt,e.subtitlesAssetTags),subtitlesTxt:constructLanguageMap(e.subtitlesTxt,e.subtitlesAssetTags),posters:Dl()(e.sources.byResolution,(function(e){return e.previewImageUrl})),disableSkippingForward:e.disableSkippingForward,trimmedStartTimeSeconds:a?0:Object(Vc.a)(e.startTimeMs),trimmedDurationSeconds:a?null:Object(Vc.b)(e.startTimeMs,e.endTimeMs)})}))},Ul=t("TdzE"),Ql=t("emlC"),utils_withVideoItemData=function(){return function(e){var t=e.displayName||e.name,n=function(t){function HOC(e){var n;return(n=t.call(this,e)||this).state={videoQuizModel:null,videoContent:null},n}Mt()(HOC,t);var n=HOC.prototype;return n.componentDidMount=function(){var e=this,t=this.props.itemMetadata,n="true"===this.props.router.location.query.useFullLengthVideo,i=Ll()([video({metadata:t,useFullVideoLength:n}),Object(Rl.a)({metadata:t,authenticated:!0})]);de.a.all(i).spread((function(t,n){e.setState({videoContent:t,videoQuizModel:n||null})})).done()},n.render=function(){var t=this.props.router.location,n=this.state,i=n.videoQuizModel,r=n.videoContent;if(!r)return null;var a=t&&t.query.t?parseInt(t.query.t,10):void 0,c=!(!t||!t.query.t)||xi.a.get("autoplay");return C.createElement(e,o()({},this.props,{autoplay:c||!1,videoQuizModel:i,videoContent:r,startPlaybackSeconds:a}))},HOC}(C.Component);return n.displayName="withVideoItemData(".concat(t,")"),Object(Nl.a)(n,e),Object(i.b)(Object(_l.a)((function(e){return{router:e}})),Object(Ul.b)(),Object(Ql.a)(["ProgressStore","CourseStore"],(function(e){var t=e.ProgressStore,n=e.CourseStore,i=n.getCourseId();return{courseId:i,course:{id:i,slug:n.getCourseSlug(),name:n.getCourseName()},isSubtitleTranslationEnabled:n.isSubtitleTranslationEnabledForCourse(),courseProgress:t.courseProgress}})))(n)}};t.d(e,"VideoItemContainer",(function(){return ql}));var ql=Object(i.b)(utils_withVideoItemData(),r.b.createTrackedContainer((function(){return{namespace:{page:"focused_lex_video_item"}}})))(cds_VideoItem);ql.displayName="ComposedVideoItemWithHighlighting"},VsDl:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AiCoachPlatform_DynamicPrompts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contextType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AiCoach_ContextType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"courseId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"courseBranchId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"itemId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coachDynamicPrompts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryForDynamicPrompts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contextType"},value:{kind:"Variable",name:{kind:"Name",value:"contextType"}}},{kind:"Argument",name:{kind:"Name",value:"courseId"},value:{kind:"Variable",name:{kind:"Name",value:"courseId"}}},{kind:"Argument",name:{kind:"Name",value:"courseBranchId"},value:{kind:"Variable",name:{kind:"Name",value:"courseBranchId"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"itemId"},value:{kind:"Variable",name:{kind:"Name",value:"itemId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dynamicPrompts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"buttonLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coachAction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coachMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:460}};e.loc.source={body:"query AiCoachPlatform_DynamicPrompts(\n  $contextType: AiCoach_ContextType!\n  $courseId: ID!\n  $courseBranchId: ID!\n  $userId: ID!\n  $itemId: ID\n) {\n  coachDynamicPrompts {\n    queryForDynamicPrompts(\n      contextType: $contextType\n      courseId: $courseId\n      courseBranchId: $courseBranchId\n      userId: $userId\n      itemId: $itemId\n    ) {\n      dynamicPrompts {\n        buttonLabel\n        coachAction\n        coachMode\n        id\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.AiCoachPlatform_DynamicPrompts=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"AiCoachPlatform_DynamicPrompts")},WbuL:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AssetIdToVideoId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assetVideoQueries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getAssetVideoByVideoId"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoAssetId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoId"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:159}};e.loc.source={body:"query AssetIdToVideoId($videoId: String!) {\n  assetVideoQueries {\n    getAssetVideoByVideoId(videoId: $videoId) {\n      videoAssetId\n      videoId\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.AssetIdToVideoId=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"AssetIdToVideoId")},WkKJ:function(module,e,t){"use strict";var n=t("fsL8"),i=t.n(n),r=t("yXPU"),a=t.n(r),o=t("DzJC"),c=t.n(o),s=t("q1tI"),u=t("3tO9"),l=t.n(u),d=t("6OIj"),p=t("PKC9"),g=t("agHs"),v=t("DU3t"),b=t("80iO"),m=t("djba"),f=t("ARDt"),h=t.n(f),y={mouse_movement:v.bb.MouseMovement,key_press:v.bb.KeyPress,page_scroll:v.bb.PageScroll,video_is_playing:v.bb.VideoIsPlaying},C={lecture:v.ab.Lecture,supplement:v.ab.Reading,quiz:v.ab.Quiz,exam:v.ab.Quiz,staffGraded:v.ab.StaffGraded,phasedPeer:v.ab.PeerReview,peer:v.ab.PeerReview,teammateReview:v.ab.TeammateReview,gradedDiscussionPrompt:v.ab.DiscussionPrompt,discussionPrompt:v.ab.DiscussionPrompt};function toGraphQl(e){if(e){var t=e.itemTypeName?C[e.itemTypeName]:null;return{itemDetails:{itemId:e.itemId,learnerActivityType:t}}}return{}}var k=3,O=1500,j=500,sleepAsync=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function isGraphQLError(e){var t;return(null===(t=e.graphQLErrors)||void 0===t?void 0:t.length)>0}function logToSentry(e,t){try{g.captureException(e,{tags:{feature:"LearningHours",errorType:t}})}catch(t){console.error("[Learning Hours]: Unable to capture this exception in Sentry",{error:e})}}t.d(e,"a",(function(){return w})),t.d(e,"b",(function(){return useSendSignal})),t.d(e,"c",(function(){return learningHoursSignalsUtil_useSendThrottledSignal}));var w=3e4;function useSendSignal(){var e=function(){var e={mutation:h.a,context:{clientName:"gatewayGql"}},t=Object(d.a)();function sendEventMutation(e,t,n){return _sendEventMutation.apply(this,arguments)}function _sendEventMutation(){return(_sendEventMutation=a()(i()().mark((function _callee2(n,r,a){var o,c,s,u;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c=l()(l()({courseId:n.courseId,eventPlatform:v.Z.Web,userActionType:y[n.userActionType],durationMilliSeconds:r,eventOs:(new b.a).platform,clientDateTime:a.toISOString(),deviceId:m.a.get().uuid},toGraphQl(null==n?void 0:n.itemData)),{},{courseBranchId:n.courseBranchId}),i.next=3,t.mutate(l()({variables:{input:{heartbeat:c}}},e));case 3:return s=i.sent,u=null===(o=s.data)||void 0===o?void 0:o.LearningHours_SendEvent,i.abrupt("return","LearningHours_SendEventSuccess"===(null==u?void 0:u.__typename));case 6:case"end":return i.stop()}}),_callee2)})))).apply(this,arguments)}function sendEventMutationWithRetry(e,t,n,i){return _sendEventMutationWithRetry.apply(this,arguments)}function _sendEventMutationWithRetry(){return(_sendEventMutationWithRetry=a()(i()().mark((function _callee4(e,t,n,r){var o,c;return i()().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c=function(){return(c=a()(i()().mark((function _callee3(a){return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(r<k-1)){i.next=6;break}return i.next=3,sleepAsync(Math.pow(2,r)*O+Math.round(Math.random()*j));case 3:return i.abrupt("return",sendEventMutationWithRetry(e,t,n,r+1));case 6:return logToSentry(a,"ALL_RETRIES_FAILED"),i.abrupt("return",!1);case 8:case"end":return i.stop()}}),_callee3)})))).apply(this,arguments)},o=function(e){return c.apply(this,arguments)},s.prev=2,s.next=5,sendEventMutation(e,t,n);case 5:return s.abrupt("return",s.sent);case 8:if(s.prev=8,s.t0=s.catch(2),!Object(p.d)(s.t0)){s.next=23;break}if(u=s.t0,l=void 0,d=void 0,0!==(null===(l=u.graphQLErrors)||void 0===l?void 0:l.length)||0!==(null===(d=u.clientErrors)||void 0===d?void 0:d.length)){s.next=15;break}return s.abrupt("return",o(s.t0));case 15:if(!isGraphQLError(s.t0)){s.next=20;break}return logToSentry(s.t0,"GRAPHQL_ERROR"),s.abrupt("return",!1);case 20:return s.abrupt("return",!1);case 21:s.next=25;break;case 23:return logToSentry(s.t0,"UNEXPECTED_CLIENT_ERROR"),s.abrupt("return",!1);case 25:case"end":return s.stop()}var u,l,d}),_callee4,null,[[2,8]])})))).apply(this,arguments)}return(function(){var e=a()(i()().mark((function _callee(e,t,n){return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",sendEventMutationWithRetry(e,t,n,0));case 1:case"end":return i.stop()}}),_callee)})));return function(t,n,i){return e.apply(this,arguments)}}())}();function _sendSignal(){return(_sendSignal=a()(i()().mark((function _callee(t){var n,r;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.heartbeatData,r=new Date,i.next=4,e(n,w,r);case 4:case"end":return i.stop()}}),_callee)})))).apply(this,arguments)}return function(e){return _sendSignal.apply(this,arguments)}}var learningHoursSignalsUtil_useSendThrottledSignal=function(){var e=useSendSignal();return Object(s.useMemo)((function(){return c()(e,w)}),[])}},"d/Ev":function(module,exports){module.exports={name:"ContentInnovation",parameters:[{name:"enablePodcastFeedback",value:[]}]}},dl6a:function(module,exports,e){var t=e("jFGx"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},flsP:function(module,exports,e){var t=e("qe3q"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},iR3l:function(module,exports,e){var t=e("rO66"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},jFGx:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"kj/T":function(module,exports,e){var t=e("nzgR"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},mDxB:function(module,e,t){"use strict";t.d(e,"e",(function(){return reshapeHighlightForClient})),t.d(e,"f",(function(){return updateHighlight})),t.d(e,"b",(function(){return g})),t.d(e,"c",(function(){return deleteHighlight})),t.d(e,"a",(function(){return compareHighlightsByStartTimestamp})),t.d(e,"d",(function(){return v}));var n=t("fsL8"),i=t.n(n),r=t("yXPU"),a=t.n(r),o=t("fw5G"),c=t.n(o),s=t("v6sC"),u=t("sQ/U"),l=t("p6CZ"),d=Object(s.a)("/api/userNotes.v1",{type:"rest"}),p=function(){var e=a()(i()().mark((function _callee(e,t,n,r,a){var o,u,p,g,v;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=(new c.a).addQueryParam("action","getScreenShotUploadUrlV2").addQueryParam("courseId",e).addQueryParam("itemId",t).addQueryParam("userId",r).addQueryParam("timestamp",n),i.next=3,d.post(o.toString());case 3:return u=i.sent,p=u.split("?")[0],g=Object(l.a)(a),v=Object(s.a)(u,{type:"rest"}),i.next=9,v.put("",{contentType:"image/png",data:g,processData:!1});case 9:return i.abrupt("return",p);case 10:case"end":return i.stop()}}),_callee)})));return function(t,n,i,r,a){return e.apply(this,arguments)}}(),reshapeHighlightForClient=function(e){var t=e.id,n=e.createdAt,i=e.updatedAt,r=e.userText,a=e.shouldFocusOn,o=e.details.definition,c=o.noteEndTs,s=o.noteStartTs,u=o.captureTs,l=o.snapshotUrl,d=o.transcriptTextStartIndex,p=o.transcriptTextEndIndex,g=o.transcriptText,v=o.itemId,b=o.itemName;return{id:t,itemId:v,courseId:o.courseId,itemName:b,clientId:t,createdAt:n,updatedAt:i,languageCode:o.languageCode,noteText:r,noteEndTs:c&&c/1e3,noteStartTs:s&&s/1e3,captureTs:u&&u/1e3,snapshotUrl:l,transcriptTextStartIndex:d,transcriptTextEndIndex:p,transcriptText:g,pendingCreate:!1,pendingUpdate:!1,shouldFocusOn:a}},updateHighlight=function(e){var t=e.itemId,n=e.courseId,i=e.languageCode,r=e.id,a=e.highlight,o=new c.a(r),s=Object(l.b)({itemId:t,courseId:n,highlight:a,languageCode:i});return d.put(o.toString(),{data:s})},g=function(){var e=a()(i()().mark((function _callee2(e){var t,n,r,a,o,c,s,g,v,b,m;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=e.itemId,o=e.courseId,c=e.languageCode,s=e.highlight,g=Object(l.b)({itemId:a,courseId:o,highlight:s,languageCode:c}),v=u.a.get().id,!s.snapshotDataUrl){i.next=8;break}return i.next=6,p(o,a,g.details.definition.noteStartTs,v,s.snapshotDataUrl);case 6:b=i.sent,g.details.definition.snapshotUrl=b;case 8:return i.next=10,d.post("",{data:g});case 10:return m=i.sent,i.abrupt("return",{id:m.elements[0].id,snapshotUrl:(null===(t=m.elements[0])||void 0===t?void 0:null===(n=t.details)||void 0===n?void 0:null===(r=n.definition)||void 0===r?void 0:r.snapshotUrl)||""});case 12:case"end":return i.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),deleteHighlight=function(e){var t=e.id,n=new c.a(t);return d.delete(n.toString())},compareHighlightsByStartTimestamp=function(e,t){return e.noteStartTs<t.noteStartTs?-1:e.noteStartTs>t.noteStartTs?1:0},v=function(){var e=a()(i()().mark((function _callee3(e){var t,n,r,a,o;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.itemId,n=e.courseId,r=e.languageCode,a=(new c.a).addQueryParam("itemId",t).addQueryParam("courseId",n).addQueryParam("languageCode",r).addQueryParam("q","courseItemLanguageCode").addQueryParam("fields","id, userText, createdAt, updatedAt, details"),i.next=4,d.get(a.toString());case 4:return o=i.sent,i.abrupt("return",o.elements.map(reshapeHighlightForClient).sort(compareHighlightsByStartTimestamp));case 6:case"end":return i.stop()}}),_callee3)})));return function(t){return e.apply(this,arguments)}}()},"nQ+W":function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},nzgR:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},p6CZ:function(module,e,t){"use strict";t.d(e,"a",(function(){return getBlobFromDataURI})),t.d(e,"b",(function(){return getDraftFromHighlight}));var getBlobFromDataURI=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),a=0;a<t.length;a+=1)r[a]=t.charCodeAt(a);return new Blob([i],{type:n})},getDraftFromHighlight=function(e){var t=e.itemId,n=e.courseId,i=e.highlight,r=e.languageCode,a=i.noteStartTs,o=i.noteEndTs,c=i.captureTs,s=i.snapshotUrl,u=i.transcriptText,l=i.noteText,d=i.transcriptTextEndIndex;return{details:{typeName:"video",definition:{itemId:t,courseId:n,snapshotUrl:s||"",transcriptTextStartIndex:i.transcriptTextStartIndex,transcriptTextEndIndex:d,languageCode:r,transcriptText:u,noteEndTs:o&&1e3*o,captureTs:c&&1e3*c,noteStartTs:a&&1e3*a}},userNote:l}}},qe3q:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},rO66:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"uz":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},vbpD:function(module,e,t){"use strict";var n=t("3tO9"),i=t.n(n),r=t("J4zp"),a=t.n(r),o=t("q1tI"),c=t("Yql6"),s=t("agHs"),u=t("Awh6"),hooks_useHasDayOneOnboardingModalBeenSeen=function(){var e,t,n=Object(u.a)({eventType:"DAY_ONE_ONBOARDING_MODAL_SEEN"}),i=n.loading,r=n.error,a=n.data;return Object(o.useEffect)((function(){r&&s.captureException(r)}),[r]),{loading:i,hasBeenSeen:!!r||!(null==a||null===(e=a.LexExperimentEvents)||void 0===e||null===(t=e.queryByEventType)||void 0===t||!t.id)||!1}};t.d(e,"a",(function(){return DayOneOnboardingModalProvider_DayOneOnboardingModalProvider})),t.d(e,"b",(function(){return DayOneOnboardingModalProvider_useDayOneOnboardingModal}));var l=o.createContext({isOpen:!1,openModal:function(){},closeModal:function(){},firstItemId:void 0,courseBranchId:void 0,hasBeenSeenInPreviousSession:!1,hasBeenSeenInPreviousSessionIsLoading:!1,hasBeenSeenInThisSession:!1,hasLoadedFirstItem:!1,enableDayOneOnboardingIsLoading:!1,setEnableDayOneOnboardingIsLoading:function(){},hasMadeProgressInCourse:!1}),DayOneOnboardingModalProvider_DayOneOnboardingModalProvider=function(e){var t=e.children,n=e.courseBranchId,r=e.hasMadeProgressInCourse,s=e.nextItemId,u=hooks_useHasDayOneOnboardingModalBeenSeen(),d=u.hasBeenSeen,p=u.loading,g=Object(c.a)(),v=o.useState(!1),b=a()(v,2),m=b[0],f=b[1],h=o.useState(!1),y=a()(h,2),C=y[0],k=y[1],O=o.useState(!1),j=a()(O,2),w=j[0],x=j[1],S=o.useState(!1),T=a()(S,2),I=T[0],E=T[1],P=o.useState(void 0),V=a()(P,2),L=V[0],N=V[1],R=o.useCallback((function(e){f(!0),e&&(k(!0),N(e))}),[N,f]),M=o.useCallback((function(){f(!1),E(!0),g("close_modal",i()({modal:{name:"course_day_one_onboarding_benchmark_screen"},courseItem:{id:L}},n?{courseBranch:{id:n}}:{}))}),[f,g,L,n]);o.useEffect((function(){s&&(k(!0),N(s))}),[k,N,s]);var D=o.useCallback((function(e){d||p||I||x(e)}),[d,p,I]);return(o.createElement(l.Provider,{value:{isOpen:m,openModal:R,closeModal:M,firstItemId:L,hasBeenSeenInPreviousSession:d,hasBeenSeenInPreviousSessionIsLoading:p,hasBeenSeenInThisSession:I,courseBranchId:n,hasLoadedFirstItem:C,enableDayOneOnboardingIsLoading:w,setEnableDayOneOnboardingIsLoading:D,hasMadeProgressInCourse:r}},t))},DayOneOnboardingModalProvider_useDayOneOnboardingModal=function(){return o.useContext(l)}}}]);
//# sourceMappingURL=en.41.bf08eaee34a1c1b5b850.js.map